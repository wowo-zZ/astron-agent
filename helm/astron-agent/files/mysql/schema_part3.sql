SELECT 'astron_console DATABASE initialization started' AS '';
CREATE DATABASE IF NOT EXISTS astron_console;

USE astron_console;

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for core_system_error_code
-- ----------------------------
DROP TABLE IF EXISTS `core_system_error_code`;
CREATE TABLE `core_system_error_code`
(
    `id`         int          NOT NULL AUTO_INCREMENT,
    `error_code` int          NOT NULL,
    `error_msg`  varchar(100) NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1841 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for create_bot_context
-- ----------------------------
DROP TABLE IF EXISTS `create_bot_context`;
CREATE TABLE `create_bot_context`
(
    `chat_id`      varchar(255) NOT NULL,
    `step`         tinyint  DEFAULT NULL,
    `biz_data`     json     DEFAULT NULL,
    `create_time`  datetime DEFAULT NULL,
    `update_time`  datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `chat_history` text,
    PRIMARY KEY (`chat_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for custom_vcn
-- ----------------------------
DROP TABLE IF EXISTS `custom_vcn`;
CREATE TABLE `custom_vcn`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `uid`         bigint                                                        DEFAULT NULL,
    `name`        varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `status`      tinyint                                                       DEFAULT NULL COMMENT '0: deleted, 1: training, 2: training successful, 3: training failed, 4: training not started',
    `vcn_code`    varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Voice library VCN code',
    `try_vcn_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Voice sample audio URL',
    `task_id`     bigint                                                        DEFAULT NULL COMMENT 'Primary key ID of custom_vcn_task',
    `vcn_task_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Audio task ID',
    `sex`         tinyint                                                       DEFAULT NULL,
    `create_time` datetime                                                      DEFAULT NULL,
    `update_time` datetime                                                      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `share`       tinyint                                                       DEFAULT '0' COMMENT 'Whether from sharing: 0 no, 1 yes',
    `agent_id`    bigint                                                        DEFAULT NULL COMMENT 'Primary key ID of speaker personality table',
    PRIMARY KEY (`id`),
    KEY           `idx_agent_id` (`agent_id`),
    KEY           `idx_task_id` (`task_id`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_vcn_code` (`vcn_code`),
    KEY           `idx_vcn_task_id` (`vcn_task_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Store user-trained personalized speakers';

-- ----------------------------
-- Table structure for dataset_file
-- ----------------------------
DROP TABLE IF EXISTS `dataset_file`;
CREATE TABLE `dataset_file`
(
    `id`            bigint        NOT NULL AUTO_INCREMENT COMMENT 'File ID',
    `dataset_id`    bigint        NOT NULL COMMENT 'Dataset ID',
    `dataset_index` varchar(255)           DEFAULT NULL COMMENT 'Dataset index',
    `name`          varchar(128)  NOT NULL COMMENT 'File name',
    `doc_type`      varchar(32)   NOT NULL COMMENT 'File type',
    `doc_url`       varchar(2048) NOT NULL COMMENT 'File URL',
    `s3_url`        varchar(2048)          DEFAULT NULL COMMENT 'S3 file URL',
    `para_count`    int                    DEFAULT NULL COMMENT 'Paragraph count',
    `char_count`    int                    DEFAULT NULL COMMENT 'Character count',
    `status`        tinyint       NOT NULL DEFAULT '0' COMMENT 'Status: -1 deleted, 0 unprocessed, 1 processing, 2 completed, 3 failed',
    `create_time`   datetime               DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime               DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY             `idx_dataset_id` (`dataset_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Private dataset file table';

-- ----------------------------
-- Table structure for dataset_info
-- ----------------------------
DROP TABLE IF EXISTS `dataset_info`;
CREATE TABLE `dataset_info`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT COMMENT 'Dataset ID',
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `name`        varchar(128) NOT NULL COMMENT 'Dataset name',
    `description` varchar(256)          DEFAULT NULL COMMENT 'Dataset description',
    `file_num`    int                   DEFAULT NULL COMMENT 'File count',
    `status`      tinyint      NOT NULL DEFAULT '0' COMMENT 'Status: -1 deleted, 0 unprocessed, 1 processing, 2 completed, 3 failed',
    `create_time` datetime              DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Private dataset information table';

-- ----------------------------
-- Table structure for db_info
-- ----------------------------
DROP TABLE IF EXISTS `db_info`;
CREATE TABLE `db_info`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `app_id`       varchar(100) NOT NULL,
    `uid`          varchar(100) NOT NULL COMMENT 'User ID',
    `db_id`        bigint                DEFAULT NULL COMMENT 'Core system database primary key ID',
    `name`         varchar(100) NOT NULL COMMENT 'Database name',
    `description`  varchar(255)          DEFAULT NULL COMMENT 'Description',
    `avatar_icon`  varchar(255)          DEFAULT NULL COMMENT 'Icon',
    `avatar_color` varchar(255)          DEFAULT NULL,
    `deleted`      tinyint      NOT NULL DEFAULT '0',
    `create_time`  datetime     NOT NULL,
    `update_time`  datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `space_id`     bigint                DEFAULT NULL COMMENT 'Space ID',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Database information table';

-- ----------------------------
-- Table structure for db_table
-- ----------------------------
DROP TABLE IF EXISTS `db_table`;
CREATE TABLE `db_table`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `db_id`       bigint       NOT NULL COMMENT 'Database primary key ID',
    `name`        varchar(100) NOT NULL,
    `description` varchar(255)          DEFAULT NULL,
    `deleted`     tinyint      NOT NULL DEFAULT '0',
    `create_time` datetime     NOT NULL,
    `update_time` datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for db_table_field
-- ----------------------------
DROP TABLE IF EXISTS `db_table_field`;
CREATE TABLE `db_table_field`
(
    `id`            bigint       NOT NULL AUTO_INCREMENT,
    `tb_id`         bigint       NOT NULL COMMENT 'Table primary key ID',
    `name`          varchar(100) NOT NULL,
    `type`          varchar(100) NOT NULL,
    `description`   varchar(100)          DEFAULT NULL,
    `default_value` varchar(100)          DEFAULT NULL,
    `is_required`   tinyint      NOT NULL DEFAULT '0',
    `is_system`     tinyint      NOT NULL DEFAULT '0',
    `create_time`   datetime     NOT NULL,
    `update_time`   datetime     NOT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Table fields';

-- ----------------------------
-- Table structure for exclude_appid_flowId
-- ----------------------------
DROP TABLE IF EXISTS `exclude_appid_flowId`;
CREATE TABLE `exclude_appid_flowId`
(
    `id`      int NOT NULL AUTO_INCREMENT,
    `app_id`  varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `flow_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY       `exclude_appid_flowId_app_id_IDX` (`app_id`) USING BTREE,
    KEY       `exclude_appid_flowId_flow_id_IDX` (`flow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for extract_knowledge_task
-- ----------------------------
DROP TABLE IF EXISTS `extract_knowledge_task`;
CREATE TABLE `extract_knowledge_task`
(
    `id`          bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `file_id`     bigint       DEFAULT NULL COMMENT 'File ID',
    `task_id`     varchar(64)  DEFAULT NULL COMMENT 'Task ID',
    `status`      int          DEFAULT '0' COMMENT '0: default, 1: success, 2: failed',
    `reason`      text,
    `user_id`     varchar(128) DEFAULT NULL COMMENT 'User ID',
    `create_time` timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `task_status` int          DEFAULT NULL COMMENT 'Task execution status: 0 start parsing, 1 parsing completed, 2 start embedding, 3 embedding completed',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for feedback_info
-- ----------------------------
DROP TABLE IF EXISTS `feedback_info`;
CREATE TABLE `feedback_info`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `app_id`      varchar(255)  DEFAULT NULL,
    `sub`         varchar(255)  DEFAULT NULL,
    `uid`         varchar(128)  DEFAULT NULL,
    `chat_id`     varchar(128)  DEFAULT NULL,
    `sid`         varchar(128)  DEFAULT NULL,
    `bot_id`      varchar(128)  DEFAULT NULL,
    `flow_id`     varchar(128)  DEFAULT NULL,
    `question`    text,
    `answer`      text,
    `action`      varchar(255)  DEFAULT NULL,
    `reason`      varchar(255)  DEFAULT NULL,
    `remark`      varchar(1200) DEFAULT NULL,
    `create_time` datetime      DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `app_id` (`app_id`),
    KEY           `uid` (`uid`),
    KEY           `sid` (`sid`),
    KEY           `bot_id` (`bot_id`),
    KEY           `flow_id` (`flow_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for file_directory_tree
-- ----------------------------
DROP TABLE IF EXISTS `file_directory_tree`;
CREATE TABLE `file_directory_tree`
(
    `id`          bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key for directory',
    `name`        varchar(255) DEFAULT NULL COMMENT 'Directory name',
    `parent_id`   bigint       DEFAULT NULL COMMENT 'Parent directory ID, -1 for root directory',
    `is_file`     tinyint(1) DEFAULT '0' COMMENT 'Whether it is a file, 0 for false (default folder), 1 for true (file)',
    `app_id`      varchar(10)  DEFAULT NULL COMMENT 'Associated app ID',
    `file_id`     bigint       DEFAULT NULL COMMENT 'Associated file ID, only when is_file is 1',
    `comment`     varchar(255) DEFAULT NULL COMMENT 'Remarks, changes can be synced here',
    `create_time` timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `hit_count`   int          DEFAULT '0' COMMENT 'Hit count',
    `status`      tinyint(1) DEFAULT '0' COMMENT 'Status: 0 slice state, 1 embedding state',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for file_info
-- ----------------------------
DROP TABLE IF EXISTS `file_info`;
CREATE TABLE `file_info`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `app_id`      varchar(10)        DEFAULT NULL,
    `name`        varchar(128)       DEFAULT NULL,
    `address`     varchar(255)       DEFAULT NULL,
    `size`        bigint             DEFAULT NULL,
    `type`        varchar(64)        DEFAULT NULL,
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `source_id`   varchar(255)       DEFAULT NULL,
    `status`      int                DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for file_info_v2
-- ----------------------------
DROP TABLE IF EXISTS `file_info_v2`;
CREATE TABLE `file_info_v2`
(
    `id`                   bigint      NOT NULL AUTO_INCREMENT,
    `repo_id`              bigint      NOT NULL COMMENT 'Identifies the folder to which the file belongs',
    `uuid`                 varchar(64)          DEFAULT NULL,
    `uid`                  varchar(255)         DEFAULT NULL COMMENT 'User ID',
    `name`                 varchar(512)         DEFAULT NULL COMMENT 'File name',
    `address`              varchar(255)         DEFAULT NULL COMMENT 'File storage address',
    `size`                 bigint               DEFAULT NULL COMMENT 'File size',
    `char_count`           bigint               DEFAULT NULL COMMENT 'File character length',
    `type`                 varchar(64)          DEFAULT NULL COMMENT 'File type',
    `status`               int                  DEFAULT NULL COMMENT 'File build status: -1 uploaded, 0 parsing, 1 parse failed, 2 parse success, 3 embedding, 4 embed failed, 5 embed success',
    `enabled`              int                  DEFAULT '0' COMMENT '0: disabled, 1: enabled',
    `slice_config`         varchar(500)         DEFAULT NULL COMMENT 'Latest slice configuration',
    `current_slice_config` varchar(500)         DEFAULT NULL COMMENT 'Currently effective slice configuration',
    `pid`                  bigint               DEFAULT '-1' COMMENT 'Identifies the folder to which the file belongs',
    `reason`               text COMMENT 'Failure reason',
    `create_time`          timestamp   NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`          timestamp   NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `source`               varchar(64) NOT NULL DEFAULT 'AIUI-RAG2' COMMENT 'Data source',
    `space_id`             bigint               DEFAULT NULL COMMENT 'Team space ID',
    `last_uuid`            varchar(100)         DEFAULT NULL COMMENT 'UUID generated by CBG parsing, used for preview, updated to uuid after embedding',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for fine_tune_task
-- ----------------------------
DROP TABLE IF EXISTS `fine_tune_task`;
CREATE TABLE `fine_tune_task`
(
    `id`                    bigint   NOT NULL AUTO_INCREMENT,
    `optimize_task_id`      bigint   NOT NULL,
    `dataset_id`            bigint   NOT NULL,
    `model_id`              bigint   NOT NULL,
    `fine_tune_task_id`     bigint   NOT NULL,
    `fine_tune_task_remark` varchar(1024) DEFAULT NULL,
    `create_time`           datetime NOT NULL,
    `update_time`           datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP,
    `base_model_id`         bigint        DEFAULT NULL,
    `server_name`           varchar(255)  DEFAULT NULL,
    `optimize_node`         text,
    `status`                tinyint       DEFAULT '1',
    `server_id`             bigint        DEFAULT NULL,
    `server_status`         tinyint       DEFAULT '0',
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for flow_db_rel
-- ----------------------------
DROP TABLE IF EXISTS `flow_db_rel`;
CREATE TABLE `flow_db_rel`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `flow_id`     varchar(100) NOT NULL,
    `db_id`       varchar(100) NOT NULL,
    `tb_id`       bigint DEFAULT NULL,
    `create_time` datetime     NOT NULL,
    `update_time` datetime     NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_protocol_temp
-- ----------------------------
DROP TABLE IF EXISTS `flow_protocol_temp`;
CREATE TABLE `flow_protocol_temp`
(
    `flow_id`      varchar(255) NOT NULL,
    `created_time` datetime     NOT NULL,
    `biz_protocol` mediumtext   NOT NULL,
    `sys_protocol` mediumtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_release_aiui_info
-- ----------------------------
DROP TABLE IF EXISTS `flow_release_aiui_info`;
CREATE TABLE `flow_release_aiui_info`
(
    `id`   int unsigned NOT NULL AUTO_INCREMENT,
    `data` text NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_release_channel
-- ----------------------------
DROP TABLE IF EXISTS `flow_release_channel`;
CREATE TABLE `flow_release_channel`
(
    `flow_id`     varchar(255) NOT NULL,
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP,
    `channel`     varchar(255) NOT NULL,
    `info_id`     bigint                DEFAULT NULL,
    `status`      tinyint               DEFAULT '0' COMMENT '0=not published, 1=published',
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_repo_rel
-- ----------------------------
DROP TABLE IF EXISTS `flow_repo_rel`;
CREATE TABLE `flow_repo_rel`
(
    `flow_id`     varchar(255) NOT NULL,
    `repo_id`     varchar(255) NOT NULL,
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_tool_rel
-- ----------------------------
DROP TABLE IF EXISTS `flow_tool_rel`;
CREATE TABLE `flow_tool_rel`
(
    `flow_id`     varchar(255) NOT NULL,
    `tool_id`     varchar(255) NOT NULL,
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `version`     varchar(100)          DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for group_tag
-- ----------------------------
DROP TABLE IF EXISTS `group_tag`;
CREATE TABLE `group_tag`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128)       DEFAULT NULL COMMENT 'User ID',
    `name`        varchar(64)        DEFAULT NULL COMMENT 'Tag name',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Tag creation time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for group_user
-- ----------------------------
DROP TABLE IF EXISTS `group_user`;
CREATE TABLE `group_user`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128)       DEFAULT NULL COMMENT 'User ID',
    `user_id`     varchar(128)       DEFAULT NULL COMMENT 'Tag name',
    `tag_id`      bigint             DEFAULT NULL COMMENT 'Associated tag',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Tag creation time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for group_visibility
-- ----------------------------
DROP TABLE IF EXISTS `group_visibility`;
CREATE TABLE `group_visibility`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128)       DEFAULT NULL,
    `type`        int                DEFAULT NULL COMMENT 'Type: 1 knowledge base, 2 tools',
    `user_id`     varchar(128)       DEFAULT NULL,
    `relation_id` varchar(200)       DEFAULT NULL COMMENT 'Used to isolate tags between different entities',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `space_id`    bigint             DEFAULT NULL COMMENT 'Team space ID',
    PRIMARY KEY (`id`),
    KEY           `type_rel_idx` (`type`,`relation_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for hit_test_history
-- ----------------------------
DROP TABLE IF EXISTS `hit_test_history`;
CREATE TABLE `hit_test_history`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `user_id`     varchar(128) NOT NULL DEFAULT '-999' COMMENT 'Knowledge base ID',
    `repo_id`     bigint       NOT NULL COMMENT 'Knowledge base ID',
    `query`       text         NOT NULL COMMENT 'Query string',
    `create_time` timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for knowledge
-- ----------------------------
DROP TABLE IF EXISTS `knowledge`;
CREATE TABLE `knowledge`
(
    `id`               varchar(64) NOT NULL COMMENT 'Primary key ID',
    `file_id`          varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL COMMENT 'User ID',
    `content`          text,
    `char_count`       varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `name`             varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `description`      varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `enabled`          bit(1)                                                        DEFAULT b'0',
    `source`           bit(1)                                                        DEFAULT b'1',
    `test_hit_count`   bigint                                                        DEFAULT NULL,
    `dialog_hit_count` bigint                                                        DEFAULT NULL,
    `core_repo_name`   text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
    `deleted`          bit(1)      NOT NULL                                          DEFAULT b'0',
    `created_at`       datetime    NOT NULL,
    `updated_at`       datetime                                                      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY                `flow_id` (`char_count`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for maas_template
-- ----------------------------
DROP TABLE IF EXISTS `maas_template`;
CREATE TABLE `maas_template`
(
    `id`             bigint   NOT NULL AUTO_INCREMENT,
    `core_abilities` json                                                           DEFAULT NULL,
    `core_scenarios` json                                                           DEFAULT NULL,
    `is_act`         tinyint                                                        DEFAULT NULL,
    `maas_id`        bigint                                                         DEFAULT NULL,
    `subtitle`       varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `title`          varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `bot_id`         int                                                            DEFAULT NULL,
    `cover_url`      varchar(2048) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `group_id`       bigint                                                         DEFAULT NULL,
    `order_index`    int                                                            DEFAULT NULL,
    `create_time`    datetime NOT NULL                                              DEFAULT CURRENT_TIMESTAMP,
    `update_time`    datetime NOT NULL                                              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow assistant template configuration';

-- ----------------------------
-- Table structure for mcp_data
-- ----------------------------
DROP TABLE IF EXISTS `mcp_data`;
CREATE TABLE `mcp_data`
(
    `id`           bigint                                                        NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `bot_id`       bigint                                                        NOT NULL COMMENT 'Agent ID',
    `uid`          bigint                                                        NOT NULL COMMENT 'User ID',
    `space_id`     bigint                                                                 DEFAULT NULL COMMENT 'Space ID, NULL for personal agents',
    `server_name`  varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'MCP server name',
    `description`  text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT 'MCP server description',
    `content`      longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT 'MCP server content configuration',
    `icon`         varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci         DEFAULT NULL COMMENT 'MCP server icon URL',
    `server_url`   varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci         DEFAULT NULL COMMENT 'MCP server address',
    `args`         json                                                                   DEFAULT NULL COMMENT 'MCP service parameter configuration, stored in JSON format',
    `version_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT NULL COMMENT 'Associated agent version name',
    `released`     tinyint                                                       NOT NULL DEFAULT '1' COMMENT 'Release status: 0=not published, 1=published',
    `is_delete`    tinyint                                                       NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 0=not deleted, 1=deleted',
    `create_time`  datetime                                                      NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime                                                      NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_bot_id_version` (`bot_id`,`version_name`),
    KEY            `idx_uid` (`uid`),
    KEY            `idx_space_id` (`space_id`),
    KEY            `idx_bot_id` (`bot_id`),
    KEY            `idx_released` (`released`),
    KEY            `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='MCP data table';

-- ----------------------------
-- Table structure for mcp_tool_config
-- ----------------------------
DROP TABLE IF EXISTS `mcp_tool_config`;
CREATE TABLE `mcp_tool_config`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `mcp_id`      varchar(255)          DEFAULT NULL COMMENT 'mcp id',
    `server_id`   varchar(255)          DEFAULT NULL COMMENT 'ID returned by link',
    `sort_link`   varchar(1024)         DEFAULT NULL COMMENT 'Short link',
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `type`        varchar(255)          DEFAULT NULL COMMENT 'MCP tool type',
    `content`     text COMMENT 'Details',
    `is_deleted`  bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    `create_time` datetime              DEFAULT NULL,
    `update_time` datetime              DEFAULT NULL,
    `parameters`  text COMMENT 'History parameters',
    `customize`   bit(1)                DEFAULT NULL COMMENT 'Whether custom parameters exist',
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model
-- ----------------------------
DROP TABLE IF EXISTS `model`;
CREATE TABLE `model`
(
    `id`                bigint       NOT NULL AUTO_INCREMENT COMMENT 'Shelf model ID',
    `name`              varchar(255)          DEFAULT NULL COMMENT 'Model name',
    `desc`              varchar(1024)         DEFAULT NULL COMMENT 'Model description, text description below model plaza card and name',
    `source`            int                   DEFAULT NULL COMMENT 'Model source: 1 self-developed, 2 open source, 3 third party',
    `uid`               varchar(128) NOT NULL COMMENT 'User ID',
    `type`              int                   DEFAULT NULL COMMENT 'Model type: 1 text interaction, 2 voice, 3 interaction, 4 multimodal',
    `url`               varchar(255)          DEFAULT NULL COMMENT 'Model call address',
    `domain`            varchar(100)          DEFAULT NULL COMMENT 'model',
    `api_key`           varchar(255)          DEFAULT NULL,
    `sub_type`          bigint                DEFAULT NULL COMMENT 'Model subtype: 1 image generation, 2 image understanding, 3 super-human synthesis, 4 image classification',
    `content`           text COMMENT 'Model details text',
    `is_deleted`        bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    `image_url`         varchar(255)          DEFAULT NULL,
    `doc_url`           varchar(255)          DEFAULT NULL,
    `remark`            varchar(255)          DEFAULT NULL,
    `sort`              int                   DEFAULT '0' COMMENT 'Sort order',
    `channel`           varchar(255)          DEFAULT '0' COMMENT 'Model channel',
    `tag`               varchar(255)          DEFAULT NULL COMMENT 'Tag',
    `color`             varchar(100)          DEFAULT NULL COMMENT 'Color',
    `create_time`       datetime              DEFAULT NULL,
    `update_time`       datetime              DEFAULT NULL,
    `config`            text COMMENT 'Model configuration',
    `space_id`          bigint                DEFAULT NULL COMMENT 'Space ID',
    `enable`            bit(1)                DEFAULT b'1' COMMENT 'Whether enabled',
    `status`            int                   DEFAULT NULL,
    `accelerator_count` int                   DEFAULT NULL COMMENT 'Performance configuration',
    `replica_count`     int                   DEFAULT NULL COMMENT 'Replica configuration',
    `model_path`        varchar(100)          DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model_category
-- ----------------------------
DROP TABLE IF EXISTS `model_category`;
CREATE TABLE `model_category`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `pid`         bigint       NOT NULL,
    `key`         varchar(100) NOT NULL DEFAULT '',
    `name`        varchar(255) NOT NULL,
    `is_delete`   tinyint unsigned NOT NULL DEFAULT '0',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `sort_order`  int          NOT NULL DEFAULT '0' COMMENT 'Sort order',
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `idx_key_pid_delete` (`key`,`pid`,`is_delete`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model_category_rel
-- ----------------------------
DROP TABLE IF EXISTS `model_category_rel`;
CREATE TABLE `model_category_rel`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `model_id`    bigint   NOT NULL,
    `category_id` bigint   NOT NULL,
    `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_model_id_category_id` (`model_id`,`category_id`),
    KEY           `idx_category` (`category_id`),
    KEY           `idx_model` (`model_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for model_common
-- ----------------------------
DROP TABLE IF EXISTS `model_common`;
CREATE TABLE `model_common`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT,
    `name`           varchar(128) NOT NULL DEFAULT '',
    `desc`           varchar(500)          DEFAULT NULL COMMENT 'Description',
    `intro`          varchar(255) NOT NULL DEFAULT '' COMMENT 'Introduction',
    `user_name`      varchar(64)  NOT NULL DEFAULT '' COMMENT 'User name',
    `user_avatar`    varchar(255) NOT NULL DEFAULT '' COMMENT 'User avatar',
    `service_id`     varchar(128) NOT NULL DEFAULT '',
    `server_id`      varchar(128) NOT NULL DEFAULT '',
    `domain`         varchar(128) NOT NULL DEFAULT '',
    `lic_channel`    varchar(128) NOT NULL DEFAULT '',
    `llm_source`     varchar(128) NOT NULL DEFAULT '',
    `url`            varchar(128) NOT NULL DEFAULT '',
    `model_type`     tinyint      NOT NULL DEFAULT '0',
    `type`           tinyint      NOT NULL DEFAULT '0',
    `source`         tinyint      NOT NULL DEFAULT '0',
    `is_think`       tinyint      NOT NULL DEFAULT '0',
    `multi_mode`     tinyint      NOT NULL DEFAULT '0',
    `is_delete`      tinyint      NOT NULL DEFAULT '0',
    `create_by`      bigint       NOT NULL DEFAULT '0',
    `create_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_by`      bigint       NOT NULL DEFAULT '0',
    `update_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `uid`            varchar(128)          DEFAULT NULL COMMENT 'User control ID',
    `disclaimer`     varchar(2048)         DEFAULT '' COMMENT 'Disclaimer',
    `config`         text COMMENT 'Model configuration information',
    `shelf_status`   int                   DEFAULT '0' COMMENT 'Shelf status: 0 on shelf, 1 pending removal, 2 removed',
    `shelf_off_time` datetime              DEFAULT NULL COMMENT 'Removal time',
    `http_url`       varchar(100)          DEFAULT NULL COMMENT 'HTTP address',
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model_custom_category
-- ----------------------------
DROP TABLE IF EXISTS `model_custom_category`;
CREATE TABLE `model_custom_category`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `owner_uid`    varchar(128) NOT NULL COMMENT 'Creator',
    `key`          varchar(100) NOT NULL DEFAULT '' COMMENT 'model_category / scene',
    `name`         varchar(255) NOT NULL,
    `pid`          bigint                DEFAULT NULL COMMENT 'Optional: attach to an official node',
    `normalized`   varchar(255) GENERATED ALWAYS AS (lower(trim(`name`))) VIRTUAL,
    `audit_status` tinyint unsigned NOT NULL DEFAULT '1' COMMENT '1=effective, 0=blocked, 2=pending review',
    `is_delete`    tinyint unsigned NOT NULL DEFAULT '0',
    `create_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY            `idx_key_status` (`key`,`audit_status`),
    KEY            `idx_owner` (`owner_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for model_custom_category_rel
-- ----------------------------
DROP TABLE IF EXISTS `model_custom_category_rel`;
CREATE TABLE `model_custom_category_rel`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `model_id`    bigint   NOT NULL,
    `custom_id`   bigint   NOT NULL,
    `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_model_custom` (`model_id`,`custom_id`),
    KEY           `idx_custom` (`custom_id`),
    CONSTRAINT `fk_rel_custom` FOREIGN KEY (`custom_id`) REFERENCES `model_custom_category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for model_list_config
-- ----------------------------
DROP TABLE IF EXISTS `model_list_config`;
CREATE TABLE `model_list_config`
(
    `id`            int unsigned NOT NULL AUTO_INCREMENT,
    `create_time`   timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `node_type`     varchar(255)       DEFAULT NULL,
    `name`          varchar(255)       DEFAULT NULL,
    `description`   varchar(255)       DEFAULT NULL,
    `tag`           varchar(255)       DEFAULT NULL,
    `deleted`       bit(1)             DEFAULT b'0',
    `base_model_id` bigint             DEFAULT NULL,
    `recommended`   bit(1)             DEFAULT b'0',
    `domain`        varchar(255)       DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for node_info
-- ----------------------------
DROP TABLE IF EXISTS `node_info`;
CREATE TABLE `node_info`
(
    `id`                   bigint NOT NULL AUTO_INCREMENT,
    `app_id`               varchar(255) DEFAULT NULL,
    `bot_id`               varchar(255) DEFAULT NULL,
    `flow_id`              varchar(255) DEFAULT NULL,
    `sub`                  varchar(255) DEFAULT NULL,
    `caller`               varchar(255) DEFAULT NULL,
    `sid`                  varchar(255) DEFAULT NULL,
    `node_id`              varchar(255) DEFAULT NULL,
    `node_name`            varchar(255) DEFAULT NULL,
    `node_type`            varchar(255) DEFAULT NULL,
    `running_status`       bit(1)       DEFAULT NULL COMMENT 'Node running status',
    `node_input`           text COMMENT 'Input',
    `node_output`          text COMMENT 'Output',
    `config`               text COMMENT 'Node configuration information',
    `llm_output`           text COMMENT 'Large model output',
    `domain`               varchar(255) DEFAULT NULL,
    `cost_time`            int          DEFAULT NULL COMMENT 'Cost time',
    `first_cost_time`      int          DEFAULT NULL COMMENT 'First frame cost time',
    `node_first_cost_time` float        DEFAULT NULL COMMENT 'Node execution first frame cost time',
    `next_log_ids`         text COMMENT 'Next execution node running ID',
    `token`                int          DEFAULT NULL COMMENT 'Token consumption',
    `create_time`          datetime     DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY                    `app_id` (`app_id`),
    KEY                    `bot_id` (`bot_id`),
    KEY                    `flow_id` (`flow_id`),
    KEY                    `sid` (`sid`),
    KEY                    `node_id` (`node_id`),
    KEY                    `domain` (`domain`),
    KEY                    `create_time` (`create_time`),
    KEY                    `token` (`token`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for notifications
-- ----------------------------
DROP TABLE IF EXISTS `notifications`;
CREATE TABLE `notifications`
(
    `id`            bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-increment ID',
    `type`          varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  NOT NULL COMMENT 'Message type (personal, broadcast, system, promotion)',
    `title`         varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Message title',
    `body`          text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT 'Message body',
    `template_code` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL COMMENT 'Template code for special rendering on client side',
    `payload`       json                                                          DEFAULT NULL COMMENT 'Message payload, JSON format, carries additional business data',
    `creator_uid`   varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Creator ID, e.g. system administrator',
    `created_at`    datetime(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT 'Creation time',
    `expire_at`     datetime(3) DEFAULT NULL COMMENT 'Expiration time, can be used for automatic cleanup tasks',
    `meta`          json                                                          DEFAULT NULL COMMENT 'Metadata, JSON format, stores other additional information',
    PRIMARY KEY (`id`),
    KEY             `idx_type_created` (`type`,`created_at` DESC),
    KEY             `idx_expire` (`expire_at`),
    KEY             `idx_creator` (`creator_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='General message table';

-- ----------------------------
-- Table structure for preview_knowledge
-- ----------------------------
DROP TABLE IF EXISTS `preview_knowledge`;
CREATE TABLE `preview_knowledge`
(
    `id`         varchar(64) NOT NULL COMMENT 'Primary key ID',
    `file_id`    varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL COMMENT 'User ID',
    `content`    text,
    `char_count` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `deleted`    bit(1)      NOT NULL                                          DEFAULT b'0',
    `created_at` datetime    NOT NULL,
    `updated_at` datetime                                                      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY          `flow_id` (`char_count`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for prompt_template
-- ----------------------------
DROP TABLE IF EXISTS `prompt_template`;
CREATE TABLE `prompt_template`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `uid`              varchar(128) NOT NULL COMMENT 'User ID, empty for official',
    `name`             varchar(255)          DEFAULT NULL COMMENT 'Name',
    `description`      text COMMENT 'Description',
    `deleted`          bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted',
    `prompt`           text COMMENT 'Role setting',
    `created_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_time`     datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `node_category`    int                   DEFAULT NULL COMMENT 'Node category: 1: agent node',
    `adaptation_model` text COMMENT 'Adaptation model, 1: deepseek v3',
    `max_loop_count`   bigint                DEFAULT NULL COMMENT 'Maximum loop count',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for prompt_template_en
-- ----------------------------
DROP TABLE IF EXISTS `prompt_template_en`;
CREATE TABLE `prompt_template_en`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `uid`              varchar(128) NOT NULL COMMENT 'User ID, empty for official',
    `name`             varchar(255)          DEFAULT NULL COMMENT 'Name',
    `description`      text COMMENT 'Description',
    `deleted`          bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted',
    `prompt`           text COMMENT 'Role setting',
    `created_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_time`     datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `node_category`    int                   DEFAULT NULL COMMENT 'Node category: 1: agent node',
    `adaptation_model` text COMMENT 'Adaptation model, 1: deepseek v3',
    `max_loop_count`   bigint                DEFAULT NULL COMMENT 'Maximum loop count',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for repo
-- ----------------------------
DROP TABLE IF EXISTS `repo`;
CREATE TABLE `repo`
(
    `id`             bigint      NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `name`           varchar(64)          DEFAULT NULL COMMENT 'Robot name',
    `user_id`        varchar(128)         DEFAULT NULL,
    `app_id`         varchar(20)          DEFAULT NULL,
    `outer_repo_id`  varchar(50)          DEFAULT NULL,
    `core_repo_id`   varchar(50)          DEFAULT NULL,
    `description`    varchar(255)         DEFAULT NULL COMMENT 'Description',
    `icon`           varchar(255)         DEFAULT NULL COMMENT 'Avatar icon',
    `color`          varchar(10)          DEFAULT NULL,
    `status`         int                  DEFAULT '0' COMMENT '1: Created 2: Published 3: Offline 4: Deleted',
    `embedded_model` varchar(20)          DEFAULT NULL COMMENT 'Embedded model',
    `index_type`     int                  DEFAULT NULL COMMENT 'Index method 0: High quality 1: Low quality',
    `visibility`     int                  DEFAULT '0' COMMENT 'Visibility 0: Only visible to self 1: Visible to some users',
    `source`         int                  DEFAULT '0' COMMENT 'Source 0: Web created 1: API created',
    `enable_audit`   tinyint(1) DEFAULT '0' COMMENT 'Whether to enable content review 0: Disable 1: Enable (default)',
    `deleted`        tinyint(1) DEFAULT '0' COMMENT 'Whether deleted: 1-Deleted, 0-Not deleted',
    `create_time`    timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`    timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `is_top`         bit(1)               DEFAULT b'0',
    `tag`            varchar(64) NOT NULL DEFAULT 'CBG-RAG' COMMENT 'Knowledge base type tag, CBG-RAG: CBG knowledge base, AIUI-RAG2: AIUI knowledge base',
    `space_id`       bigint               DEFAULT NULL COMMENT 'Team space ID',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for req_knowledge_records
-- ----------------------------
DROP TABLE IF EXISTS `req_knowledge_records`;
CREATE TABLE `req_knowledge_records`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) DEFAULT NULL,
    `req_id`      bigint        DEFAULT NULL COMMENT 'Primary key of user question, corresponding to primary key ID of user question table',
    `req_message` varchar(8000) DEFAULT NULL COMMENT 'User question content',
    `knowledge`   varchar(4096) DEFAULT NULL COMMENT 'Retrieved knowledge',
    `create_time` datetime      DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `chat_id`     bigint        DEFAULT NULL COMMENT 'Chat window ID, chat_list primary key',
    PRIMARY KEY (`id`),
    KEY           `idx_uid_req` (`uid`,`req_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Knowledge retrieval result record table';

-- ----------------------------
-- Table structure for rpa_info
-- ----------------------------
DROP TABLE IF EXISTS `rpa_info`;
CREATE TABLE `rpa_info` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
  `category` varchar(64) DEFAULT NULL COMMENT 'RPA category',
  `name` varchar(255) DEFAULT NULL COMMENT 'RPA name',
  `value` text COMMENT 'Configuration content',
  `is_deleted` tinyint DEFAULT '0' COMMENT 'Whether effective, 0-invalid, 1-valid',
  `remarks` varchar(1000) DEFAULT NULL COMMENT 'Notes, remarks',
  `icon` varchar(150) DEFAULT NULL,
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
  `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
  `path` varchar(100) DEFAULT NULL COMMENT '平台官网地址',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1001 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='RPA configuration table';

INSERT INTO rpa_info (category, name, value, is_deleted, remarks, icon, create_time, update_time, `path`) VALUES('xiaowu', '晓悟RPA', '[
    {
        "key": "API KEY",
        "name": "apiKey",
        "desc": "鉴权token key",
        "type":"string",
        "required":true
    }
]', 0, '晓悟RPA基于科大讯飞的AI+RPA技术，提供超过300个预置自动化原子能力，并以此为基础构建了流程自动化开发平台。该平台具备零基础开发特性，用户可通过无代码拖拽方式，灵活调用原子能力与场景化组件，快速完成业务机器人的搭建。', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/icon_xiaowu.png', '2025-09-23 11:07:51', '2025-09-26 16:57:59', 'https://www.iflyrpa.com/');

-- ----------------------------
-- Table structure for rpa_user_assistant
-- ----------------------------
DROP TABLE IF EXISTS `rpa_user_assistant`;
CREATE TABLE `rpa_user_assistant`
(
    `id`             bigint                                                       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `user_id`        varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Belonging user ID',
    `platform_id`    bigint                                                       NOT NULL COMMENT 'rpa_info.id (Platform definition)',
    `assistant_name` varchar(128)                                                 NOT NULL COMMENT 'Assistant name (unique under same user)',
    `status`         tinyint                                                      NOT NULL DEFAULT '1' COMMENT 'Status: 1-enable, 0-disable',
    `remarks`        varchar(1000)                                                         DEFAULT NULL COMMENT 'Notes, remarks',
    `icon`           varchar(100)                                                          DEFAULT NULL,
    `robot_count`    int                                                                   DEFAULT NULL,
    `space_id`       bigint                                                                DEFAULT NULL,
    `create_time`    datetime                                                     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime                                                     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_user_assistant_name` (`user_id`,`assistant_name`),
    KEY              `idx_user` (`user_id`),
    KEY              `fk_rpa_platform` (`platform_id`),
    CONSTRAINT `fk_rpa_platform` FOREIGN KEY (`platform_id`) REFERENCES `rpa_info` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User-level RPA assistant main table';

-- ----------------------------
-- Table structure for rpa_user_assistant_field
-- ----------------------------
DROP TABLE IF EXISTS `rpa_user_assistant_field`;
CREATE TABLE `rpa_user_assistant_field`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `assistant_id` bigint       NOT NULL COMMENT 'rpa_user_assistant.id',
    `field_key`    varchar(128) NOT NULL COMMENT 'Field key (consistent with rpa_info.value[].name, such as apiKey)',
    `field_name`   varchar(255)          DEFAULT NULL COMMENT 'Field readable name (such as API KEY), redundant for audit convenience',
    `field_value`  text         NOT NULL COMMENT 'Field plain text value (not encrypted)',
    `create_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_assistant_field` (`assistant_id`,`field_key`),
    KEY            `idx_assistant` (`assistant_id`),
    CONSTRAINT `fk_assistant_field` FOREIGN KEY (`assistant_id`) REFERENCES `rpa_user_assistant` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User RPA assistant field table (plain text)';

-- ----------------------------
-- Table structure for share_chat
-- ----------------------------
DROP TABLE IF EXISTS `share_chat`;
CREATE TABLE `share_chat`
(
    `id`                 bigint NOT NULL AUTO_INCREMENT COMMENT 'Corresponding to share_key of chat_share_content',
    `uid`                varchar(128)    DEFAULT NULL COMMENT 'Sharing user UID',
    `url_key`            varchar(64)     DEFAULT NULL COMMENT 'Include key parameter in frontend URL to prevent scraping',
    `chat_id`            bigint          DEFAULT NULL COMMENT 'Primary key of shared conversation chat_list',
    `bot_id`             bigint          DEFAULT '0' COMMENT 'Assistant ID in assistant mode, 0 for normal mode',
    `click_times`        int             DEFAULT '0' COMMENT 'Click count',
    `max_click_times`    int             DEFAULT '-1' COMMENT 'Redundant, can limit maximum click count, default -1 means unlimited',
    `url_status`         tinyint         DEFAULT '1' COMMENT 'Whether link is valid: 0 invalid, 1 valid',
    `create_time`        datetime        DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`        datetime        DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `enabled_plugin_ids` varchar(255)    DEFAULT '' COMMENT 'Currently enabled plugin IDs for this conversation list',
    `like_times`         int    NOT NULL DEFAULT '0' COMMENT 'Like count',
    `ip_location`        varchar(32)     DEFAULT '' COMMENT 'IP location when sharing',
    PRIMARY KEY (`id`),
    UNIQUE KEY `idx_url_key` (`url_key`) USING BTREE,
    KEY                  `idx_bot_id` (`bot_id`),
    KEY                  `idx_enabled_plugin_ids` (`enabled_plugin_ids`),
    KEY                  `idx_create_time` (`create_time`),
    KEY                  `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Conversation sharing information index table';

-- ----------------------------
-- Table structure for share_qa
-- ----------------------------
DROP TABLE IF EXISTS `share_qa`;
CREATE TABLE `share_qa`
(
    `id`            bigint NOT NULL AUTO_INCREMENT,
    `uid`           varchar(128)  DEFAULT NULL COMMENT 'User ID',
    `share_chat_id` bigint        DEFAULT NULL COMMENT 'Corresponding to primary key ID of share_chat',
    `message_q`     varchar(8000) DEFAULT NULL COMMENT 'Question content',
    `message_a`     mediumtext COMMENT 'Answer content',
    `sid`           varchar(128)  DEFAULT NULL COMMENT 'Answer SID',
    `show_status`   tinyint       DEFAULT '1' COMMENT 'Whether valid: 1 valid, 0 invalid',
    `create_time`   datetime      DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `req_id`        bigint        DEFAULT NULL COMMENT 'User question, chat_req_records primary key ID',
    `req_type`      tinyint       DEFAULT '0' COMMENT 'Multimodal question type',
    `req_url`       text COMMENT 'Multimodal question URL',
    `resp_id`       bigint        DEFAULT '0' COMMENT 'Primary key ID of answer table',
    `resp_type`     varchar(128)  DEFAULT NULL COMMENT 'Multimodal return type',
    `resp_url`      varchar(512)  DEFAULT NULL COMMENT 'Multimodal return URL',
    `chat_key`      varchar(64)   DEFAULT NULL COMMENT 'Identifier for direct conversation on sharing page, same function as chatId',
    PRIMARY KEY (`id`),
    KEY             `uin_uid_share-chat-id` (`uid`,`share_chat_id`),
    KEY             `idx_uid` (`uid`),
    KEY             `idx_resp_type` (`resp_type`),
    KEY             `idx_share_chat_id` (`share_chat_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Conversation sharing Q&A content table';

-- ----------------------------
-- Table structure for spark_bot
-- ----------------------------
DROP TABLE IF EXISTS `spark_bot`;
CREATE TABLE `spark_bot`
(
    `id`             bigint      NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `uuid`           varchar(64)          DEFAULT NULL,
    `name`           varchar(64) NOT NULL COMMENT 'Robot name',
    `user_id`        varchar(20)          DEFAULT NULL,
    `app_id`         varchar(50) NOT NULL,
    `description`    varchar(255)         DEFAULT NULL COMMENT 'Description',
    `avatar_icon`    varchar(255)         DEFAULT NULL COMMENT 'Avatar icon',
    `color`          varchar(10)          DEFAULT NULL,
    `floating_icon`  varchar(255)         DEFAULT NULL COMMENT 'Floating window icon',
    `greeting`       varchar(128)         DEFAULT NULL COMMENT 'Greeting',
    `floated`        tinyint(1) DEFAULT '0' COMMENT 'Whether set as floating robot 0: not set, 1: set',
    `deleted`        tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 1-deleted, 0-not deleted',
    `create_time`    timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`    timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `recommend_ques` text,
    `is_public`      tinyint     NOT NULL DEFAULT '0' COMMENT 'Whether public bot: 0 no, 1 yes',
    `bot_tag`        varchar(100)         DEFAULT NULL COMMENT 'Bot tag',
    `user_count`     int                  DEFAULT '0' COMMENT 'User count',
    `dialog_count`   int                  DEFAULT '0' COMMENT 'Conversation count',
    `favorite_count` int                  DEFAULT '0' COMMENT 'Favorite count',
    `public_id`      bigint               DEFAULT NULL COMMENT 'Public bot ID',
    `app_updatable`  bit(1)               DEFAULT b'0',
    `top`            bit(1)               DEFAULT b'0',
    `eval_set_id`    bigint               DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for system_user
-- ----------------------------
DROP TABLE IF EXISTS `system_user`;
CREATE TABLE `system_user`
(
    `id`                bigint NOT NULL COMMENT 'User ID',
    `nickname`          varchar(20)  DEFAULT NULL COMMENT 'Username',
    `login`             varchar(20)  DEFAULT NULL COMMENT 'User login name',
    `email`             varchar(128) DEFAULT NULL COMMENT 'Email',
    `mobile`            varchar(20)  DEFAULT NULL COMMENT 'Mobile number',
    `last_login_time`   datetime     DEFAULT NULL COMMENT 'Last login time',
    `registration_time` datetime     DEFAULT NULL COMMENT 'Registration time',
    `create_time`       datetime     DEFAULT NULL COMMENT 'Creation time',
    `update_by`         bigint       DEFAULT NULL,
    `is_delete`         tinyint(1) DEFAULT '0' COMMENT 'Logical deletion, 0=not deleted, 1=deleted',
    `update_time`       datetime     DEFAULT NULL,
    `source`            tinyint      DEFAULT '1',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tag_info_v2
-- ----------------------------
DROP TABLE IF EXISTS `tag_info_v2`;
CREATE TABLE `tag_info_v2`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `name`        varchar(64)        DEFAULT NULL COMMENT 'Tag name',
    `type`        int                DEFAULT NULL COMMENT 'Type 1: knowledge base, 2: folder, 3: file, 4: knowledge block',
    `relation_id` varchar(50)        DEFAULT NULL COMMENT 'Used to isolate tags between different entities',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `uid`         varchar(128)       DEFAULT NULL,
    `repo_id`     bigint             DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY           `type_rel_idx` (`type`,`relation_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for text_node_config
-- ----------------------------
DROP TABLE IF EXISTS `text_node_config`;
CREATE TABLE `text_node_config`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL,
    `separator`   varchar(255)          DEFAULT NULL,
    `comment`     varchar(255)          DEFAULT NULL,
    `deleted`     bit(1)       NOT NULL DEFAULT b'0',
    `create_time` datetime              DEFAULT NULL,
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tool_box
-- ----------------------------
DROP TABLE IF EXISTS `tool_box`;
CREATE TABLE `tool_box`
(
    `id`              bigint  NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `tool_id`         varchar(30)      DEFAULT NULL COMMENT 'Core system tool identifier',
    `name`            varchar(64)      DEFAULT NULL COMMENT 'Tool name',
    `description`     varchar(255)     DEFAULT NULL COMMENT 'Tool description',
    `icon`            varchar(255)     DEFAULT NULL COMMENT 'Avatar icon',
    `user_id`         varchar(256)     DEFAULT NULL COMMENT 'User ID',
    `app_id`          varchar(60)      DEFAULT NULL COMMENT 'appid',
    `end_point`       text COMMENT 'Request address',
    `method`          varchar(255)     DEFAULT NULL COMMENT 'Request method',
    `web_schema`      longtext COMMENT 'Web protocol',
    `schema`          longtext COMMENT 'Protocol',
    `visibility`      int              DEFAULT '0' COMMENT 'Visibility 0: only visible to self, 1: visible to some users',
    `deleted`         tinyint(1) DEFAULT '0' COMMENT 'Whether deleted: 1-deleted, 0-not deleted',
    `create_time`     timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`     timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    `is_public`       bit(1)           DEFAULT b'0',
    `favorite_count`  int              DEFAULT '0' COMMENT 'Favorite count',
    `usage_count`     int              DEFAULT '0' COMMENT 'Usage count',
    `tool_tag`        varchar(255)     DEFAULT NULL,
    `operation_id`    varchar(255)     DEFAULT NULL,
    `creation_method` tinyint          DEFAULT '0',
    `auth_type`       tinyint          DEFAULT '0',
    `auth_info`       varchar(1024)    DEFAULT NULL,
    `top`             int              DEFAULT '0',
    `source`          tinyint          DEFAULT '1',
    `display_source`  varchar(16)      DEFAULT '1,2',
    `avatar_color`    varchar(255)     DEFAULT NULL,
    `status`          tinyint NOT NULL DEFAULT '1' COMMENT 'Status 0: draft, 1: formal',
    `version`         varchar(100)     DEFAULT NULL,
    `temporary_data`  mediumtext COMMENT 'Plugin temporary data',
    `space_id`        bigint           DEFAULT NULL COMMENT 'Space ID',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for tool_box_copy
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_copy`;
CREATE TABLE `tool_box_copy`
(
    `id`              bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `tool_id`         varchar(30)   DEFAULT NULL COMMENT 'Core system tool identifier',
    `name`            varchar(64)   DEFAULT NULL COMMENT 'Tool name',
    `description`     varchar(255)  DEFAULT NULL COMMENT 'Tool description',
    `icon`            varchar(255)  DEFAULT NULL COMMENT 'Avatar icon',
    `user_id`         varchar(20)   DEFAULT NULL COMMENT 'User ID',
    `app_id`          varchar(60)   DEFAULT NULL COMMENT 'appid',
    `end_point`       text COMMENT 'Request address',
    `method`          varchar(255)  DEFAULT NULL COMMENT 'Request method',
    `web_schema`      longtext COMMENT 'Web protocol',
    `schema`          longtext COMMENT 'Protocol',
    `visibility`      int           DEFAULT '0' COMMENT 'Visibility 0: only visible to self, 1: visible to some users',
    `deleted`         tinyint(1) DEFAULT '0' COMMENT 'Whether deleted: 1-deleted, 0-not deleted',
    `create_time`     timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`     timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    `is_public`       bit(1)        DEFAULT b'0',
    `favorite_count`  int           DEFAULT '0' COMMENT 'Favorite count',
    `usage_count`     int           DEFAULT '0' COMMENT 'Usage count',
    `tool_tag`        varchar(255)  DEFAULT NULL,
    `operation_id`    varchar(255)  DEFAULT NULL,
    `creation_method` tinyint       DEFAULT '0',
    `auth_type`       tinyint       DEFAULT '0',
    `auth_info`       varchar(1024) DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for tool_box_feedback
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_feedback`;
CREATE TABLE `tool_box_feedback`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `user_id`     varchar(100) NOT NULL COMMENT 'User ID',
    `tool_id`     varchar(100)          DEFAULT NULL COMMENT 'Tool ID',
    `name`        varchar(100)          DEFAULT NULL COMMENT 'Tool name',
    `remark`      varchar(1000)         DEFAULT NULL COMMENT 'Feedback content',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tool_box_heat_value
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_heat_value`;
CREATE TABLE `tool_box_heat_value`
(
    `id`         int NOT NULL AUTO_INCREMENT,
    `tool_name`  varchar(100) DEFAULT NULL,
    `heat_value` int          DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tool_box_operate_history
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_operate_history`;
CREATE TABLE `tool_box_operate_history`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `tool_id`     varchar(100) NOT NULL COMMENT 'Plugin ID',
    `uid`         varchar(100) NOT NULL,
    `type`        tinyint      NOT NULL COMMENT '1:debug  2:workflow',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Plugin debug history';

-- ----------------------------
-- Table structure for train_set
-- ----------------------------
DROP TABLE IF EXISTS `train_set`;
CREATE TABLE `train_set`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT,
    `uid`              varchar(128) NOT NULL,
    `name`             varchar(512) NOT NULL,
    `description`      varchar(1024)         DEFAULT NULL,
    `current_ver`      varchar(255)          DEFAULT NULL COMMENT 'Current version',
    `ver_count`        int                   DEFAULT '0' COMMENT 'Version count',
    `deleted`          bit(1)       NOT NULL DEFAULT b'0',
    `create_time`      datetime              DEFAULT NULL,
    `update_time`      datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `application_id`   bigint                DEFAULT NULL,
    `application_type` tinyint               DEFAULT NULL,
    `node_info`        varchar(1024)         DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for train_set_ver
-- ----------------------------
DROP TABLE IF EXISTS `train_set_ver`;
CREATE TABLE `train_set_ver`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `train_set_id` bigint       NOT NULL,
    `ver`          varchar(255) NOT NULL COMMENT 'Version number',
    `filename`     varchar(512)          DEFAULT NULL COMMENT 'File name',
    `storage_addr` varchar(512)          DEFAULT NULL COMMENT 'File address',
    `deleted`      bit(1)       NOT NULL DEFAULT b'0',
    `create_time`  datetime     NOT NULL,
    `update_time`  datetime     NOT NULL,
    `description`  varchar(255)          DEFAULT NULL,
    `node_info`    varchar(1024)         DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for train_set_ver_data
-- ----------------------------
DROP TABLE IF EXISTS `train_set_ver_data`;
CREATE TABLE `train_set_ver_data`
(
    `id`               bigint   NOT NULL AUTO_INCREMENT,
    `train_set_ver_id` bigint   NOT NULL,
    `seq`              int           DEFAULT NULL,
    `question`         varchar(2048) DEFAULT NULL,
    `expected_answer`  varchar(5096) DEFAULT NULL,
    `sid`              varchar(256)  DEFAULT NULL,
    `create_time`      datetime NOT NULL,
    `deleted`          bit(1)        DEFAULT b'0',
    `source`           tinyint       DEFAULT '1' COMMENT '1=file, 2=online data',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for untitled_table
-- ----------------------------
DROP TABLE IF EXISTS `untitled_table`;
CREATE TABLE `untitled_table`
(
    `id`            int unsigned NOT NULL AUTO_INCREMENT,
    `created_tme`   datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP,
    `domain`        varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `baseModelId`   bigint                                                        DEFAULT NULL,
    `baseModelName` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for upload_doc_task
-- ----------------------------
DROP TABLE IF EXISTS `upload_doc_task`;
CREATE TABLE `upload_doc_task`
(
    `id`              bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `task_id`         varchar(64) DEFAULT NULL COMMENT 'Task ID',
    `extract_task_id` varchar(64) DEFAULT NULL COMMENT 'Knowledge extraction task ID',
    `file_id`         bigint      DEFAULT NULL COMMENT 'File ID',
    `bot_id`          bigint      DEFAULT NULL COMMENT 'botID',
    `repo_id`         varchar(64) DEFAULT NULL COMMENT 'Knowledge base ID',
    `step`            int         DEFAULT NULL COMMENT 'Processing steps 0: upload file, 1: parse file, 2: embed file, 3: bot bind knowledge base',
    `status`          int         DEFAULT '0' COMMENT '0: in progress, 1: success, 2: failed',
    `reason`          text,
    `app_id`          varchar(60) DEFAULT NULL COMMENT 'User ID',
    `create_time`     timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`     timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for user_broadcast_read
-- ----------------------------
DROP TABLE IF EXISTS `user_broadcast_read`;
CREATE TABLE `user_broadcast_read`
(
    `id`              bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-increment ID',
    `receiver_uid`    varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `notification_id` bigint unsigned NOT NULL COMMENT 'Associated broadcast notification ID (notifications.id)',
    `read_at`         datetime(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT 'Read time',
    PRIMARY KEY (`id`),
    KEY               `idx_receiver_uid` (`receiver_uid`),
    KEY               `idx_notification` (`notification_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User broadcast message read status table';

-- ----------------------------
-- Table structure for user_favorite_bot
-- ----------------------------
DROP TABLE IF EXISTS `user_favorite_bot`;
CREATE TABLE `user_favorite_bot`
(
    `id`           bigint    NOT NULL AUTO_INCREMENT,
    `user_id`      bigint    NOT NULL,
    `bot_id`       bigint    NOT NULL,
    `created_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `use_flag`     tinyint            DEFAULT '0',
    `is_deleted`   tinyint            DEFAULT '0',
    PRIMARY KEY (`id`),
    KEY            `idx_user_favorite_bot_user_id` (`user_id`),
    KEY            `idx_user_favorite_bot_bot_id` (`bot_id`),
    CONSTRAINT `user_favorite_bot_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `system_user` (`id`),
    CONSTRAINT `user_favorite_bot_ibfk_2` FOREIGN KEY (`bot_id`) REFERENCES `spark_bot` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for user_favorite_tool
-- ----------------------------
DROP TABLE IF EXISTS `user_favorite_tool`;
CREATE TABLE `user_favorite_tool`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT,
    `user_id`        varchar(128) NOT NULL,
    `tool_id`        bigint       NOT NULL,
    `tool_flag_id`   varchar(30)           DEFAULT NULL,
    `created_time`   timestamp    NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `is_deleted`     tinyint               DEFAULT '0',
    `use_flag`       tinyint               DEFAULT '0' COMMENT 'Usage flag',
    `mcp_tool_id`    varchar(100)          DEFAULT NULL,
    `plugin_tool_id` varchar(100)          DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY              `idx_user_favorite_tool_user_id` (`user_id`),
    KEY              `idx_user_favorite_tool_tool_id` (`tool_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for user_info
-- ----------------------------
DROP TABLE IF EXISTS `user_info`;
CREATE TABLE `user_info`
(
    `id`             bigint NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `uid`            varchar(128)                                                  DEFAULT NULL COMMENT 'UID',
    `username`       varchar(255)                                                  DEFAULT NULL COMMENT 'Username',
    `avatar`         varchar(512)                                                  DEFAULT NULL COMMENT 'Avatar',
    `nickname`       varchar(255)                                                  DEFAULT NULL COMMENT 'User nickname',
    `mobile`         varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Mobile number',
    `account_status` tinyint                                                       DEFAULT '0' COMMENT 'Activation status: 0 inactive, 1 active, 2 frozen',
    `enterprise_service_type` int                                                  DEFAULT '0' COMMENT 'Enterprise service type: 0 none, 1 team, 2 enterprise',
    `user_agreement` tinyint                                                       DEFAULT '0' COMMENT 'Whether agreed to user agreement: 0 not agreed, 1 agreed',
    `deleted`        tinyint                                                       DEFAULT '0' COMMENT 'Logical deletion flag: 0 not deleted, 1 deleted',
    `create_time`    datetime                                                      DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime                                                      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uid_unique_index` (`uid`),
    KEY              `idx_create_time` (`create_time`),
    KEY              `index_mobile` (`mobile`),
    KEY              `idx_username` (`username`),
    KEY              `idx_nickname` (`nickname`),
    KEY              `idx_deleted` (`deleted`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User information table';

-- ----------------------------
-- Table structure for user_lang_chain_info
-- ----------------------------
DROP TABLE IF EXISTS `user_lang_chain_info`;
CREATE TABLE `user_lang_chain_info`
(
    `id`                  bigint                                                        NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `bot_id`              int                                                           NOT NULL COMMENT 'Agent ID',
    `name`                varchar(255) DEFAULT NULL COMMENT 'LangChain name',
    `desc`                text COMMENT 'Agent description',
    `open`                json         DEFAULT NULL COMMENT 'Open configuration information, including nodes and edges',
    `gcy`                 json         DEFAULT NULL COMMENT 'GCY configuration information, including virtual nodes and edges',
    `uid`                 varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `flow_id`             varchar(64)  DEFAULT NULL COMMENT 'Process ID',
    `space_id`            bigint       DEFAULT NULL,
    `maas_id`             bigint       DEFAULT NULL COMMENT 'Group ID',
    `bot_name`            varchar(255) DEFAULT NULL COMMENT 'Agent name',
    `extra_inputs`        json         DEFAULT NULL COMMENT 'Extra input items',
    `extra_inputs_config` json         DEFAULT NULL COMMENT 'Multi-file parameters',
    `create_time`         datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`         datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY                   `idx_bot_id` (`bot_id`),
    KEY                   `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow configuration table';

-- ----------------------------
-- Table structure for user_lang_chain_log
-- ----------------------------
DROP TABLE IF EXISTS `user_lang_chain_log`;
CREATE TABLE `user_lang_chain_log`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `bot_id`      bigint                                                        DEFAULT NULL,
    `maas_id`     bigint                                                        DEFAULT NULL,
    `flow_id`     varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `uid`         varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `space_id`    bigint                                                        DEFAULT NULL,
    `create_time` datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY           `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for user_notifications
-- ----------------------------
DROP TABLE IF EXISTS `user_notifications`;
CREATE TABLE `user_notifications`
(
    `id`              bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-increment ID',
    `notification_id` bigint unsigned NOT NULL COMMENT 'Associated notification ID (notifications.id)',
    `receiver_uid`    varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Receiver user ID',
    `is_read`         tinyint                                                       NOT NULL DEFAULT '0' COMMENT 'Whether read (0=unread, 1=read)',
    `read_at`         datetime(3) DEFAULT NULL COMMENT 'Read time',
    `received_at`     datetime(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT 'Receive time',
    `extra`           json                                                                   DEFAULT NULL COMMENT 'Extra data, JSON format, for storing user-specific additional information',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uniq_user_notification` (`notification_id`,`receiver_uid`),
    KEY               `idx_user_unread` (`receiver_uid`,`is_read`,`received_at` DESC),
    KEY               `idx_notification` (`notification_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User personal message association table';

-- ----------------------------
-- Table structure for user_thread_pool_config
-- ----------------------------
DROP TABLE IF EXISTS `user_thread_pool_config`;
CREATE TABLE `user_thread_pool_config`
(
    `id`   bigint                                                        NOT NULL AUTO_INCREMENT,
    `uid`  varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `size` int                                                           NOT NULL COMMENT 'Thread pool size',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for vcn_info
-- ----------------------------
DROP TABLE IF EXISTS `vcn_info`;
CREATE TABLE `vcn_info`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `vcn`         varchar(255)  DEFAULT NULL,
    `name`        varchar(255)  DEFAULT NULL,
    `style`       varchar(255)  DEFAULT NULL,
    `emt`         varchar(255)  DEFAULT NULL,
    `image_url`   varchar(1024) DEFAULT NULL,
    `create_time` datetime      DEFAULT NULL,
    `valid`       bit(1)        DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for voice_chat_personality_agent
-- ----------------------------
DROP TABLE IF EXISTS `voice_chat_personality_agent`;
CREATE TABLE `voice_chat_personality_agent`
(
    `id`                      bigint                                                       NOT NULL AUTO_INCREMENT,
    `uid`                     bigint                                                                DEFAULT NULL,
    `player_id`               varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Role ID',
    `agent_id`                varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '' COMMENT 'Personality engine ID',
    `vcn_id`                  bigint                                                                DEFAULT NULL COMMENT 'Speaker ID',
    `agent_name`              varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Personality name',
    `agent_type`              varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Personality type',
    `player_call`             varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Personality addressing for user',
    `identity`                varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci         DEFAULT '' COMMENT 'Background',
    `personality_description` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci        DEFAULT '' COMMENT 'Personality description',
    `image_url`               varchar(2250) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci        DEFAULT '' COMMENT 'Avatar address',
    `is_open`                 tinyint                                                               DEFAULT NULL COMMENT 'Whether enabled, 0-no, 1-yes',
    `is_del`                  tinyint                                                               DEFAULT NULL COMMENT 'Whether deleted, 0-no, 1-yes',
    `create_time`             datetime                                                              DEFAULT CURRENT_TIMESTAMP,
    `update_time`             datetime                                                              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `virtual_url`             varchar(2048) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci        DEFAULT NULL COMMENT 'Virtual character avatar',
    PRIMARY KEY (`id`),
    KEY                       `idx_agent_id` (`agent_id`),
    KEY                       `idx_agent_name` (`agent_name`),
    KEY                       `idx_uid` (`uid`),
    KEY                       `idx_vcn_id` (`vcn_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Super-anthropomorphic personality role details table';

-- ----------------------------
-- Table structure for workflow
-- ----------------------------
DROP TABLE IF EXISTS `workflow`;
CREATE TABLE `workflow`
(
    `id`                   bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `uid`                  varchar(128) NOT NULL COMMENT 'User ID',
    `app_id`               varchar(255) NOT NULL,
    `flow_id`              varchar(255)          DEFAULT NULL,
    `name`                 varchar(255) NOT NULL,
    `description`          varchar(512) NOT NULL,
    `deleted`              bit(1)       NOT NULL DEFAULT b'0',
    `is_public`            bit(1)       NOT NULL DEFAULT b'0',
    `create_time`          datetime     NOT NULL,
    `update_time`          datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `published_data`       mediumtext,
    `data`                 mediumtext,
    `avatar_icon`          varchar(1000)         DEFAULT NULL,
    `avatar_color`         varchar(255)          DEFAULT NULL,
    `status`               tinyint      NOT NULL DEFAULT '-1' COMMENT '0=not published, 1=published',
    `can_publish`          bit(1)                DEFAULT b'0',
    `app_updatable`        bit(1)                DEFAULT b'0',
    `top`                  bit(1)                DEFAULT b'0',
    `edge_type`            varchar(255)          DEFAULT NULL,
    `order`                int                   DEFAULT '0',
    `eval_set_id`          bigint                DEFAULT NULL,
    `source`               tinyint               DEFAULT '1',
    `bak`                  mediumtext,
    `editing`              bit(1)                DEFAULT b'1',
    `eval_page_first_time` text,
    `advanced_config`      text COMMENT 'Advanced configuration',
    `ext`                  text,
    `category`             int                   DEFAULT NULL COMMENT 'Category',
    `space_id`             bigint                DEFAULT NULL COMMENT 'Space ID',
    PRIMARY KEY (`id`) USING BTREE,
    KEY                    `flow_id` (`flow_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for workflow_comparison
-- ----------------------------
DROP TABLE IF EXISTS `workflow_comparison`;
CREATE TABLE `workflow_comparison`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `flow_id`     varchar(100) NOT NULL COMMENT 'flowId',
    `type`        tinyint      NOT NULL DEFAULT '0' COMMENT 'Protocol type',
    `data`        mediumtext   NOT NULL COMMENT 'Workflow protocol',
    `create_time` datetime     NOT NULL COMMENT 'Creation time',
    `update_time` datetime     NOT NULL COMMENT 'Update time',
    `prompt_id`   varchar(100) NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow control group protocol';

-- ----------------------------
-- Table structure for workflow_dialog
-- ----------------------------
DROP TABLE IF EXISTS `workflow_dialog`;
CREATE TABLE `workflow_dialog`
(
    `id`            bigint  NOT NULL AUTO_INCREMENT,
    `uid`           varchar(128)     DEFAULT NULL,
    `workflow_id`   bigint           DEFAULT NULL,
    `question`      text,
    `answer`        longtext,
    `data`          mediumtext,
    `create_time`   datetime         DEFAULT NULL,
    `deleted`       bit(1)           DEFAULT b'0',
    `sid`           varchar(255)     DEFAULT NULL,
    `type`          tinyint NOT NULL DEFAULT '1' COMMENT '1：debug 2：formal',
    `question_item` text,
    `answer_item`   longtext,
    `chat_id`       varchar(100)     DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY             `workflow_id` (`workflow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for workflow_dialog_bak
-- ----------------------------
DROP TABLE IF EXISTS `workflow_dialog_bak`;
CREATE TABLE `workflow_dialog_bak`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) DEFAULT NULL,
    `workflow_id` bigint       DEFAULT NULL,
    `question`    text,
    `answer`      text,
    `data`        mediumtext,
    `create_time` datetime     DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `workflow_id` (`workflow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for workflow_feedback
-- ----------------------------
DROP TABLE IF EXISTS `workflow_feedback`;
CREATE TABLE `workflow_feedback`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `user_name`   varchar(100) NOT NULL COMMENT 'User name',
    `bot_id`      varchar(100) NOT NULL,
    `flow_id`     varchar(100) NOT NULL,
    `sid`         varchar(100) NOT NULL,
    `start_time`  datetime      DEFAULT NULL,
    `end_time`    datetime      DEFAULT NULL,
    `cost_time`   int           DEFAULT NULL COMMENT 'Cost time',
    `token`       int           DEFAULT NULL COMMENT 'Token consumption count',
    `status`      varchar(100)  DEFAULT NULL COMMENT 'Status',
    `error_code`  varchar(100)  DEFAULT NULL,
    `pic_url`     text COMMENT 'Feedback image URL',
    `description` varchar(1024) DEFAULT NULL COMMENT 'Description',
    `create_time` datetime      DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow user feedback';

-- ----------------------------
-- Table structure for workflow_node_history
-- ----------------------------
DROP TABLE IF EXISTS `workflow_node_history`;
CREATE TABLE `workflow_node_history`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `node_id`      varchar(255) NOT NULL,
    `chat_id`      varchar(255) DEFAULT NULL,
    `raw_question` text,
    `raw_answer`   text,
    `create_time`  datetime     NOT NULL,
    `flow_id`      varchar(255) DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY            `node_id` (`node_id`),
    KEY            `chat_id` (`chat_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for workflow_template_group
-- ----------------------------
DROP TABLE IF EXISTS `workflow_template_group`;
CREATE TABLE `workflow_template_group`
(
    `id`            int         NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `create_user`   varchar(32) NOT NULL COMMENT 'Publisher domain account',
    `group_name`    varchar(20) NOT NULL COMMENT 'Group name',
    `sort_index`    int         NOT NULL COMMENT 'Sort order',
    `is_delete`     tinyint     NOT NULL DEFAULT '0' COMMENT 'Whether logical deletion: 0 no logical deletion, 1 logical deletion',
    `create_time`   datetime    NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime    NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `group_name_en` varchar(128)         DEFAULT NULL COMMENT 'Group English name',
    PRIMARY KEY (`id`),
    KEY             `idx_group_name` (`group_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen workflow template grouping (comprehensive management control)';

-- ----------------------------
-- Table structure for workflow_version
-- ----------------------------
DROP TABLE IF EXISTS `workflow_version`;
CREATE TABLE `workflow_version`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT,
    `name`             varchar(100)          DEFAULT NULL COMMENT 'Version name',
    `version_num`      varchar(100) NOT NULL COMMENT 'Version number',
    `data`             mediumtext COMMENT 'Workflow protocol',
    `flow_id`          varchar(19)  NOT NULL,
    `is_deleted`       int          NOT NULL DEFAULT '0' COMMENT 'Delete status: 0=not deleted, 1=deleted',
    `deleted`          int          NOT NULL DEFAULT '1' COMMENT '2: deleted',
    `created_time`     datetime              DEFAULT CURRENT_TIMESTAMP COMMENT 'Publish time',
    `updated_time`     datetime              DEFAULT CURRENT_TIMESTAMP,
    `is_current`       int          NOT NULL DEFAULT '1' COMMENT 'Whether current version: 0=no, 1=yes',
    `is_version`       int          NOT NULL DEFAULT '1' COMMENT '2: not current version, 1: current version',
    `sys_data`         mediumtext COMMENT 'Core system protocol',
    `description`      varchar(100)          DEFAULT NULL COMMENT 'Version description',
    `publish_channels` varchar(255)          DEFAULT NULL COMMENT 'Publishing channels, consistent with chat_bot_market: MARKET,API,WECHAT,MCP (comma separated)',
    `publish_channel`  int                   DEFAULT NULL COMMENT 'Publishing channel: 1: WeChat official account, 2: Spark desk, 3: API, 4: MCP',
    `publish_result`   text COMMENT 'Publish result',
    `bot_id`           varchar(100)          DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for xingchen_official_prompt
-- ----------------------------
DROP TABLE IF EXISTS `xingchen_official_prompt`;
CREATE TABLE `xingchen_official_prompt`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `name`           varchar(255) NOT NULL COMMENT 'Prompt name',
    `prompt_key`     varchar(255) NOT NULL COMMENT 'Prompt unique identifier key',
    `uid`            varchar(128) NOT NULL DEFAULT '0' COMMENT 'User ID',
    `type`           tinyint      NOT NULL DEFAULT '0' COMMENT 'Prompt type',
    `latest_version` varchar(50)           DEFAULT '' COMMENT 'Latest version number',
    `model_config`   json         NOT NULL COMMENT 'Model configuration information (JSON format)',
    `prompt_text`    json         NOT NULL COMMENT 'Prompt text content (JSON format)',
    `prompt_input`   json         NOT NULL COMMENT 'Prompt input variable configuration (JSON format)',
    `status`         tinyint      NOT NULL DEFAULT '0' COMMENT 'Status: 0-normal, 1-disabled',
    `is_delete`      tinyint      NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 0-no, 1-yes',
    `commit_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Commit time',
    `create_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_prompt_key` (`prompt_key`),
    KEY              `idx_uid` (`uid`),
    KEY              `idx_type` (`type`),
    KEY              `idx_status` (`status`),
    KEY              `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen official Prompt table';

-- ----------------------------
-- Table structure for xingchen_prompt_manage
-- ----------------------------
DROP TABLE IF EXISTS `xingchen_prompt_manage`;
CREATE TABLE `xingchen_prompt_manage`
(
    `id`              bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `name`            varchar(500) NOT NULL COMMENT 'Prompt name',
    `prompt_key`      varchar(255) NOT NULL COMMENT 'Prompt unique identifier key',
    `uid`             varchar(128) NOT NULL COMMENT 'User ID',
    `type`            tinyint      NOT NULL DEFAULT '0' COMMENT 'Prompt type',
    `latest_version`  varchar(50)           DEFAULT '' COMMENT 'Latest version number',
    `current_version` varchar(50)           DEFAULT '' COMMENT 'Current version number',
    `model_config`    json         NOT NULL COMMENT 'Model configuration information (JSON format)',
    `prompt_text`     json         NOT NULL COMMENT 'Prompt text content (JSON format)',
    `prompt_input`    json         NOT NULL COMMENT 'Prompt input variable configuration (JSON format)',
    `status`          tinyint      NOT NULL DEFAULT '0' COMMENT 'Status: 0-Normal, 1-Disabled',
    `is_delete`       tinyint      NOT NULL DEFAULT '0' COMMENT 'Is deleted: 0-No, 1-Yes',
    `commit_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Commit time',
    `create_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_prompt_key_uid` (`prompt_key`,`uid`),
    KEY               `idx_uid` (`uid`),
    KEY               `idx_type` (`type`),
    KEY               `idx_status` (`status`),
    KEY               `idx_latest_version` (`latest_version`),
    KEY               `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen Prompt management table';

-- ----------------------------
-- Table structure for xingchen_prompt_version
-- ----------------------------
DROP TABLE IF EXISTS `xingchen_prompt_version`;
CREATE TABLE `xingchen_prompt_version`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `prompt_id`    varchar(50)  NOT NULL COMMENT 'Associated Prompt ID',
    `uid`          varchar(128) NOT NULL COMMENT 'User ID',
    `version`      varchar(50)  NOT NULL COMMENT 'Version number',
    `version_desc` text COMMENT 'Version description',
    `commit_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Commit time',
    `commit_user`  varchar(128) NOT NULL COMMENT 'Commit user ID',
    `model_config` json         NOT NULL COMMENT 'Model configuration information (JSON format)',
    `prompt_text`  json         NOT NULL COMMENT 'Prompt text content (JSON format)',
    `prompt_input` json         NOT NULL COMMENT 'Prompt input variable configuration (JSON format)',
    `is_delete`    tinyint      NOT NULL DEFAULT '0' COMMENT 'Is deleted: 0-No, 1-Yes',
    `create_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY            `idx_prompt_id` (`prompt_id`),
    KEY            `idx_uid` (`uid`),
    KEY            `idx_version` (`version`),
    KEY            `idx_commit_user` (`commit_user`),
    KEY            `idx_commit_time` (`commit_time`),
    KEY            `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen Prompt version management table';

-- ----------------------------
-- Table structure for z-bot_model_config_copy
-- ----------------------------
DROP TABLE IF EXISTS `z-bot_model_config_copy`;
CREATE TABLE `z-bot_model_config_copy`
(
    `id`           bigint NOT NULL AUTO_INCREMENT,
    `bot_id`       bigint NOT NULL COMMENT 'Bot ID',
    `model_config` text   NOT NULL COMMENT 'Model configuration',
    `create_time`  timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for z-bot_repo_subscript
-- ----------------------------
DROP TABLE IF EXISTS `z-bot_repo_subscript`;
CREATE TABLE `z-bot_repo_subscript`
(
    `id`          bigint      NOT NULL AUTO_INCREMENT,
    `bot_id`      bigint      NOT NULL COMMENT 'Bot ID',
    `app_id`      varchar(64) NOT NULL COMMENT 'appId',
    `repo_id`     bigint      NOT NULL COMMENT 'repoID',
    `create_time` timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for z-workflow_dialog-bak
-- ----------------------------
DROP TABLE IF EXISTS `z-workflow_dialog-bak`;
CREATE TABLE `z-workflow_dialog-bak`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `workflow_id` bigint   DEFAULT NULL,
    `question`    text,
    `answer`      text,
    `data`        mediumtext,
    `create_time` datetime DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `workflow_id` (`workflow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

CREATE TABLE IF NOT EXISTS bot_template (
    id INT PRIMARY KEY AUTO_INCREMENT COMMENT 'Template ID',
    bot_name VARCHAR(32) NOT NULL COMMENT 'Template name',
    bot_desc VARCHAR(200) COMMENT 'Function description',
    bot_template TEXT COMMENT 'Input template',
    bot_type INT NOT NULL COMMENT 'Bot type',
    bot_type_name VARCHAR(50) COMMENT 'Type name',
    input_example TEXT COMMENT 'Input examples (JSON array string)',
    prompt TEXT COMMENT 'Prompt text',
    prompt_struct_list TEXT COMMENT 'Structured prompts (JSON array string)',
    prompt_type INT DEFAULT 0 COMMENT 'Prompt type',
    support_context INT DEFAULT 0 COMMENT 'Support context',
    bot_status INT DEFAULT 1 COMMENT 'Template status: 1-enabled, 0-disabled',
    language VARCHAR(10) DEFAULT 'zh' COMMENT 'Language identifier: zh-Chinese, en-English',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_bot_status (bot_status),
    INDEX idx_bot_type (bot_type),
    INDEX idx_language (language),
    INDEX idx_status_lang (bot_status, language)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Bot template table';

BEGIN;
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1623, 'PPT大纲助手', '请填写您PPT的核心内容，助手会提供PPT大纲', '比如输入"Q2门店销售情况复盘"，我将提供PPT大纲', 10, '职场', '["新员工入职培训","转正答辩","年终总结"]', '', '[{"id":16230,"promptKey":"角色设定","promptValue":"你是一位PPT大纲撰写高手"},{"id":16231,"promptKey":"目标任务","promptValue":"请根据我给出的PPT核心内容，写一个PPT大纲"},{"id":16232,"promptKey":"需求说明","promptValue":"要求结构清晰，有逻辑"},{"id":16233,"promptKey":"风格设定","promptValue":"条理清晰、思维严谨"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:11', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1624, '文案写作助手', '输入您的写作需求，我将为您创作专业的文案内容', '例如：为新产品发布会写一段宣传语', 10, '职场', '["产品宣传语","活动邀请函","品牌故事"]', '', '[{"id":16240,"promptKey":"角色设定","promptValue":"你是一位专业的文案策划师"},{"id":16241,"promptKey":"目标任务","promptValue":"根据用户的写作需求，创作专业的文案内容"},{"id":16242,"promptKey":"需求说明","promptValue":"文案要突出产品特色，语言简洁有力"},{"id":16243,"promptKey":"风格设定","promptValue":"创意新颖、专业规范"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:21', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1625, '代码审查助手', '提交您的代码，我将为您提供专业的代码审查和优化建议', '请粘贴需要审查的代码，并说明编程语言', 15, '技术', '["Java代码审查","Python代码优化","前端代码规范检查"]', '', '[{"id":16250,"promptKey":"角色设定","promptValue":"你是一位资深的软件开发工程师"},{"id":16251,"promptKey":"目标任务","promptValue":"对提交的代码进行专业审查，提供优化建议"},{"id":16252,"promptKey":"需求说明","promptValue":"检查代码质量、性能、安全性等方面"},{"id":16253,"promptKey":"风格设定","promptValue":"严谨专业、注重细节"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:30', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1626, '数据分析助手', '提供您的数据和分析需求，我将帮您进行专业的数据分析', '例如：分析销售数据的趋势和规律', 15, '技术', '["销售数据分析","用户行为分析","财务数据报表"]', '', '[{"id":16260,"promptKey":"角色设定","promptValue":"你是一位专业的数据分析师"},{"id":16261,"promptKey":"目标任务","promptValue":"根据用户提供的数据进行专业分析"},{"id":16262,"promptKey":"需求说明","promptValue":"分析数据趋势、规律，提供可视化建议"},{"id":16263,"promptKey":"风格设定","promptValue":"数据驱动、逻辑清晰"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:42', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1627, 'PPT Outline Assistant', 'Enter your PPT core content, and the assistant will provide PPT outline', 'For example, input"Q2 Store Sales Review", I will provide PPT outline', 10, 'Business', '["New Employee Onboarding","Promotion Defense","Annual Summary"]', '', '[{"id":16270,"promptKey":"Role Setting","promptValue":"You are a PPT outline writing expert"},{"id":16271,"promptKey":"Target Task","promptValue":"Please write a PPT outline based on the core content I provide"},{"id":16272,"promptKey":"Requirements","promptValue":"Require clear structure and logic"},{"id":16273,"promptKey":"Style Setting","promptValue":"Clear organization, rigorous thinking"}]', 1, 1, 2, 'en', '2025-09-29 15:10:56', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1628, 'Copywriting Assistant', 'Enter your writing needs, and I will create professional copy content for you', 'For example: Write a promotional slogan for a new product launch', 10, 'Business', '["Product Slogan","Event Invitation","Brand Story"]', '', '[{"id":16280,"promptKey":"Role Setting","promptValue":"You are a professional copywriter"},{"id":16281,"promptKey":"Target Task","promptValue":"Create professional copy content based on user writing needs"},{"id":16282,"promptKey":"Requirements","promptValue":"Copy should highlight product features with concise and powerful language"},{"id":16283,"promptKey":"Style Setting","promptValue":"Creative and professional"}]', 1, 1, 2, 'en', '2025-09-29 15:11:05', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1629, 'Code Review Assistant', 'Submit your code, and I will provide professional code review and optimization suggestions', 'Please paste the code to be reviewed and specify the programming language', 15, 'Technology', '["Java Code Review","Python Code Optimization","Frontend Code Standards Check"]', '', '[{"id":16290,"promptKey":"Role Setting","promptValue":"You are a senior software development engineer"},{"id":16291,"promptKey":"Target Task","promptValue":"Professionally review submitted code and provide optimization suggestions"},{"id":16292,"promptKey":"Requirements","promptValue":"Check code quality, performance, security and other aspects"},{"id":16293,"promptKey":"Style Setting","promptValue":"Rigorous and professional, attention to detail"}]', 1, 1, 2, 'en', '2025-09-29 15:11:16', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1630, 'Data Analysis Assistant', 'Provide your data and analysis needs, and I will help you with professional data analysis', 'For example: Analyze trends and patterns in sales data', 15, 'Technology', '["Sales Data Analysis","User Behavior Analysis","Financial Data Reports"]', '', '[{"id":16300,"promptKey":"Role Setting","promptValue":"You are a professional data analyst"},{"id":16301,"promptKey":"Target Task","promptValue":"Conduct professional analysis based on user-provided data"},{"id":16302,"promptKey":"Requirements","promptValue":"Analyze data trends and patterns, provide visualization suggestions"},{"id":16303,"promptKey":"Style Setting","promptValue":"Data-driven, clear logic"}]', 1, 1, 2, 'en', '2025-09-29 15:11:27', '2025-09-30 09:35:58');
COMMIT;

SET
FOREIGN_KEY_CHECKS = 1;

SELECT 'astron_console DATABASE initialization completed' AS '';

ALTER TABLE astron_console.rpa_user_assistant ADD user_name varchar(100) NULL COMMENT '用户名';

INSERT INTO prompt_template_en (id,uid,name,description,deleted,prompt,created_time,updated_time,node_category,adaptation_model,max_loop_count) VALUES
	 (3,-1,'Commemorative card content creation','You are a birthday commemorative card content creation assistant capable of generating background images based on the user''s input name.',0,'{
  "characterSettings": "You are a birthday commemorative card content creation assistant capable of generating personalized birthday card content based on the user''s input name and the generated background image in the following format.\\n\\nFormat:\\nTitle: ''Happy Birthday'' or ''Happy Birthday!'' (optionally with the birthday person''s name, e.g., ''[Name]:'')\\nCover Image: ![example_text](https://example.com/example.png)\\nBlessing: Generated blessing message content.",
  "thinkStep": "You are a birthday commemorative card content creation assistant capable of generating background images based on the user''s input name.",
  "userQuery": "{{to_name}}"
}','2025-07-07 17:36:41','2025-07-23 15:54:35',1,'{"name": "deepseek_v3_moe","serviceId": "xdeepseekv3","serverId": "lmbXtIcNp","domain": "xdeepseekv3","patchId": "0","type": 1,"source": 2,"url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","appId": null,"licChannel": null,"llmSource": 1,"llmId": 216,"status": 1,"info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}","icon": "https://oss-beijing-m8.openstorage.cn/aicloud/llm/logo/03ee07dc3b7a16136ec925ca4ed0278e.png","color": null,"desc": "DeepSeek-V3，深度求索公司发布的AI大模型"}',1),
	 (5,-1,'Podcast Creation Assistant','You are a podcast assistant capable of generating hyper-realistic synthesized voice audio based on the story text provided by the user.',0,'{
  "characterSettings": "You are a podcast assistant. You need to present audio data in the following format:\\n\\nFormat:\\n## Title\\n\\nMP3 HTML player\\n\\nStory content",
  "thinkStep": "You are a podcast assistant capable of generating hyper-realistic synthesized voice audio based on the story text provided by the user.",
  "userQuery": "{{story}}"
}','2025-07-07 17:36:41','2025-07-23 15:55:10',1,'{"name": "deepseek_v3_moe","serviceId": "xdeepseekv3","serverId": "lmbXtIcNp","domain": "xdeepseekv3","patchId": "0","type": 1,"source": 2,"url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","appId": null,"licChannel": null,"llmSource": 1,"llmId": 216,"status": 1,"info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}","icon": "https://oss-beijing-m8.openstorage.cn/aicloud/llm/logo/03ee07dc3b7a16136ec925ca4ed0278e.png","color": null,"desc": "DeepSeek-V3，深度求索公司发布的AI大模型"}',1),
	 (7,-1,'Defect Analysis','You are a line chart drawing expert. Based on the input JSON list of issues, you need to generate a line chart showing the trend of online issue closures.',0,'{
  "characterSettings": "",
  "thinkStep": "You are a line chart drawing expert. Based on the input JSON list of issues, you need to generate a line chart showing the trend of online issue closures. The chart should cover the period from the current date to six days prior, including the following daily metrics: total number of online issues (cumulative up to the day), number of closed issues (cumulative up to the day), number of unresolved issues (total issues up to the day minus closed issues up to the day), and number of pending fix issues (cumulative pending fix issues up to the day).",
  "userQuery": "{{data_json}}"
}','2025-07-07 17:36:41','2025-07-23 15:55:46',1,'{"name": "deepseek_v3_moe","serviceId": "xdeepseekv3","serverId": "lmbXtIcNp","domain": "xdeepseekv3","patchId": "0","type": 1,"source": 2,"url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","appId": null,"licChannel": null,"llmSource": 1,"llmId": 216,"status": 1,"info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}","icon": "https://oss-beijing-m8.openstorage.cn/aicloud/llm/logo/03ee07dc3b7a16136ec925ca4ed0278e.png","color": null,"desc": "DeepSeek-V3，深度求索公司发布的AI大模型"}',1);

INSERT INTO prompt_template (id,uid,name,description,deleted,prompt,created_time,updated_time,node_category,adaptation_model,max_loop_count) VALUES
	 (13,-1,'纪念卡素材创作','你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。',0,'{"characterSettings": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名和生成的背景图片按照如下格式创作专属的生日纪念卡素材。

格式：
标题：''生日快乐'' 或 ''Happy Birthday！''（可加上寿星的名字，如：''[姓名]: ''）
封面图片：![example_text](https://example.com/example.png)
祝福语：生成的祝福语内容。", "thinkStep": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。", "userQuery": "{{to_name}}"}','2025-07-07 17:36:41','2025-07-25 10:54:12',1,'{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}',1),
	 (15,-1,'播客创建助手','你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。',0,'{"characterSettings": "你是一个播客助手，你需要基于以下格式展示音频数据：

格式：
## 标题

mp3 html播放器

故事正文", "thinkStep": "你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。", "userQuery": "{{story}}"}','2025-07-07 17:36:41','2025-07-25 10:54:13',1,'{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}',1),
	 (17,-1,'缺陷分析','你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图.',0,'{"characterSettings": "", "thinkStep": "你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图；包含当前日期到当前日期前六天期间线上问题每日趋势，包含线上问题总数（截止当日问题总数），已关闭问题数（截止当日已关闭总数），遗留未关闭问题数（截止当日问题总数减去截止当日已关闭总数），遗留待修复问题数（截止当日待修复总数）", "userQuery": "{{data_json}}"}','2025-07-07 17:36:41','2025-07-25 10:54:13',1,'{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}',1);

-- ----------------------------
-- Table structure for app_mst
-- ----------------------------
DROP TABLE IF EXISTS `app_mst`;
CREATE TABLE `app_mst` (
  `id`           bigint         NOT NULL        AUTO_INCREMENT,
  `uid`          varchar(128)   NOT NULL        COMMENT 'User ID',
  `app_name`     varchar(128)   DEFAULT NULL    COMMENT 'App name',
  `app_describe` varchar(512)   DEFAULT NULL    COMMENT 'App Describe',
  `app_id`       varchar(128)   DEFAULT NULL    COMMENT 'App ID',
  `app_key`      varchar(128)   DEFAULT NULL    COMMENT 'App Key',
  `app_secret`   varchar(128)   DEFAULT NULL    COMMENT 'App Secret',
  `is_delete`    tinyint        DEFAULT '0'     COMMENT 'Is Delete',
  `create_time`  datetime       DEFAULT NULL    COMMENT 'Create Time',
  `update_time`  datetime       DEFAULT NULL    COMMENT 'Update Time',
  PRIMARY KEY (`id`),
  KEY `idx_uid` (`uid`),
  KEY `idx_app_id` (`app_id`),
  KEY `idx_app_name` (`app_name`)
) ENGINE=InnoDB COLLATE=utf8mb4_unicode_ci;

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b2262bef821000', '超拟人合成', '用户上传一段话，选择特色发音人，生成一段更拟人的语音', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745890045391_image22.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/smarttts', 'post', '{"toolRequestInput":[{"id":"d92e5ee8-2e15-459b-a368-6ef187295cdf","name":"vcn","description":"特色发音人，目前可选（x5_lingfeiyi_flow）","type":"string","location":"body","required":true,"default":"x5_lingfeiyi_flow","open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""},{"id":"f4f6ef93-f19a-40e9-843e-48f42dba450b","name":"text","description":"需要合成的文本","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"d83edba1-4223-4a1d-be9c-662aff099f37","name":"speed","description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","type":"integer","location":"body","required":true,"default":50,"open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""}],"toolRequestOutput":[{"id":"41e2c8e3-4626-48be-a36c-d9a60f57bbfb","name":"code","description":"状态码","type":"integer","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"423c0961-a149-43a5-8cf4-be696fca4c65","name":"message","description":"操作消息","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"d4bd9e53-999b-43d1-b304-416ddf096b51","name":"sid","description":"会话id","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"56ea11ae-ac9e-46fd-aaa6-f147eaa5a386","name":"data","description":"结果","type":"object","open":true,"nameErrMsg":"","descriptionErrMsg":"","children":[{"id":"910d0270-bbbe-44cd-8f84-8208279be7cc","name":"voice_url","description":"音频下载url","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""}]}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/smarttts":{"post":{"description":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","operationId":"超拟人合成-46EXFdLW","requestBody":{"content":{"application/json":{"schema":{"properties":{"vcn":{"default":"x5_lingfeiyi_flow","description":"特色发音人，目前可选（x5_lingfeiyi_flow）","type":"string","x-display":true,"x-from":2},"text":{"description":"需要合成的文本","type":"string","x-display":true,"x-from":2},"speed":{"default":50,"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","type":"integer","x-display":true,"x-from":2}},"required":["vcn","text","speed"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"结果","properties":{"voice_url":{"description":"音频下载url","type":"string","x-display":true}},"type":"object","x-display":true},"message":{"description":"操作消息","type":"string","x-display":true},"sid":{"description":"会话id","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"超拟人合成"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 09:55:51', '2025-10-15 10:50:24', 1, 0, 0, '1583', '超拟人合成-46EXFdLW', 1, 1, NULL, 0, 1, '1,2', '#FFEAD5', 1, 'V1.0', '', NULL);

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b226f7d7421000', '文生图', '根据输入的内容生成与内容有关的图片', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745830350835_KKCvr5jXz9.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/image_generate', 'post', '{"toolRequestInput":[{"id":"94afa466-dabf-47a9-9e44-b1578fad8833","name":"width","description":"宽度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","location":"body","required":true,"default":1024,"open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""},{"id":"f0e78bbd-b71b-4e8b-a7a7-23f1278ad801","name":"height","description":"高度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","location":"body","required":true,"default":1024,"open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""},{"id":"9470f18f-137f-4bb0-a539-573aec172a72","name":"prompt","description":"图片描述信息","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""}],"toolRequestOutput":[{"id":"5bcb474c-ccef-4281-b9aa-e18fa147f261","name":"code","description":"状态码","type":"integer","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"d81f669d-97f7-43f7-9861-5dc3c458de6c","name":"sid","description":"会话id","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"aaa2b97d-62ac-424d-83e6-01be45e23086","name":"message","description":"操作消息","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"b4989736-44be-4009-8987-8758e38b7afe","name":"data","description":"结果","type":"object","open":true,"nameErrMsg":"","descriptionErrMsg":"","children":[{"id":"ec357779-cfe5-4554-9aae-6983e0d06a0e","name":"image_url","description":"图片下载地址","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""},{"id":"ed1609c4-bcff-4cdd-9ac0-0804c4de95e5","name":"image_url_md","description":"图片下载地址markdown格式","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""}]}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/image_generate":{"post":{"description":"根据输入的内容生成与内容有关的图片","operationId":"文生图-hrOgFpJ8","requestBody":{"content":{"application/json":{"schema":{"properties":{"width":{"default":1024,"description":"宽度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","x-display":true,"x-from":2},"prompt":{"description":"图片描述信息","type":"string","x-display":true,"x-from":2},"height":{"default":1024,"description":"高度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","x-display":true,"x-from":2}},"required":["width","height","prompt"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"结果","properties":{"image_url":{"description":"图片下载地址","type":"string","x-display":true},"image_url_md":{"description":"图片下载地址markdown格式","type":"string","x-display":true}},"type":"object","x-display":true},"message":{"description":"操作消息","type":"string","x-display":true},"sid":{"description":"会话id","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"文生图"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 09:59:25', '2025-10-15 10:50:24', 1, 0, 0, '1583', '文生图-hrOgFpJ8', 1, 1, NULL, 0, 1, '1,2', '#FFEAD5', 1, 'V1.0', '', NULL);

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b2277329821000', '图片理解', '用户输入一张图片和问题，从而识别出图片中的对象、场景等信息回答用户的问题', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745890302944_image_10.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/image_understanding', 'post', '{"toolRequestInput":[{"id":"72a75566-57e2-4d86-b60e-c6612b1de292","name":"question","description":"问题","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"e01dd4f8-ba80-480d-a59d-7655451f0012","name":"image_url","description":"图片","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""}],"toolRequestOutput":[{"id":"7b87c14b-6427-48d3-a1c5-03572dbb6dbc","name":"code","description":"状态码","type":"integer","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"9bea1eeb-8715-4656-b88d-43ed4b9bc655","name":"message","description":"操作消息","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"8ddcfd48-dad0-485a-b753-33850b52cbeb","name":"sid","description":"会话id","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"bab62180-cb55-4ab6-93dc-89c99f789697","name":"data","description":"结果","type":"object","open":true,"nameErrMsg":"","descriptionErrMsg":"","children":[{"id":"e835a54e-693b-4dd2-be65-f04aba9ad69b","name":"content","description":"回答内容","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""}]}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/image_understanding":{"post":{"description":"用户输入一张图片和问题，从而识别出图片中的对象、场景等信息回答用户的问题","operationId":"图片理解-Qo66kqwh","requestBody":{"content":{"application/json":{"schema":{"properties":{"question":{"description":"问题","type":"string","x-display":true,"x-from":2},"image_url":{"description":"图片","type":"string","x-display":true,"x-from":2}},"required":["question","image_url"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"结果","properties":{"content":{"description":"回答内容","type":"string","x-display":true}},"type":"object","x-display":true},"message":{"description":"操作消息","type":"string","x-display":true},"sid":{"description":"会话id","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"图片理解"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 10:01:36', '2025-10-15 10:50:24', 1, 0, 0, '1583', '图片理解-Qo66kqwh', 1, 1, NULL, 0, 1, '1,2', '#FFEAD5', 1, 'V1.0', '', NULL);

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b2282136021000', 'OCR', '识别图片或PDF文件中的文字内容，目前支持PDF,PNG,JPG', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745889604366_image14.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/ocr', 'post', '{"toolRequestInput":[{"default":"","description":"图片或pdf文件的url地址","from":2,"id":"a32dc338-db43-4601-a4f6-5ec00e8601a6","location":"body","name":"file_url","open":true,"required":true,"type":"string","descriptionErrMsg":"","nameErrMsg":""},{"default":-1,"description":"当传入的是pdf链接，表示页码开始范围，-1表示全部页码，从0开始；图片链接不影响该值输入","from":2,"id":"1214355c-dcd2-4232-8df3-e363904592c3","location":"body","name":"page_start","open":true,"required":false,"type":"integer","descriptionErrMsg":"","startDisabled":false,"defalutDisabled":false,"nameErrMsg":""},{"default":-1,"description":"当传入的是pdf链接，表示页码结束范围，-1表示全部页码，从0开始；图片链接不影响该值输入","from":2,"id":"b6ffb357-6d28-44d1-a514-162ed182a35b","location":"body","name":"page_end","open":true,"required":false,"type":"integer","descriptionErrMsg":"","startDisabled":false,"defalutDisabled":false,"nameErrMsg":""}],"toolRequestOutput":[{"description":"状态码","id":"964ebe24-4dbf-46a2-8f84-564360e347ef","name":"code","open":true,"type":"integer","nameErrMsg":"","descriptionErrMsg":""},{"description":"操作信息","id":"909e60f3-231f-468d-9735-0139c633d813","name":"message","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""},{"children":[{"children":[{"description":"页码","fatherType":"object","id":"aed80a2e-8a7a-4013-8af8-d9ec1296e7cb","name":"file_index","open":true,"type":"integer","nameErrMsg":"","descriptionErrMsg":""},{"children":[{"children":[{"description":"源数据","fatherType":"object","id":"5ac971c6-f028-4637-994e-7942a39c10cf","name":"source_data","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""},{"description":"名称","fatherType":"object","id":"4ac0a589-4c27-4f33-976b-eb7f245314cc","name":"name","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""},{"description":"内容","fatherType":"object","id":"9ece46b1-790e-416e-ada0-58e01f51d290","name":"value","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""}],"description":"item-content","fatherType":"array","id":"91771848-fc62-4a8a-8086-4095cdf20b7c","name":"[Array Item]","open":true,"type":"object","nameErrMsg":"","descriptionErrMsg":""}],"description":"页面内容","fatherType":"object","id":"1ade0de0-1c8b-4daa-97af-d908c5a1db8c","name":"content","open":true,"type":"array","nameErrMsg":"","descriptionErrMsg":""}],"description":"item-page","fatherType":"array","id":"c04ccb33-92a1-4bcc-acb6-2b59c6ba139d","name":"[Array Item]","open":true,"type":"object","nameErrMsg":"","descriptionErrMsg":""}],"description":"识别结果","id":"b00cb37f-5e65-4ce7-9e46-ef3d9bb0a63d","name":"data","open":true,"type":"array","nameErrMsg":"","descriptionErrMsg":""}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/ocr":{"post":{"description":"识别图片或PDF文件中的文字内容，目前支持PDF,PNG,JPG","operationId":"OCR-9dRrb94M","requestBody":{"content":{"application/json":{"schema":{"properties":{"file_url":{"description":"图片或pdf文件的url地址","type":"string","x-display":true,"x-from":2},"page_end":{"default":-1,"description":"当传入的是pdf链接，表示页码结束范围，-1表示全部页码，从0开始；图片链接不影响该值输入","type":"integer","x-display":true,"x-from":2},"page_start":{"default":-1,"description":"当传入的是pdf链接，表示页码开始范围，-1表示全部页码，从0开始；图片链接不影响该值输入","type":"integer","x-display":true,"x-from":2}},"required":["file_url"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"识别结果","items":{"properties":{"content":{"description":"页面内容","items":{"properties":{"source_data":{"description":"源数据","type":"string","x-display":true},"name":{"description":"名称","type":"string","x-display":true},"value":{"description":"内容","type":"string","x-display":true}},"required":[],"type":"object"},"type":"array","x-display":true},"file_index":{"description":"页码","type":"integer","x-display":true}},"required":[],"type":"object"},"type":"array","x-display":true},"message":{"description":"操作信息","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"OCR"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 10:06:15', '2025-10-15 10:06:15', 1, 0, 0, '1583', 'OCR-9dRrb94M', 1, 0, NULL, 0, 1, '1,2', '', 1, 'V1.0', '', NULL);	




INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '。', '句号', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '；', '分号', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, ' ', '空格', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '	', '制表符', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '
', '换行', 0, now(), now());

INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'modelCategory', '模型类别', 0, '2023-12-22 15:42:43', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'modelScenario', '模型场景', 0, '2024-06-06 16:47:55', '2025-08-28 17:36:12', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'languageSupport', '语言支持', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '文本生成', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '文生图', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '图像理解', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '图像分类', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '数学', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '代码', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '医疗', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '教育', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '意图识别', 1, '2024-06-06 17:24:03', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '对话', 0, '2024-06-06 17:24:03', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '数学推理', 1, '2024-06-06 17:24:03', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '检索增强', 1, '2024-06-06 17:24:03', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '中文', 0, '2024-06-06 17:24:30', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '英文', 0, '2024-06-06 17:24:30', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文本续写', 1, '2024-06-13 16:29:49', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '指令理解', 1, '2024-06-13 16:30:00', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '多轮上下文理解', 1, '2024-06-13 16:30:07', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '代码完成', 1, '2024-06-13 16:48:34', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '自动填充', 1, '2024-06-13 16:48:34', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '摘要', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文本生成', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '聊天机器人', 0, '2024-06-13 16:50:37', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '德语', 0, '2024-06-13 16:50:56', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '逻辑推理', 0, '2024-10-22 20:21:52', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '内容创作', 0, '2024-10-22 20:22:22', '2025-08-29 15:46:12', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '多语言', 0, '2024-10-22 20:22:50', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '指令遵循', 1, '2024-10-22 20:26:31', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '知识问答', 0, '2024-10-22 20:43:38', '2025-08-29 15:54:15', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '人设', 1, '2025-01-16 16:38:56', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '深度思考', 0, '2025-03-06 14:06:06', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'modelProvider', '模型提供方', 0, '2025-03-06 14:06:45', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, '', '模型特性', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '深度求索', 0, '2025-03-06 14:06:45', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '文本分类', 0, '2025-03-06 17:58:54', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '语义分析', 0, '2025-03-06 17:59:24', '2025-08-29 15:54:08', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '谷歌', 0, '2025-03-06 17:59:53', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '哈工大讯飞联合实验室', 0, '2025-03-06 18:03:54', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '上海人工智能实验室', 0, '2025-03-06 18:12:41', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '科大讯飞', 0, '2025-03-06 18:15:33', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'Meta AI', 0, '2025-03-06 18:18:32', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '阿里巴巴', 0, '2025-03-06 18:21:02', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'Stability AI', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '视频生成', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '快手', 0, '2025-04-12 16:38:41', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '超长文本输入', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '医疗垂类', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '指令跟随', 1, '2024-10-22 20:26:31', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文本改写', 1, '2024-10-22 20:26:31', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '翻译', 0, '2024-10-22 20:26:31', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '商用受限', 1, '2024-10-22 20:22:22', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'Black Forest Labs', 0, '2025-04-12 16:38:41', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', 'MoE', 0, '2024-10-22 20:22:22', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '创意写作', 0, '2025-05-12 09:51:42', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '多轮交互', 1, '2025-05-12 09:52:07', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '代码生成', 1, '2025-05-12 09:53:01', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '轻量级', 1, '2025-05-12 09:54:18', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '多轮对话', 1, '2025-05-12 09:54:38', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文档分析', 1, '2025-05-12 09:54:56', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '短文本生成', 1, '2025-05-12 09:56:04', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '轻量级对话', 1, '2025-05-12 09:56:54', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '企业级推理', 1, '2025-05-12 09:58:06', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '长文档分析', 1, '2025-05-12 09:58:55', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '视觉语言模型', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '逻辑推理', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '深度思考', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '指令遵循', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '医学知识问答', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '内容创作', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '医疗定制场景', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '高性能', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'contextLength', '上下文长度', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 800);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'contextLengthTag', '上下文长度卡片', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 800);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(147, 'contextLength', '<=4k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 790);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(147, 'contextLength', '4k-16k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 750);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(147, 'contextLength', '>=16k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 710);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '8k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 6);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'BigCode', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '32k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 5);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '知识库', 1, '2025-05-12 09:53:01', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'indexMarker', '角标', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '最新发布', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '最受欢迎', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '影视制作', 0, '2024-06-13 16:50:37', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '高性价比', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '全能表现', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '出众性能', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '16k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 4);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '64k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 3);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'openai', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, '', '默认', 0, '2023-10-16 19:45:51', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '混合思考', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '工具调用', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '其他', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 800);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '其他', 0, '2024-06-13 16:50:37', '2025-08-28 17:39:37', -1);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '128k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 2);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '256k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 1);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '智能客服', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '图像提取', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '角色扮演', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);


INSERT INTO prompt_template (uid, name, description, deleted, prompt, created_time, updated_time, node_category, adaptation_model, max_loop_count) VALUES(-1, '纪念卡素材创作', '你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。', 0, '{"characterSettings": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名和生成的背景图片按照如下格式创作专属的生日纪念卡素材。

格式：
标题：''生日快乐'' 或 ''Happy Birthday！''（可加上寿星的名字，如：''[姓名]: ''）
封面图片：![example_text](https://example.com/example.png)
祝福语：生成的祝福语内容。", "thinkStep": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。", "userQuery": "{{to_name}}"}', '2025-07-07 17:36:41', '2025-07-25 10:54:12', 1, '{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}', 1);
INSERT INTO prompt_template (uid, name, description, deleted, prompt, created_time, updated_time, node_category, adaptation_model, max_loop_count) VALUES(-1, '播客创建助手', '你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。', 0, '{"characterSettings": "你是一个播客助手，你需要基于以下格式展示音频数据：

格式：
## 标题

mp3 html播放器

故事正文", "thinkStep": "你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。", "userQuery": "{{story}}"}', '2025-07-07 17:36:41', '2025-07-25 10:54:13', 1, '{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}', 1);
INSERT INTO prompt_template (uid, name, description, deleted, prompt, created_time, updated_time, node_category, adaptation_model, max_loop_count) VALUES(-1, '缺陷分析', '你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图.', 0, '{"characterSettings": "", "thinkStep": "你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图；包含当前日期到当前日期前六天期间线上问题每日趋势，包含线上问题总数（截止当日问题总数），已关闭问题数（截止当日已关闭总数），遗留未关闭问题数（截止当日问题总数减去截止当日已关闭总数），遗留待修复问题数（截止当日待修复总数）", "userQuery": "{{data_json}}"}', '2025-07-07 17:36:41', '2025-07-25 10:54:13', 1, '{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}', 1);



INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(184709, 11143393282, '12a0a7e2', '7360965189462188034', '文字转语音', '我能将你输入的任何文字转成超拟人的语音，还支持语音文件下载哦~', 0, 0, '2025-08-12 17:27:41', '2025-08-13 15:48:25', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":-25.109019607843152,"y":521.7086666666667},"positionAbsolute":{"x":-25.109019607843152,"y":521.7086666666667},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"voice","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"<!DOCTYPE html>\\n<html lang=\\"zh\\">\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>语音播放</title>\\n</head>\\n<body>\\n  <audio preload=\\"none\\" controls>\\n    <source src=\\"{{voice}}\\" type=\\"audio/mpeg\\">\\n  </audio>\\n</body>\\n</html>","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"191a044a-dd3d-4e24-864a-3f5a7c503b83","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"45fdbef4-d7ce-4ec7-9526-72ee1cc52f7f","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"4ace75c3-4da4-480b-bc8b-fd0bbe244f0b","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","children":[{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"4993c6c4-b8b7-4bf3-ac01-32e398299e01","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":807,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":1946.9152261758845,"y":295.683895317638},"positionAbsolute":{"x":1946.9152261758845,"y":295.683895317638},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"id":"e6c42a41-565a-4ce3-a532-7acefc886c06","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"dc3b5606-8312-477f-85f7-bea54e9823bb","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingxiaoxuan_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"dfe7e39f-257b-414c-be34-ccee42f2c4df","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"50","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"11143393282","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","pluginId":"tool@72213899d821000","remarkVisible":true,"appId":"12a0a7e2","operationId":"超拟人合成-7UcDosEk","remark":"vcn：当前选择音色为女生，参数填写【x4_lingfeiyi_oral】可修改为男声。\\nspeed: 当前速度正常，100为2倍速，0为0.5倍速。","version":"V1.0","businessInput":[]},"outputs":[{"id":"191a044a-dd3d-4e24-864a-3f5a7c503b83","name":"sid","schema":{"type":"string"}},{"id":"45fdbef4-d7ce-4ec7-9526-72ee1cc52f7f","name":"code","schema":{"type":"integer"}},{"id":"4ace75c3-4da4-480b-bc8b-fd0bbe244f0b","name":"msg","schema":{"type":"string"}},{"id":"4993c6c4-b8b7-4bf3-ac01-32e398299e01","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":483,"id":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","position":{"x":872.5603748524165,"y":410.0136506564281},"positionAbsolute":{"x":872.5603748524165,"y":410.0136506564281},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/generate/cht000b6a57%40dx1989d9d0138b8f3550.jpg', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["哈喽你好呀，我是一个复读机","我可以读出你输入的任何文字哦","我还可以生成可下载的语音文件呢"],"prologueText":"我能将你输入的任何文字转成超拟人的语音，还支持语音文件下载哦~"},"needGuide":false,"speechToText":{"enabled":true},"feedback":{"enabled":true}}', '{"botId":3060117}', 10, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(177701, 18882349618, '12a0a7e2', '7358380736721018880', '【模板勿动】模拟面试官', '模拟面试官', 0, 0, '2025-08-05 14:18:05', '2025-09-02 17:28:52', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["pdf"],"customParameterType":"xfyun-file","fileType":"file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","name":"resume_file","nameErrMsg":"","required":false,"schema":{"default":"简历附件","properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":295,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":0,"y":934.8240716116768},"positionAbsolute":{"x":-1265.2271275425514,"y":2542.531563288816},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"61310cff-d526-4232-874d-f60d9136baad","nodeId":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":true,"apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","outputMode":1,"reasoningTemplate":"\\n"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","id":"61310cff-d526-4232-874d-f60d9136baad","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试评价","parentNode":true,"value":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb"},{"children":[{"references":[{"originId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":615,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":10378.574940031218,"y":851.2992673147895},"positionAbsolute":{"x":10378.574940031218,"y":851.2992673147895},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"pdf","id":"5ac0d31b-a1d9-4bdb-bfbe-1aa2be4d3014","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"resume_file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"93992760-d22b-4549-8d2d-5d36876ad81c","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}}],"label":"简历是否上传","labelEdit":false,"nodeMeta":{"aliasName":"简历是否上传","nodeType":"分支器"},"nodeParam":{"uid":"4493076350","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","conditions":[{"leftVarIndex":"5ac0d31b-a1d9-4bdb-bfbe-1aa2be4d3014","rightVarIndex":"93992760-d22b-4549-8d2d-5d36876ad81c","compareOperatorErrMsg":"","id":"","compareOperator":"not_empty"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73","conditions":[]}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","position":{"x":919.5420769498642,"y":896.8903176659413},"positionAbsolute":{"x":919.5420769498642,"y":896.8903176659413},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"1905e361-c74a-4cf4-896a-879d0d1f6ad5","name":"resume_info","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.ocr_result","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","nodeId":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},"contentErrMsg":"","type":"ref"}}}],"label":"简历关键信息提取","labelEdit":false,"nodeMeta":{"aliasName":"简历关键信息提取","nodeType":"基础节点"},"nodeParam":{"template":"## 角色定义\\n你是一个专业的简历解析引擎，专门从非结构化的简历文本{{resume_info}}中提取关键信息，并将其转换为高度结构化的JSON格式。你的输出将直接用于后续的面试问题生成系统。\\n\\n## 核心能力\\n1. 智能信息提取：\\n   - 采用多层级解析技术识别简历中的关键字段\\n   - 对模糊表述进行智能推断（如\\"近期\\"转换为具体时间段）\\n   - 自动补全隐含信息（如\\"本科\\"默认对应\\"学士学位\\"）\\n\\n## 输出规范\\n{\\n  \\"personal_info\\": {\\n    \\"name\\": \\"张三\\",\\n    \\"contact\\": {\\n      \\"phone\\": \\"13800138000\\",\\n      \\"email\\": \\"zhangsan@email.com\\",\\n      \\"location\\": \\"北京\\"\\n    },\\n    \\"job_target\\": \\"高级Java开发工程师\\"\\n  },\\n  \\"education\\": [\\n    {\\n      \\"institution\\": \\"清华大学\\",\\n      \\"degree\\": \\"硕士\\",\\n      \\"major\\": \\"计算机科学与技术\\",\\n      \\"time_range\\": \\"2015.09-2018.06\\",\\n      \\"honors\\": [\\"优秀毕业生\\"]\\n    }\\n  ],\\n  \\"work_experience\\": [\\n    {\\n      \\"company\\": \\"字节跳动\\",\\n      \\"position\\": \\"高级软件工程师\\",\\n      \\"time_range\\": \\"2019.07-至今\\",\\n      \\"responsibilities\\": [\\n        \\"负责抖音支付系统架构设计\\",\\n        \\"日处理交易量提升300%\\"\\n      ],\\n      \\"tech_stack\\": [\\"Java\\", \\"Spring Cloud\\", \\"Kafka\\"]\\n    }\\n  ],\\n  \\"projects\\": [\\n    {\\n      \\"name\\": \\"智能客服系统\\",\\n      \\"role\\": \\"技术负责人\\",\\n      \\"time_range\\": \\"2020.03-2021.05\\",\\n      \\"description\\": \\"基于NLP的智能问答系统\\",\\n      \\"achievements\\": [\\n        \\"响应时间从5s降至800ms\\",\\n        \\"准确率提升至92%\\"\\n      ]\\n    }\\n  ],\\n  \\"skills\\": {\\n    \\"technical\\": [\\n      {\\"name\\": \\"Java\\", \\"level\\": \\"精通\\"},\\n      {\\"name\\": \\"MySQL\\", \\"level\\": \\"熟练\\"}\\n    ],\\n    \\"language\\": [\\n      {\\"name\\": \\"英语\\", \\"level\\": \\"CET-6\\"}\\n    ]\\n  }\\n}\\n## 质量控制\\n  - 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n  - 完整性检查：确保每个模块必填字段完整\\n  - 时间轴校验：自动检测时间冲突或重叠\\n  - 敏感信息过滤：自动脱敏联系方式等隐私信息\\n  - 标准化输出：所有日期统一为\\"YYYY.MM\\"格式","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"auditing":"default","remark":"根据简历提取文本，提炼关键信息","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"\\n","respFormat":0},"outputs":[{"id":"e714d620-5c18-4551-802b-e4612cd33cff","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"}],"status":"","updatable":false},"dragging":false,"height":1209,"id":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","position":{"x":3962.836503611704,"y":-9.040091039424794},"positionAbsolute":{"x":3962.836503611704,"y":-9.040091039424794},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"b5f9cab6-1398-4b81-9fcd-b45267b3a1fe","name":"interview_params","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"interview_params","id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","nodeId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"acdde8d8-e035-4fb3-853c-e66bb703deba","name":"resume_info","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"resume_info","id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","nodeId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f"},"contentErrMsg":"","type":"ref"}}}],"label":"面试题生成助理","labelEdit":false,"nodeMeta":{"aliasName":"面试题生成助理","nodeType":"基础节点"},"nodeParam":{"template":"## 角色\\n你是一个专业级面试题生成引擎，基于多维参数智能构建结构化面试题库。根据候选人画像{{resume_info}}和面试参数{{interview_params}}，生成精准匹配的评估体系。\\n\\n## 输入参数处理\\n1. 场景解析引擎：\\n   - 识别{{interview_params}}场景类型（技术面/HR面/高管面/压力面）\\n   - 自动匹配该场景的题目权重分布（技术面70%技术题/20%行为题/10%情景题）\\n2. 公司画像匹配：\\n   - 分析{{interview_params}}公司类型（互联网大厂/外企/创业公司/国企）\\n   - 加载对应题库特征（大厂重算法/外企重系统设计/创业公司重全栈能力）\\n3. 难度控制系统：\\n   - 解析{{interview_params}}难度等级（1-10级）\\n   - 自动调节：\\n     - 问题深度（L1:概念题 → L10:架构设计）\\n     - 开放程度（封闭问答 → 发散思考）\\n     - 综合维度（单点知识 → 多领域交叉）\\n\\n## 候选人画像分析\\n1. **个人信息深度解析**：\\n   - 提取{{resume_info}}中的：\\n     - 职业发展阶段（应届生/中级/资深）\\n     - 目标岗位匹配度（核心职能/边缘职能）\\n     - 职业轨迹分析（行业连续性/转型幅度）\\n2. **目标岗位映射**：\\n   - 解析{{resume_info.job_target}}：\\n     - 岗位类型（技术/产品/管理）\\n     - 职级要求（P6/P7/M1等）\\n     - 核心能力需求（技术深度/管理广度）\\n3. **教育背景评估**：\\n   - 分析{{resume_info.education}}：\\n     - 院校层级（985/211/海外名校）\\n     - 专业相关性（科班/转专业）\\n     - 学术表现（GPA/荣誉/论文）\\n     - 教育轨迹（本硕博连贯性/间隔情况）\\n4. 工作经验解构：\\n   - 分析{{resume_info.work_experience}}中的：\\n     - 职级梯度（Junior/Senior/Lead）\\n     - 领域专注度（垂直领域/跨领域）\\n     - 成就指标（项目规模/技术难点）\\n5. 项目经验挖掘：\\n   - 从{{resume_info.projects}}提取：\\n     - 技术亮点（架构设计/性能优化）\\n     - 角色权重（参与者/主导者）\\n     - 复杂度（日活量级/技术组合）\\n6. 技术栈映射：\\n   - 对{{resume_info.skills}}进行：\\n     - 技能树构建（核心技能/辅助技能）\\n     - 熟练度匹配（了解/熟悉/精通）\\n     - 技术生态关联（主语言对应框架/工具链）\\n\\n## 技能\\n1. 根据用户提供的参数生成面试题：\\n  - 根据用户指定的场景，生成符合该场景的面试题。\\n  - 根据用户指定的公司类型，生成符合该公司类型的面试题。\\n  - 根据用户指定的难度等级，生成相应难度的面试题。\\n  - 根据用户的工作经验，生成符合该工作经验的面试题。\\n  - 根据用户的项目经验，生成符合该项目经验的面试题。\\n  - 根据用户的技术栈，生成符合该技术栈的面试题。\\n  - 根据用户指定的面试时长{{interview_params}}，预估并控制总题数和作答时间。\\n  - 确保题目类型混合，包括开放性问答、场景分析、技术细节、行为/产品思路等。\\n2. 输出格式化的面试题：\\n  - 将生成的面试题以JSON数组格式输出，每道题包含question_id、content、category、difficulty、estimated_time和evaluation_focus字段。\\n  - 确保输出仅包含JSON，不带任何额外说明文字。\\n  - 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n输出结果示例如下：\\n[\\n    {\\n      \\"question_id\\": \\"[岗位缩写_序号，如algo_001]\\",\\n      \\"content\\": \\"[具体题目内容，150字以内]\\",\\n      \\"category\\": \\"[专业知识/技术能力/项目经验/思维能力/软技能]\\",\\n      \\"difficulty\\": \\"[1-10的整数分值]\\",\\n      \\"estimated_time\\": \\"[预估回答时间，如2-3分钟]\\",\\n      \\"evaluation_focus\\": \\"[主要考察点，20字以内]\\"\\n    },\\n  ]\\n\\n## 智能组题算法\\n1. 题型配比引擎：\\n   - 基础题（30%）：概念验证型\\n   - 进阶题（50%）：场景应用题 \\n   - 开放题（20%）：策略思考题\\n\\n2. 时间动态规划：\\n   - 根据{{interview_params}}面试时长：\\n     - 短面试（30分钟）：8-10题（含2道深度题）\\n     - 标准面试（60分钟）：15-18题（含5道综合题）\\n     - 长面试（90分钟）：25-30题（含技术方案设计）\\n\\n3. 难度曲线控制：\\n   - 开场题（难度-2）\\n   - 核心考察区（难度+3）\\n   - 压轴题（难度峰值）\\n## 限制\\n- 只讨论与面试题生成相关的内容，拒绝回答与面试题生成无关的话题。\\n- 严格按照用户提供的参数生成面试题，不超出范围。\\n- 题干要贴合所选场景和公司类型，确保题目的实际适用性。\\n- 控制题量和预估作答时间总和接近用户指定时长，确保面试流程的合理性。\\n- 输出仅包含JSON格式的面试题，不添加任何额外说明或文本。\\n- 输出的json格式不能有 ``````json、`````` 这类格式标签。","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"auditing":"default","remark":"根据简历信息和面试场景信息，使用大模型节点生成面试题","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"\\n","respFormat":0},"outputs":[{"id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1297,"id":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","position":{"x":5998.658853585624,"y":542.487448283948},"positionAbsolute":{"x":5998.658853585624,"y":542.487448283948},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"dbc47722-4815-491e-b4d3-a5e8f43d8f03","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","nodeId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"},"contentErrMsg":"","type":"ref"}}}],"label":"提取面试场景信息","labelEdit":false,"nodeMeta":{"aliasName":"提取面试场景信息","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"def main(input):\\n    interview_params = input.split(\\";\\")\\n    # ret = {\\n    #     \\"key0\\": info[0],\\n    #     \\"key1\\": info[1],\\n    #     \\"key2\\": info[2],\\n    #     \\"key3\\": info[3]\\n    # }\\n    return {\\"interview_params\\":interview_params}\\n    # return interview_params","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","name":"interview_params","nameErrMsg":"","schema":{"default":"","properties":[],"type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":796,"id":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","position":{"x":4541.546157938041,"y":1530.063391350784},"positionAbsolute":{"x":4541.546157938041,"y":1530.063391350784},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"5fd9175e-f29b-4a33-bfbc-198cf1808d7f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"e714d620-5c18-4551-802b-e4612cd33cff","nodeId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},"contentErrMsg":"","type":"ref"}}}],"label":"提取简历关键信息","labelEdit":false,"nodeMeta":{"aliasName":"提取简历关键信息","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"import json\\n\\n# 提取简历中的工作经验、项目经验和技术栈信息\\n# 参数:\\n#   input: string类型，包含简历信息的JSON字符串\\n# 返回:\\n#   dict类型，包含三个键: workExperience(工作经验), projectExperience(项目经验), techStack(技术栈)\\ndef main(input):\\n    return json.loads(input)\\n    # try:\\n        \\n    #     # resume_data = json.loads(input)\\n    #     # 去除字符串开头和结尾的``````json和``````\\n    #     json_str = input.replace(\\"``````json\\", \\"\\").replace(\\"``````\\", \\"\\")\\n    #     resume_data = json.loads(json_str)\\n    #     # 尝试解析清理后的JSON字符串\\n\\n    #     # 提取个人信息\\n    #     personal_info = resume_data.get(''personal_info'',{})\\n\\n    #     # 提取目标岗位\\n    #     job_target = resume_data.get(''job_target'', '''')\\n\\n    #     # 提取教育背景\\n    #     education = resume_data.get(''education'', [])\\n        \\n    #     # 提取工作经验\\n    #     work_experience = resume_data.get(''workExperience'', [])\\n        \\n    #     # # 提取项目经验\\n    #     project_experience = resume_data.get(''projects'', [])\\n        \\n    #     # # 提取技术栈\\n    #     skills = resume_data.get(''skills'', {})\\n       \\n        \\n    #     # ret = {\\n    #     # # 工作经验\\n    #     # \\"workExperience\\": work_experience,\\n    #     # \\"projects\\": project_experience,\\n    #     # \\"skills\\": skills,\\n    #     # }\\n    #     ret = {\\n    #     # 工作经验\\n    #     \\"workExperience\\": json.dumps(work_experience, ensure_ascii=False),\\n    #     \\"projects\\": json.dumps(project_experience, ensure_ascii=False),\\n    #     \\"skills\\": json.dumps(skills, ensure_ascii=False),\\n    #     }\\n    #     return ret\\n    # except json.JSONDecodeError:\\n    #     return {''error'': ''Invalid JSON input''}\\n","apiKey":"d84b9d780b488cf919c5273686ee4e1a","remarkVisible":true,"appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"使用代码节点，整理提取出来的关键信息","codeErrMsg":""},"outputs":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","name":"resume_info","nameErrMsg":"","schema":{"default":"","properties":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","name":"personal_info","properties":[{"id":"6288194e-c473-470c-97e3-781294a83957","name":"name","required":false,"type":"string"},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","name":"contact","properties":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","name":"phone","required":false,"type":"string"},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","name":"email","required":false,"type":"string"},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","name":"location","required":false,"type":"string"}],"required":false,"type":"object"}],"required":false,"type":"object"},{"id":"40a8d259-69de-4e11-b2f6-987610776811","name":"job_target","required":false,"type":"string"},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","name":"education","properties":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","name":"institution","required":false,"type":"string"},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","name":"degree","required":false,"type":"string"},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","name":"major","required":false,"type":"string"},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","name":"time_range","required":false,"type":"string"},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","name":"honors","properties":[],"required":false,"type":"array-string"}],"required":false,"type":"array-object"},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","name":"work_experience","properties":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","name":"company","required":false,"type":"string"},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","name":"position","required":false,"type":"string"},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","name":"time_range","required":false,"type":"string"},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","name":"responsibilities","properties":[],"required":false,"type":"array-string"},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","name":"tech_stack","properties":[],"required":false,"type":"array-string"}],"required":false,"type":"array-object"},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","name":"projects","properties":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","name":"name","required":false,"type":"string"},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","name":"role","required":false,"type":"string"},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","name":"time_range","required":false,"type":"string"},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","name":"description","required":false,"type":"string"},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","name":"achievements","required":false,"type":"string"}],"required":false,"type":"array-object"},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","name":"skills","properties":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","name":"technical","properties":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","name":"name","required":false,"type":"string"},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","name":"level","required":false,"type":"string"}],"required":false,"type":"object"},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","name":"language","properties":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","name":"name","required":false,"type":"string"},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","name":"level","required":false,"type":"string"}],"required":false,"type":"array-object"}],"required":false,"type":"object"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"}],"status":"","updatable":false},"dragging":false,"height":2036,"id":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","position":{"x":4901.2124328851305,"y":-694.1670926628964},"positionAbsolute":{"x":4901.2124328851305,"y":-694.1670926628964},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"图片或pdf文件的url地址","disabled":false,"id":"fec17bc5-01d2-458e-bee7-641256e79280","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"resume_file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"description":"当传入的是pdf链接，表示页码开始范围，-1表示全部页码，从0开始；图片链接不影响该值输入","disabled":false,"id":"77c333d6-6c07-4aa9-b6dd-a2c2f7b95a59","name":"page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"-1","contentErrMsg":"","type":"literal"}}},{"description":"当传入的是pdf链接，表示页码结束范围，-1表示全部页码，从0开始；图片链接不影响该值输入","disabled":false,"id":"2f5cf4b4-17bc-47d2-9012-cf8f17e31fdc","name":"page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"-1","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"简历文本提取","labelEdit":false,"nodeMeta":{"aliasName":"简历文本提取","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"","toolDescription":"识别图片或PDF文件中的文字内容，目前支持PDF,PNG,JPG","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@736928b7e421000","remarkVisible":true,"appId":"12a0a7e2","operationId":"传统OCR-MYIwPKpK","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"使用OCR工具，提取用户上传的简历文本","businessInput":[]},"outputs":[{"id":"5fc3607d-5049-4fa6-be67-de9f4022467f","name":"sid","schema":{"type":"string"}},{"id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","name":"code","schema":{"type":"integer"}},{"id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","name":"message","schema":{"type":"string"}},{"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","name":"data","schema":{"properties":[{"id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","name":"ocr_result","type":"string"},{"id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","name":"ocr_result_json","properties":[],"type":"array-object"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":542,"id":"plugin::ae696e1d-9976-432c-a373-95c59a589932","position":{"x":2149.8034109708587,"y":414.863896739104},"positionAbsolute":{"x":2149.8034109708587,"y":414.863896739104},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"75b65787-a99f-45b2-9e10-f75d774a89ce","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"面试场景提取","labelEdit":false,"nodeMeta":{"aliasName":"面试场景提取","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 你是一个面试场景提取专家，根据用户的问题描述{{input}}，匹配合适的岗位，公司类型，难度等级和面试时长\\n## 技能\\n1.根据用户的描述，提取面试的目标岗位名称\\n2.根据用户的描述，提取面试的目标公司类型，如果没有，则默认为科技互联网企业\\n3.根据用户的描述，提取面试的难度等级（初级应届生，中级1-3年，高级3-5年），没有则默认初级应届生\\n4.根据用户的描述，提取面试时长（15分钟快速面试，30分钟标准面试，45分钟深度面试），没有则默认15分钟快速面试\\n## 目标\\n根据用户的描述提取出合适的面试场景，按照岗位;公司类型;难度等级;面试时长结构输出，输出结果为普通字符串用英文分号分隔，例如算法工程师;科技互联网;初级（应届生）;15分钟（快速练习）\\n## 限制\\n- 输出必须严格按照岗位;公司类型;难度等级;面试时长结构输出字符串\\n- 不要输出与面试场景无关的信息，返回前确认输出的格式是否有误\\n- 检查输出的分隔符是否是英文分号;，修复后再输出","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"systemTemplate":"\\n","model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1119,"id":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","position":{"x":3069.263017157944,"y":1429.9540026083093},"positionAbsolute":{"x":3069.263017157944,"y":1429.9540026083093},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"f308eb4a-569e-4213-839e-a7e71031cdbe","name":"jsonstr","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","nodeId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码_1","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"# coding=utf-8\\nimport json  \\n  \\ndef main(jsonstr):  \\n    # 解析JSON数组字符串为Python列表  \\n    json_array = json.loads(jsonstr)\\n    return {\\"question\\":json_array}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","remarkVisible":true,"appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"使用代码节点将文本格式的面试题转化为json数组","codeErrMsg":""},"outputs":[{"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","name":"question","nameErrMsg":"","schema":{"default":"","properties":[{"id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","name":"question_id","required":false,"type":"string"},{"id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","name":"content","required":false,"type":"string"},{"id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","name":"category","required":false,"type":"string"},{"id":"e131c382-4eff-43de-962b-32a05fd37b0b","name":"difficulty","properties":[],"required":false,"type":"integer"},{"id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","name":"estimated_time","required":false,"type":"string"},{"id":"3780f40a-8e5b-4d95-8213-2a0788286299","name":"evaluation_focus","required":false,"type":"string"}],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1042,"id":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","position":{"x":6892.7377968215305,"y":705.819321352796},"positionAbsolute":{"x":6892.7377968215305,"y":705.819321352796},"selected":true,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"84e04d09-cbd3-4807-b500-41713097e9e5","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"question","id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","nodeId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代_1","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","apiKey":"d84b9d780b488cf919c5273686ee4e1a","IterationStartNodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","remarkVisible":true,"appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"输入到迭代节点。在迭代节点中，先使用问答节点实现面试题的多轮问答，再使用变量存储器获取每轮面试题的回答。"},"outputs":[{"id":"77a0f579-1e54-433d-9392-d4f235ffa9be","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"}],"status":"","updatable":false},"dragging":false,"height":1252,"id":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":7770.495412059705,"y":538.9578353705235},"positionAbsolute":{"x":7770.495412059705,"y":538.9578353705235},"selected":false,"type":"迭代","width":1507},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"4c620c66-a9fa-46d2-ba16-183bf4bc5187","name":"answer","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"output","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","nodeId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3e2c98ea-b20e-4348-ae48-3975796d2492","name":"question","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"question","id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","nodeId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},"contentErrMsg":"","type":"ref"}}}],"label":"面试评价","labelEdit":false,"nodeMeta":{"aliasName":"面试评价","nodeType":"基础节点"},"nodeParam":{"template":"你是一位资深的面试分析专家和职业发展顾问，拥有多年的招聘和人才评估经验。请根据面试题目{{question}}和面试回答内容{{answer}} ，对我刚完成的模拟面试进行全面、客观、建设性的分析和反馈。","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"auditing":"default","remark":"根据用户回答，生成面试评价","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"# 角色定义\\n你是一位资深的面试分析专家和职业发展顾问，拥有多年的招聘和人才评估经验。你的任务是对用户刚完成的模拟面试进行全面、客观、建设性的分析和反馈。\\n# 核心职责\\n深度分析面试表现：从多个维度评估候选人的面试表现\\n提供具体反馈：给出详细、可操作的改进建议\\n制定提升计划：为用户量身定制面试技能提升方案\\n鼓励与指导并重：在指出不足的同时，积极鼓励并突出亮点\\n\\n# 分析维度框架\\n1. 技术能力评估 (35%)\\n专业知识掌握度：基础概念理解、深度技能展示\\n问题解决能力：思路清晰度、解决方案的创新性\\n技术表达能力：能否用简洁语言解释复杂技术概念\\n实战经验体现：项目经验的真实性和深度\\n\\n2. 沟通表达能力 (25%)\\n语言组织能力：表达逻辑性、条理性\\n倾听与回应：是否准确理解问题并给出相关回答\\n非语言沟通：肢体语言、眼神交流、自信度\\n互动质量：与面试官的互动是否自然流畅\\n\\n3. 逻辑思维能力 (20%)\\n分析问题的方法：能否系统性地分解复杂问题\\n思维的结构化：回答是否有清晰的框架和层次\\n举例论证能力：能否用恰当的例子支撑观点\\n应变能力：面对突发问题的反应速度和质量\\n\\n4. 职业素养表现 (15%)\\n时间管理：回答节奏控制、重点把握\\n职业态度：积极性、诚实度、学习意愿\\n团队协作意识：在回答中体现的合作精神\\n职业规划清晰度：对未来发展的思考深度\\n\\n5. 情绪管理与心理状态 (5%)\\n压力应对：在压力下的表现稳定性\\n自信程度：适度自信，不卑不亢\\n情绪控制：保持冷静和专业\\n\\n# 反馈输出格式\\n总体印象 (Overall Impression)\\n一句话总结：用一句精炼的话概括整体表现\\n整体评分：X/10分 (提供具体分数和评级)\\n核心亮点：列出2-3个最突出的优势\\n主要改进点：指出2-3个最需要提升的方面\\n详细分析 (Detailed Analysis)\\n🎯 技术能力表现\\n表现评价：具体描述技术回答的质量\\n亮点识别：技术方面的突出表现\\n改进建议：针对性的技术提升建议\\n评分：X/10分\\n\\n💬 沟通表达评估\\n语言能力：表达清晰度、逻辑性评价\\n互动质量：与面试官的配合度\\n改进方向：具体的表达技巧建议\\n评分：X/10分\\n\\n🧠 逻辑思维分析\\n思维结构：回答的逻辑框架评价\\n分析深度：问题分析的深入程度\\n提升要点：逻辑思维训练建议\\n评分：X/10分\\n\\n🏢 职业素养反馈\\n专业度表现：整体职业形象评价\\n态度评估：学习态度和工作热情\\n发展建议：职业素养提升路径\\n评分：X/10分\\n\\n具体改进建议 (Actionable Improvements)\\n# 短期改进 (1-2周内可实现)\\n具体行动项1：详细的改进步骤和方法\\n具体行动项2：可量化的练习目标\\n具体行动项3：立即可开始的改进措施\\n\\n# 中期提升 (1-3个月)\\n技能深化：需要系统学习的技术领域\\n经验积累：建议参与的项目或实践\\n软技能提升：沟通、领导力等方面的发展\\n\\n# 长期发展 (3个月以上)\\n职业规划优化：结合市场需求的发展方向\\n核心竞争力构建：差异化优势培养\\n行业影响力建设：个人品牌和网络建设\\n\\n# 模拟面试练习计划\\n推荐练习频率：每周X次，每次Y分钟\\n重点练习方向：\\n\\n# 针对薄弱环节的专项练习\\n真实场景模拟训练\\n压力面试适应性训练\\n\\n# 学习资源推荐：\\n相关书籍/在线课程\\n练习平台或工具\\n行业资讯关注渠道\\n\\n输出原则\\n1. 客观公正\\n基于实际表现给出评价，避免主观偏见\\n提供具体的事例支撑每个评价点\\n既要指出不足，也要充分肯定优点\\n\\n2. 建设性反馈\\n每个批评都要配对具体的改进建议\\n提供可行的、循序渐进的提升路径\\n避免打击自信心，保持积极正向的语调\\n\\n3. 个性化定制\\n根据用户的职业背景和目标岗位调整反馈重点\\n考虑用户当前的职业发展阶段\\n结合行业特点和市场需求给出建议\\n\\n4. 实用导向\\n所有建议都要具有可操作性\\n提供具体的时间节点和成果衡量标准\\n关联实际工作场景和职业发展需要\\n\\n语言风格要求\\n专业而亲和：既要体现专业性，又要让用户感到被理解和支持\\n具体而详细：避免泛泛而谈，给出具体可感的反馈\\n鼓励而现实：在鼓励的同时，诚实地指出需要改进的地方\\n前瞻而实用：不仅分析当前表现，更要为未来发展提供指导\\n\\n重要提醒：在生成反馈时，请确保内容全面、平衡，既有深度的分析，又有实用的建议。记住，你的目标是帮助用户在下一次真实面试中取得更好的表现。","respFormat":0},"outputs":[{"id":"61310cff-d526-4232-874d-f60d9136baad","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1280,"id":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","position":{"x":9555.952213606604,"y":536.1399427884036},"positionAbsolute":{"x":9555.952213606604,"y":536.1399427884036},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"b634ae7c-6791-4588-82bd-b5792b22d08f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_2","labelEdit":false,"nodeMeta":{"aliasName":"消息_2","nodeType":"基础节点"},"nodeParam":{"template":"简历分析中.....请耐心等待","streamOutput":true,"uid":"4493076350","apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false,"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"id":"7df6a9f7-f180-46eb-a48a-f7bb6e9332ca","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":398,"id":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","position":{"x":2952.79379901841,"y":441.70491911816964},"positionAbsolute":{"x":2952.79379901841,"y":441.70491911816964},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":25,"y":250},"outputs":[{"id":"84e04d09-cbd3-4807-b500-41713097e9e5","name":"input","nameErrMsg":"","schema":{"default":"","type":"object"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":271,"id":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":30,"y":577.9228265341493},"positionAbsolute":{"x":25,"y":250},"selected":false,"type":"开始节点","width":657,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"608862c2-1ab1-4264-82be-21f85cf7aa7b","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"user_answer","id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","nodeId":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","outputMode":0},"originPosition":{"x":4825.749559747515,"y":485.84592738014044},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","label":"user_answer","type":"string","value":"user_answer","fileType":""}],"label":"","value":""}],"label":"变量存储器_4","parentNode":true,"value":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":228,"id":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":1230.1873899368788,"y":636.8843083791844},"positionAbsolute":{"x":4825.749559747515,"y":485.84592738014044},"selected":false,"type":"结束节点","width":407,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"7f2a4320-4c18-4859-a006-6ee466ed4f2f","name":"question","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码_1","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"# -*- coding: utf-8 -*-\\nimport json\\nimport re\\ndef main(question):\\n    length = len(question) - 2\\n    ret = {\\n        \\"length\\": length\\n    }\\n    return ret","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"originPosition":{"x":756.1785888671875,"y":99.75},"outputs":[{"id":"41e8192c-fc05-41cd-b295-91278f225b5d","name":"length","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":796,"id":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":212.79464721679688,"y":540.3603265341493},"positionAbsolute":{"x":756.1785888671875,"y":99.75},"selected":false,"type":"代码","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"18f0128c-7ed3-4ad7-b137-468111cb2d03","name":"input","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"05b18c94-dd79-4b0e-bb6a-248216365370","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"ab1bacec-6cc2-47df-8d4e-d181c596ab42","name":"input714d7dfe3d214fd5874b944a78f7a92d","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"303f5b3e-3c7d-4a27-ae50-06bd32e3308d","name":"input116806e00872471bb02bd55e7534aaf6","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"11d93bf4-ae04-468a-80ca-33a98d8be3cf","name":"inputd1292889bed84ba192da6fa00b868898","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"8c1e1aa4-d1bb-4d9d-9cc3-73d6bef64e9e","name":"inputfef101c60c44455099b22e7c67de9336","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器_1","nodeType":"分支器"},"nodeParam":{"uid":"4493076350","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d","conditions":[{"leftVarIndex":"18f0128c-7ed3-4ad7-b137-468111cb2d03","rightVarIndex":"05b18c94-dd79-4b0e-bb6a-248216365370","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":2,"logicalOperator":"and","id":"branch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7","conditions":[{"leftVarIndex":"ab1bacec-6cc2-47df-8d4e-d181c596ab42","rightVarIndex":"303f5b3e-3c7d-4a27-ae50-06bd32e3308d","compareOperatorErrMsg":"","id":"b8dbb5ca-310a-467f-b201-9886b4f1c49f","compareOperator":"is"}]},{"level":3,"logicalOperator":"and","id":"branch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224","conditions":[{"leftVarIndex":"11d93bf4-ae04-468a-80ca-33a98d8be3cf","rightVarIndex":"8c1e1aa4-d1bb-4d9d-9cc3-73d6bef64e9e","compareOperatorErrMsg":"","id":"750cdb50-4885-4d6a-86e8-f41d06aecd26","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::faae74ea-ac36-435c-89ee-930297426551","conditions":[]}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":1526.607192993164,"y":42.75},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":652,"id":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":405.401798248291,"y":526.1103265341493},"selected":false,"type":"分支器","width":683,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"23582fc5-fea4-476c-b215-00895462bdde","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta2","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta2","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"answerType":"direct","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::5209a962-7cc7-4245-8314-a40c05cd155d","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::4bb68348-6179-4c73-8c69-786508439401","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::7caa49a3-ef2a-4037-bd0e-69db1daffbc4","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2274.9551199696693,"y":-741.6913061365971},"outputs":[{"id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"eba3da93-efa2-4755-b176-32b262d90957","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":659,"id":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":592.4887799924173,"y":330},"positionAbsolute":{"x":2274.9551199696693,"y":-741.6913061365971},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"5859b9cc-8668-464e-9bea-20ac0fc6a59a","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"eba3da93-efa2-4755-b176-32b262d90957","nodeId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_1","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":3058.5927202041403,"y":-499.17665549493336},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"extent":"parent","height":250,"id":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":788.3981800510351,"y":390.6286626604159},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"9dd7d05e-140b-4789-9571-0e7770f8feb9","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta1","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta1","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"answerType":"direct","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::b5d338e4-8642-42cc-a4b5-e8482d096b15","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::e92e404b-a0fd-4b43-8515-e797144b1566","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::3a0c5477-abd1-407a-a42e-41cbe2e5cd95","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2269.5513200779205,"y":16.176508545636665},"outputs":[{"id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"cd786b37-3509-4e13-8a33-f137d01848cb","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":659,"id":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":591.1378300194801,"y":519.4669536705585},"positionAbsolute":{"x":2269.5513200779205,"y":16.176508545636665},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"5e002d8e-b6ec-425e-bf0f-c123e4296491","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"cd786b37-3509-4e13-8a33-f137d01848cb","nodeId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_2","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":3039.9264003554254,"y":220.79824502454045},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"extent":"parent","height":250,"id":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":783.7316000888563,"y":570.6223877902844},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"991ed707-72da-414a-ae5f-440d329cb01c","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta3","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta3","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"answerType":"direct","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::51b3c769-985d-41b3-a080-1e3e200708c1","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::ea6215a8-29fc-440d-ad00-4efde5d96e4e","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::4adf9c67-5a21-4879-8bf8-4887f83d6467","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2297.6178040890304,"y":747.3474948436111},"outputs":[{"id":"c259f482-53a8-4ae1-9497-948e483a581a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":699,"id":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":598.1544510222576,"y":702.259700245052},"positionAbsolute":{"x":2297.6178040890304,"y":747.3474948436111},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1df2a540-8364-4031-bfee-763cd7b4692b","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","nodeId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_3","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":3038.7288483765515,"y":825.238677460993},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":250,"id":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":783.4322120941379,"y":721.7324958993975},"positionAbsolute":{"x":3038.7288483765515,"y":825.238677460993},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_4","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"get","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":4048.1646129339524,"y":347.7299760427516},"outputs":[{"id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","name":"user_answer","nameErrMsg":"","refId":"5859b9cc-8668-464e-9bea-20ac0fc6a59a","required":true,"schema":{"description":"","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":245,"id":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":1035.791153233488,"y":602.3553205448372},"positionAbsolute":{"x":4048.1646129339524,"y":347.7299760427516},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"f19607ab-79d2-4862-903f-723fd1ef3e33","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"题目有误！","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_5","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":2230.460638423927,"y":1468.6701373063897},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":43,"id":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":581.3651596059817,"y":882.5903608607467},"positionAbsolute":{"x":2230.460638423927,"y":1468.6701373063897},"selected":false,"type":"变量存储器","width":133,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","target":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","target":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5-ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","target":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5-plugin::ae696e1d-9976-432c-a373-95c59a589932","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","target":"plugin::ae696e1d-9976-432c-a373-95c59a589932","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73","target":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9-ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","target":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","target":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8-ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","target":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b-spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","target":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::ae696e1d-9976-432c-a373-95c59a589932-message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::ae696e1d-9976-432c-a373-95c59a589932","target":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6-spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","target":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69-iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","target":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c-ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","target":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","target":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d-question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d","target":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004-node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","target":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7-question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7","target":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da-node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","target":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224-question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224","target":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","target":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::faae74ea-ac36-435c-89ee-930297426551-node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::faae74ea-ac36-435c-89ee-930297426551","target":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","target":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850-iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","target":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","targetHandle":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","type":"customEdge","zIndex":1}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["我是一名应届毕业生，请为我模拟一场互联网公司的算法工程师岗位的快速面试","我是一名5年工作经验的Web前端工程师，请为我模拟一场深度面试","模拟2-3年工作经验的市场研究员终面，20分钟左右"],"prologueText":"hi，我是你的AI模拟面试教练​​！\\n👉输入面试相关信息，如目标岗位、公司、行业、轮次、经验、面试时长等，我将带你完整地体验面试。\\n📌上传你的简历PDF，效果更好哦！（可选）"},"needGuide":false,"suggestedQuestionsAfterAnswer":{"enabled":true},"speechToText":{"enabled":true},"textToSpeech":{"enabled":true,"vcn":"x4_lingxiaoqi_en"},"chatBackground":{"enabled":true,"info":{"name":"AI 模拟面试官.png","type":"png","total":"800.96 KB","url":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1753433011222_AI%E6%A8%A1%E6%8B%9F%E9%9D%A2%E8%AF%95%E5%AE%98.png"}},"feedback":{"enabled":true}}', NULL, 10, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(142283, 4403454, '12a0a7e2', '7342727615581208576', '全学科练习助手', '这是一个类型最全的AI练习助手，输入你想要练习的知识点、学科、专业等类型和题目数量，帮你自动匹配生成试题，或者直接输出选择题题目文本，可直接进行作答练习和查看最终结果。', 0, 0, '2025-06-23 09:38:04', '2025-07-23 09:59:08', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","position":{"x":-755.4882665445671,"y":260.26550654133933},"positionAbsolute":{"x":-755.4882665445671,"y":260.26550654133933},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"afe69699-3242-4265-a9ee-d6f5a0a9c481","name":"output","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","nodeId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"75e5b2bf-562e-4620-8fb1-f6a277750e4e","name":"score","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","nodeId":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","name":"score"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"您总共答对{{score}} 题，你作答的答案是：\\n{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"代码_2","value":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","children":[{"label":"","value":"","references":[{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","originId":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","label":"score","value":"score","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"迭代_1","value":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","children":[{"label":"","value":"","references":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","originId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","label":"output","value":"output","type":"array-string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","position":{"x":4964.745878106895,"y":334.21949765814657},"positionAbsolute":{"x":4964.745878106895,"y":334.21949765814657},"selected":true,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"b53e4ca5-494e-4c1e-be95-65cea9a65b5f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","nodeId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"用户输入的内容是：{{input}} ，首先判断用户输入的内容是选择题题目详细信息还是一个主题或者一个题目分类，根据类别生成不同的内容。\\n\\n#如果用户输入的详细完整的题目信息，要按照给定的示例格式输出，不要有多余的例如``````json、`````` 这类格式标签，不需要解释和说明。题目选项的个数按照实际的题目中的选项数量来解析，例如原题中没有D项，则不需要给出。\\n\\n#如果不是具体的完整题目信息，请围绕用户输入的主题，生成选择题。要求如下：\\n1. 如果用户输入的主题中有题数限制，则生成用户要求的数量，如果没有明确说明，默认生成5道。\\n2. 5题的难度依次升高，但是不能超出用户要求的主题范围；\\n3. 要和用户的主题紧密相关，并且选择题能够反映出主题；\\n4. 每个选择题有四个选项，正确答案只有1个，要给出正确答案；\\n5. 题目、选项不能有重复；\\n6. 要按照给定的示例格式输出，不要有多余的例如``````json、``````这类格式标签，不需要解释和说明；\\n7. 无标准答案的题目，answer为空字符串即可。\\n8. 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n\\n#字段解释如下：\\nquestion： 题干内容\\nanswer：该题的正确答案\\nA：A选项的内容\\nB：B选项的内容\\nC：C选项的内容\\nD：D选项的内容\\n\\n#输出示例如下：\\n[{ \\"question\\": \\"【三打白骨精】<br/>白骨精三次化为人形离间师徒，唐僧肉眼凡胎，误信白骨精幻化的老弱妇孺，误以为你滥杀无辜、将你赶走，你的做法是？ \\", \\"answer\\": \\"C\\", \\"A\\":\\"一棒打晕唐僧，冲上凌霄殿质问玉帝，“能不能换个明点事理的去取经啊？”\\", \\"B\\":\\"用混天绫捆住白骨精跳激光雨，“来！给这老秃驴直播现原形！”\\", \\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" ,\\"D\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\"},{\\n\\"question\\": \\"【三打白骨精】<br/>白骨精三次化为人形离间师徒，唐僧肉眼凡胎，误信白骨精幻化的老弱妇孺，误以为你滥杀无辜、将你赶走，你的做法是？ \\", \\"answer\\": \\"C\\", \\"A\\":\\"一棒打晕唐僧，冲上凌霄殿质问玉帝，“能不能换个明点事理的去取经啊？”\\", \\"B\\":\\"用混天绫捆住白骨精跳激光雨，“来！给这老秃驴直播现原形！”\\", \\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" ,\\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\",\\"D\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" }]","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4403454","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1216,"id":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","position":{"x":908.5235874016475,"y":-73.28703327637106},"positionAbsolute":{"x":908.5235874016475,"y":-73.28703327637106},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"1737baa0-e109-4bce-9234-b91e28c200e6","name":"jsonstr","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","nodeId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"# coding=utf-8\\nimport json  \\n  \\ndef main(jsonstr):  \\n    # 解析JSON数组字符串为Python列表  \\n    json_array = json.loads(jsonstr)\\n    return {\\"question\\":json_array}","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","name":"question","nameErrMsg":"","schema":{"default":"","properties":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","name":"question","required":false,"type":"string"},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","name":"answer","required":false,"type":"string"},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","name":"A","required":false,"type":"string"},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","name":"B","required":false,"type":"string"},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","name":"C","required":false,"type":"string"},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","name":"D","required":false,"type":"string"}],"type":"array-object"}}],"references":[{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1025,"id":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","position":{"x":1678.9145298660787,"y":2.7831123481928444},"positionAbsolute":{"x":1678.9145298660787,"y":2.7831123481928444},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","nodeId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","name":"question"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","IterationStartNodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","appId":"12a0a7e2"},"outputs":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1647,"id":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":2484.376105942361,"y":-157.14953588812838},"positionAbsolute":{"x":2484.376105942361,"y":-157.14953588812838},"selected":false,"type":"迭代","width":1524},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"aca49976-ab17-4cdf-beab-ca7bf24c25ba","name":"questions","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","nodeId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","name":"question"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"018450af-f9e3-4364-ac38-0df201e3aedf","name":"user_answers","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","nodeId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_2","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"def main(questions, user_answers):\\n    \\"\\"\\"\\n    计算选择题得分。\\n    :param questions: 选择题对象数组，每个对象有answer字段\\n    :param user_answers: 用户作答选项的字符串数组\\n    :return: 总得分（int）\\n    \\"\\"\\"\\n    score = 0\\n    for i, question in enumerate(questions):\\n        if i < len(user_answers):\\n            if question.get(''answer'') == user_answers[i]:\\n                score += 1\\n    return {\\"score\\":score}","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","name":"score","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"references":[{"label":"迭代_1","value":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","children":[{"label":"","value":"","references":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","originId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","label":"output","value":"output","type":"array-string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":793,"id":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","position":{"x":4140.021099911932,"y":259.67088331990954},"positionAbsolute":{"x":4140.021099911932,"y":259.67088331990954},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"b90d1def-1db6-487a-88ab-5461b71b9893","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","nodeId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息","nodeType":"基础节点"},"nodeParam":{"template":"正在为您努力生成试题，请稍后......","uid":"4403454","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false},"outputs":[{"id":"eeb8aa62-6794-4b71-9555-d28318e2ee77","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":463,"id":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","position":{"x":163.38484286986795,"y":211.36337534411757},"positionAbsolute":{"x":163.38484286986795,"y":211.36337534411757},"selected":false,"type":"消息","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"originPosition":{"x":-1043.7988706069912,"y":301.40498370158963},"outputs":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","name":"input","nameErrMsg":"","schema":{"default":"","type":"object"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":30,"y":697.6301114989786},"positionAbsolute":{"x":-1043.7988706069912,"y":301.40498370158963},"selected":false,"type":"开始节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"15e80ec5-430f-4bde-86b3-adf73d74f270","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","nodeId":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","name":"user_answer"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"","outputMode":0},"originPosition":{"x":3810.7841862606447,"y":266.58830890737204},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"变量存储器_4","value":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","children":[{"label":"","value":"","references":[{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","originId":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","label":"user_answer","value":"user_answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":1243.645764216909,"y":688.9259428004243},"positionAbsolute":{"x":3810.7841862606447,"y":266.58830890737204},"selected":false,"type":"结束节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_1","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"id":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","name":"C","type":2,"content":"{{input.C}}","content_type":"string","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1343.0227675494302,"y":-125.97372402962708},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":626.7054095391054,"y":590.7854345661744},"positionAbsolute":{"x":1343.0227675494302,"y":-125.97372402962708},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"e02110bb-50ad-4701-820c-df445bbe300d","name":"question","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"# -*- coding: utf-8 -*-\\nimport json\\nimport re\\ndef main(question):\\n    length = len(question) - 2\\n    ret = {\\n        \\"length\\": length\\n    }\\n    return ret","appId":"12a0a7e2","codeErrMsg":""},"originPosition":{"x":-263.58635358811824,"y":16.425329604141382},"outputs":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","name":"length","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":225.05312925471821,"y":626.3851979746166},"positionAbsolute":{"x":-263.58635358811824,"y":16.425329604141382},"selected":false,"type":"代码","width":86,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"9646a6c8-6dcf-400d-b617-3fc8413c9fcd","name":"input","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"4dacf706-d79a-4da8-9214-ceb2e194f637","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"61095f0b-68fa-4fd9-a875-2027b8e158b9","name":"input801a067ab734443d9a8e05a617fdd699","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"d050bed6-b307-48d3-94d2-f3fd714cadd9","name":"input6e9b9f916e7444b396dbc6d13cf6aaf2","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"d32cd6d1-5cbf-4225-a063-a66c25bdf9e8","name":"input0065a384b0f54e7681842de61fb109cd","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"3c5566c5-b214-4f2f-a0c8-9f81fc831e12","name":"inpute0f25febe7d4433fac0dc36a5738757b","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"4403454","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be","conditions":[{"leftVarIndex":"9646a6c8-6dcf-400d-b617-3fc8413c9fcd","rightVarIndex":"4dacf706-d79a-4da8-9214-ceb2e194f637","id":"","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78","level":2,"logicalOperator":"and","conditions":[{"id":"d47c9ef9-0975-4fab-a51d-4023c55c6c93","leftVarIndex":"61095f0b-68fa-4fd9-a875-2027b8e158b9","rightVarIndex":"d050bed6-b307-48d3-94d2-f3fd714cadd9","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887","level":3,"logicalOperator":"and","conditions":[{"id":"cf57f7af-5fbf-440b-8562-e66e039206ec","leftVarIndex":"d32cd6d1-5cbf-4225-a063-a66c25bdf9e8","rightVarIndex":"3c5566c5-b214-4f2f-a0c8-9f81fc831e12","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db","conditions":[]}],"appId":"12a0a7e2"},"originPosition":{"x":463.0793143112214,"y":42.100229686336064},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":406.71954622955315,"y":632.8039229951653},"positionAbsolute":{"x":463.0793143112214,"y":42.100229686336064},"selected":false,"type":"分支器","width":102,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_2","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1315.7497622371288,"y":-1169.115462294325},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":619.88715821103,"y":330},"positionAbsolute":{"x":1315.7497622371288,"y":-1169.115462294325},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_3","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"id":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","name":"C","type":2,"content":"{{input.C}}","content_type":"string","contentErrMsg":""},{"id":"option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92","name":"D","type":2,"content":"{{input.D}}","content_type":"string","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1335.4980552406973,"y":980.6561041034607},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":624.8242314619222,"y":867.4428915994464},"positionAbsolute":{"x":1335.4980552406973,"y":980.6561041034607},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2252.118707919993,"y":-257.2294867946777},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":853.9793946317461,"y":557.9714938749119},"positionAbsolute":{"x":2252.118707919993,"y":-257.2294867946777},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2257.1548802471434,"y":133.53992994766463},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":855.2384377135336,"y":655.6638480604975},"positionAbsolute":{"x":2257.1548802471434,"y":133.53992994766463},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2260.3404476273345,"y":570.3161227352986},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":856.0348295585814,"y":764.8578962574059},"positionAbsolute":{"x":2260.3404476273345,"y":570.3161227352986},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"get","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2980.057566327672,"y":260.4397828523232},"outputs":[{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","name":"user_answer","nameErrMsg":"","refId":"f76bdff9-aa7b-4883-9168-2303de521d3f","required":true,"schema":{"description":"","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":1035.9641092336658,"y":687.3888112866621},"positionAbsolute":{"x":2980.057566327672,"y":260.4397828523232},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"77b8cf43-4986-4545-becb-48fa203fbcde","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"题目有误！","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":1384.027567161294,"y":2127.7718556588466},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":636.9566094420713,"y":1154.2218294882928},"positionAbsolute":{"x":1384.027567161294,"y":2127.7718556588466},"selected":false,"type":"变量存储器","width":134,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0-ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","target":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744-iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","target":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a-ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","target":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa-node-end::4a191fd0-23d3-423c-9325-994e75e3b143node-end::4a191fd0-23d3-423c-9325-994e75e3b143","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","target":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","targetHandle":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::0df6eec7-ad63-4e94-ab08-2783750dd1f4-spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","target":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39-ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","target":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","target":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78","target":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be","target":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887-question-answer::b96444c1-add1-418e-a685-94c6f5a42983","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887","target":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a7881954-60ee-40b3-9593-af01822afffc-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe-iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","target":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","targetHandle":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db-node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db","target":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0-message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","target":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', -1, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["十以内加减法5题","Java面试题","驾考科目一10题"],"prologueText":"我是AI考试官，请说出你想测试的题目类型和题数，即可在线AI练习、考试。"},"needGuide":false}', '{"botId":2958065}', 17, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(118639, 18882349618, 'a01c2bc7', '7333756636828512256', '【勿动】MBTI答题模板', 'MBTI答题模板', 0, 0, '2025-05-29 15:30:36', '2025-06-03 14:44:42', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","position":{"x":-704.8207201799614,"y":321.4983544599225},"positionAbsolute":{"x":-704.8207201799614,"y":321.4983544599225},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"6dc3da15-7c2b-482b-b196-b7c1e4e517d3","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"73158f47-80d8-4f5f-9530-e840f967970e","nodeId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"ffb83311-e4c0-4508-bea2-b949a2c8440f","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"297357f8-19bd-4e8c-a857-d2b4a4942807","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f98de607-58dd-48e8-9f1b-9fa6a06d66cd","name":"output4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"7ea7b61a-d171-4ab7-8716-956751cbfd5f","name":"output5","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}\\n{{output2}}\\n{{output3}}\\n{{output4}}\\n{{output5}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"题目1-IorE","value":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","children":[{"label":"","value":"","references":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","originId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目2-SorN","value":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目3-TorF","value":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目4-PorJ","value":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"报告","value":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_14","value":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","children":[{"label":"","value":"","references":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","originId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":817,"id":"node-end::259e2354-3a93-456d-b29d-136cb179570b","position":{"x":5878.523247032056,"y":407.60722512865755},"positionAbsolute":{"x":5878.523247032056,"y":407.60722512865755},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"get","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","name":"round","nameErrMsg":"","refId":"3117fbe9-70ba-4daf-adc0-47831418e19c","required":true,"schema":{"description":"","type":"string"}},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","name":"R1-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","name":"R2-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","name":"R3-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","name":"R4-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":445,"id":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","position":{"x":1005.238474523384,"y":619.2059568637027},"positionAbsolute":{"x":1005.238474523384,"y":619.2059568637027},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"3eba8e04-a13d-4f64-adec-4fc3b11ad57b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"fa71ffaf-07a1-4dbc-8244-c3ca261c55a9","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"开始测试","contentErrMsg":"","type":"literal"}}}],"label":"是否开始测试","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94","conditions":[{"leftVarIndex":"3eba8e04-a13d-4f64-adec-4fc3b11ad57b","rightVarIndex":"fa71ffaf-07a1-4dbc-8244-c3ca261c55a9","id":"","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","position":{"x":221.86465050331958,"y":342.3046923542576},"positionAbsolute":{"x":221.86465050331958,"y":342.3046923542576},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"E","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","position":{"x":3555.1363316974175,"y":360.18854897667177},"positionAbsolute":{"x":3555.1363316974175,"y":360.18854897667177},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"21e5e7c8-758d-4570-bf21-3646e031e37d","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"题目1-IorE","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论中对于人性格外向出一道测试人性格是外向还是内向的情景题，\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n你辛苦工作半年后终于申请到10天长假。朋友提议组织一场「庆祝回归自由」的旅行，你会：\\n\\nA. 主动策划多日狂欢行程：联系民宿包栋，邀请10+朋友参加，安排徒步烧烤派对连轴转\\nB. 发起小众目的地快闪游：在驴友论坛招募陌生人，三天两夜暴走打卡网红景点\\nC. 答应只参与最后两日：前五天宅家补剧打游戏，等人少时再去温泉旅馆发呆\\nD. 婉拒所有邀请：独自飞往雪山小镇，每天在咖啡馆看云、写旅行手账无人打扰\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":844,"id":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","position":{"x":1188.9558338522743,"y":-623.8383891243615},"positionAbsolute":{"x":1188.9558338522743,"y":-623.8383891243615},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"3117fbe9-70ba-4daf-adc0-47831418e19c","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"id":"6a1fe32f-ed1d-4ae1-8cf8-77c5878caba3","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"6c91fd4a-1cc6-406a-b546-0c9600d857e7","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"0c3d1fa8-f22b-43f6-9f8e-dcb597047fd6","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"e31b40b7-9a2c-49e2-9c2b-01af125d3c7f","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"题目1-IorE","value":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","children":[{"label":"","value":"","references":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","originId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":465,"id":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","position":{"x":2634.584748891488,"y":-696.0844235766523},"positionAbsolute":{"x":2634.584748891488,"y":-696.0844235766523},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"58a31bcb-a3c7-49ee-a946-18d74d8d5f7d","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"30266aec-5d4c-4fd2-86db-e77f2e158be1","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"4a197d3b-7ae2-4819-96df-0fc064843c9d","name":"inputae05eb1ccf6a40319de4a7ba635c5260","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"05e5ef86-9927-4483-b741-54b543b13985","name":"input2c5bed9fd4204e8fb4874ee32a3b0491","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"04042c79-cf9a-40e8-b44a-bc848190693a","name":"inputdad4fd48cc064d45be3aca2fbf4f9257","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"71e9216c-35ac-4aae-8d83-0f54833e179b","name":"input696fec66d2e8481fb9987b03dc873c1b","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"a9f3a9d0-acf7-485f-a4ee-5eac40bef5d6","name":"input989feb7650b848179e75106990e65bc0","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"c1c03ada-a4e0-4f5d-b5de-b030153314db","name":"input3225dde72c0240cf8a0076c766771d29","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","conditions":[{"leftVarIndex":"58a31bcb-a3c7-49ee-a946-18d74d8d5f7d","rightVarIndex":"30266aec-5d4c-4fd2-86db-e77f2e158be1","id":"","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","level":2,"logicalOperator":"and","conditions":[{"id":"5f62b35d-fb07-4bd7-ada0-f001e64fd48e","leftVarIndex":"4a197d3b-7ae2-4819-96df-0fc064843c9d","rightVarIndex":"05e5ef86-9927-4483-b741-54b543b13985","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","level":3,"logicalOperator":"and","conditions":[{"id":"eca60e98-4870-4845-96c6-6172d675d922","leftVarIndex":"04042c79-cf9a-40e8-b44a-bc848190693a","rightVarIndex":"71e9216c-35ac-4aae-8d83-0f54833e179b","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d","level":4,"logicalOperator":"and","conditions":[{"id":"e1a000e2-af81-4bdb-a318-b1c941cb659d","leftVarIndex":"a9f3a9d0-acf7-485f-a4ee-5eac40bef5d6","rightVarIndex":"c1c03ada-a4e0-4f5d-b5de-b030153314db","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":838,"id":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","position":{"x":1561.8179343686913,"y":1428.2032542603463},"positionAbsolute":{"x":1561.8179343686913,"y":1428.2032542603463},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目2-SorN","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是实感型还是直觉型的情景题，选项A和B代表实感型，选项C和D代表直觉型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n搬进新家后想改造旧阳台，你更可能：\\nA. 测量尺寸后网购花架，按日照时长排列绿植，用Excel规划浇水周期表\\nB. 参考家居杂志案例，买同款藤编桌椅+遮阳伞，复刻成标准化休闲区\\nC. 把阳台看作“心灵疗愈站”：悬挂风铃和捕梦网，用荧光颜料画星座图营造梦幻夜光\\nD. 拆掉推拉门打通客厅，幻想未来在这里做瑜伽直播，甚至架望远镜观测星云\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":824,"id":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","position":{"x":2703.774897555747,"y":-136.4055768824499},"positionAbsolute":{"x":2703.774897555747,"y":-136.4055768824499},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_2","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","position":{"x":2700.9946940333016,"y":558.2493458135654},"positionAbsolute":{"x":2700.9946940333016,"y":558.2493458135654},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"I","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","position":{"x":3556.9653590123453,"y":535.8233821345532},"positionAbsolute":{"x":3556.9653590123453,"y":535.8233821345532},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","position":{"x":4446.021690588334,"y":467.86221471517774},"positionAbsolute":{"x":4446.021690588334,"y":467.86221471517774},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目3-TorF","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是逻辑型还是情感型的情景题，选项A和B代表逻辑型，选项C和D代表情感型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n你是一家公司的项目经理，负责一个关键项目。团队中的一名成员（小李）连续两次未能按时提交报告，导致项目进度延误。小李平时表现良好，但最近似乎有些分心。作为领导，你会如何处理这种情况？\\n\\nA. 立即组织一次团队会议，分析延误的根本原因（如工作流程或资源问题），并制定新的时间表和责任分工，以确保项目效率。\\nB. 直接与小李进行一对一会谈，基于公司绩效标准明确指出问题，并警告若再发生将影响其绩效考核。\\nC. 私下找小李谈话，询问他是否遇到个人困难（如家庭或健康问题），表达理解和支持，并帮助他调整工作安排。\\nD. 优先考虑团队氛围，避免公开批评小李，而是动员其他成员分担他的任务，并强调合作精神以维护关系。\\n------示例结束----- \\n","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":964,"id":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","position":{"x":2710.3293370715683,"y":1092.8310648309614},"positionAbsolute":{"x":2710.3293370715683,"y":1092.8310648309614},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"S","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_6","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","position":{"x":3600.103588840905,"y":1029.56181992868},"positionAbsolute":{"x":3600.103588840905,"y":1029.56181992868},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"N","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_7","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","position":{"x":3595.1835751543413,"y":1375.2365114277677},"positionAbsolute":{"x":3595.1835751543413,"y":1375.2365114277677},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_8","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","position":{"x":4451.024205375203,"y":1302.3835873441203},"positionAbsolute":{"x":4451.024205375203,"y":1302.3835873441203},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目4-PorJ","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是判断型还是知觉型的情景题，选项A和B代表判断型，选项C和D代表知觉型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n多年未见的挚友突然跨省来访三天，你会：\\nA. 提前两周制定清单：早餐店打卡、博物馆特展、山顶日落时段精确到分钟\\nB. 划分主题日：文化日/美食日/怀旧日，每晚酒店切换不同商圈体验\\nC. 只订首日晚餐，其他时候翻小红书实时找“附近最新爆款推荐”\\nD. 直接带朋友流浪：睡到自然醒，随机搭公交漫游，在陌生小巷发现惊喜\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":804,"id":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","position":{"x":2682.60390704571,"y":1685.7678725632268},"positionAbsolute":{"x":2682.60390704571,"y":1685.7678725632268},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"T","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_9","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","position":{"x":3579.1972638488523,"y":1837.7674796745193},"positionAbsolute":{"x":3579.1972638488523,"y":1837.7674796745193},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"F","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_10","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","position":{"x":3547.0385136222494,"y":2144.7214006239283},"positionAbsolute":{"x":3547.0385136222494,"y":2144.7214006239283},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"J","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_11","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","position":{"x":3498.6606222593064,"y":2489.9203747488737},"positionAbsolute":{"x":3498.6606222593064,"y":2489.9203747488737},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"P","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_12","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","position":{"x":3544.4973995376376,"y":3073.376367557054},"positionAbsolute":{"x":3544.4973995376376,"y":3073.376367557054},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R1-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"ab8232b4-de43-4c2f-9d93-752bb39f4e13","name":"2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R2-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"014cbeda-317f-4b84-946e-91348d030f42","name":"3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R3-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e9e75513-7c41-452d-a016-2f99f9fc18c3","name":"4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","nodeId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","name":"R4-answer"},"contentErrMsg":"","type":"ref"}}}],"label":"报告","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBT测评大师，请根据用户的情况生成MBTI测评报告\\n# 用户情况\\n获取能量方式：{{1}}\\n信息收集方式：{{2}}\\n决策方式：{{3}}\\n生活方式：{{4}}","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_14","value":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","children":[{"label":"","value":"","references":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","originId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":788,"id":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","position":{"x":4973.594360324269,"y":2641.832670216569},"positionAbsolute":{"x":4973.594360324269,"y":2641.832670216569},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_13","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","position":{"x":4543.459862827148,"y":1881.0611530996139},"positionAbsolute":{"x":4543.459862827148,"y":1881.0611530996139},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_3","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","position":{"x":2685.5812155022345,"y":1115.4663518001873},"positionAbsolute":{"x":2685.5812155022345,"y":1115.4663518001873},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_4","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","position":{"x":2765.419563387835,"y":1752.2941394421475},"positionAbsolute":{"x":2765.419563387835,"y":1752.2941394421475},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_5","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","position":{"x":2658.486591889421,"y":2758.7582099557767},"positionAbsolute":{"x":2658.486591889421,"y":2758.7582099557767},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_14","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"get","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","name":"R4-answer","nameErrMsg":"","refId":"e31b40b7-9a2c-49e2-9c2b-01af125d3c7f","required":true,"schema":{"description":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":268,"id":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","position":{"x":4338.331296635309,"y":2846.909540285404},"positionAbsolute":{"x":4338.331296635309,"y":2846.909540285404},"selected":false,"type":"变量存储器","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","target":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871-node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","sourceHandle":"branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871","target":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94-spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","sourceHandle":"branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94","target":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd-node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","target":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3-if-else::bdc964e9-0548-4304-b5f2-efba9976323d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","target":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0-spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","target":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::fca34a74-408f-4fef-8d0d-7437c3a279edbranch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0-if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","target":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::fca34a74-408f-4fef-8d0d-7437c3a279edbranch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","target":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","target":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1-spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","target":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","target":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","target":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b-spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","target":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327","target":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","target":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","target":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","target":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","target":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d","target":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::fac0c000-ec13-457c-b420-e954694c6156","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","target":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::fac0c000-ec13-457c-b420-e954694c6156-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","target":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","target":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["开始测试"],"prologueText":""},"needGuide":false}', '{"botId":2898623}', NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(117903, 18882349618, '12a0a7e2', '7333431735192162306', '【模板勿动】画布038-景点AI讲解', '画布038', 0, 0, '2025-05-28 17:59:35', '2025-09-01 15:35:18', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"5f93d1890c25748e68a514c62f79b8b1","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"deleteDisabled":true,"id":"61df8bbe-abd6-4775-bdb6-252016d15558","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":294,"id":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","position":{"x":-854.4843386807864,"y":1166.5017907212505},"positionAbsolute":{"x":-854.4843386807864,"y":1166.5017907212505},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"d6d0f817-5407-4ac7-a99d-d23398c6ddd9","name":"audio","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"​<audio id=\\"audio\\" controls=\\"\\" preload=\\"none\\">\\n      <source id=\\"mp3\\" src=\\"{{audio}}\\">\\n</audio>","streamOutput":false,"apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"aa2b495b-4ca8-4c97-965c-b50cbd65368a","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"9269ef04-4bab-448a-8508-b35c2fcd98aa","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"3196c434-f321-4292-8d4c-aefdd2110c4a","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","children":[{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"74727fb7-2000-4b49-a141-24ffb0aa59a1","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208"},{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":615,"id":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","position":{"x":4541.423420256701,"y":526.8420201268883},"positionAbsolute":{"x":4541.423420256701,"y":526.8420201268883},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"09b1f7aa-7c8d-4786-8972-5231ce0f7643","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"72a43ac3-cb4d-4417-8931-c32e0b5557e7","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型_1","nodeType":"基础节点"},"nodeParam":{"topK":2,"template":"# 角色\\n你是一名资深的导游，你的任务是为用户提供专业、详实的景点介绍和讲解。\\n## 工作方法\\n首先，你要判断用户是否询问了一个具体的城市和旅游景点，如果没有，则输出null。如果用户询问了一个具体的城市和旅游景点，则你要为用户介绍、讲解这个景点的信息，你介绍的内容应该包括游客游览这个景点时想要了解的各个方面，内容尽量详尽。你的介绍和讲解要基于你确实已经掌握的信息，不能凭空想象或胡编乱造。\\n\\n## 背景信息\\n用户咨询的景点所在城市：{{city}}\\n用户咨询的景点是：{{tourist_spot}}\\n\\n## 输出格式\\n- 如果不知道，不可以编造，直接输出null。","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":152,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"20342301088","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv32","appId":"a01c2bc7","maxTokens":4096,"temperature":0.3,"model":"spark","serviceId":"xdeepseekv32","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"35e12320-cb8b-466a-b378-c799e8e93e85","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1130,"id":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","position":{"x":787.9676439854697,"y":26.164354522996888},"positionAbsolute":{"x":787.9676439854697,"y":26.164354522996888},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"28fbedc4-bceb-43c0-8b50-d5ba71502cdb","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"c4f22095-d8a0-4953-b1e2-b320f19eff5b","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"文本处理节点_1","labelEdit":false,"nodeMeta":{"aliasName":"文本处理节点_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","apiKey":"5f93d1890c25748e68a514c62f79b8b1","separatorErrMsg":"","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","prompt":"\\"{{city}}\\" \\"{{tourist_spot}}\\""},"outputs":[{"id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":641,"id":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","position":{"x":980.1692860465212,"y":1021.179654115028},"positionAbsolute":{"x":980.1692860465212,"y":1021.179654115028},"selected":false,"type":"文本拼接","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6d469f40-c310-47f7-a137-37a2c4573e7e","name":"model_knowledge","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"35e12320-cb8b-466a-b378-c799e8e93e85","nodeId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"cade5944-d8b7-47dc-b8d0-13663f1c1b00","name":"serch_info","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"result","id":"9a901f3c-b661-4031-aa80-36ddb68612fb","nodeId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"da19e4f0-bc79-46d9-a2a5-27800746fd85","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"a70f581e-be4d-4c22-8c78-c083d43b099b","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_2","labelEdit":false,"nodeMeta":{"aliasName":"大模型_2","nodeType":"基础节点"},"nodeParam":{"topK":3,"template":"# 角色\\n你是一名旅游景区讲解员，你的任务是将旅游景点的信息加工为语音讲解词。\\n## 输入资料\\n用户咨询的景点所在城市：{{city}}\\n用户咨询的景点是：{{tourist_spot}}\\n大模型对于该景点的介绍：\\n\\"\\"\\"\\n{{model_knowledge}}\\n\\"\\"\\"\\n网络搜索到的该景点的信息：\\n\\"\\"\\"\\n{{serch_info}}\\n\\"\\"\\"\\n## 工作方法\\n你要根据输入的资料，将景点信息加工整理为一段信息详实、引人入胜的语音解说词。解说词要符合口语的特点，适合语音播报。可以适当旁征博引，引入相关故事或典故，以加强对用户的趣味性。\\n\\n## 输出要求\\n- 使用适合转换为语音播报的文字\\n- 不要掺杂放在括号里的动作、声音、表情、背景音乐等各种转场提示性文字。","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":152,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"20342301088","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv32","appId":"a01c2bc7","maxTokens":8192,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv32","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1346,"id":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","position":{"x":2386.530415138211,"y":422.6225943871038},"positionAbsolute":{"x":2386.530415138211,"y":422.6225943871038},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"b1a7dfc0-1bf5-4e89-b624-a68a390dec57","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","nodeId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"b5979665-3ae6-4495-85fe-305948c7bd6c","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingfeiyi_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"e112d562-7d93-4c04-b900-32d1ac6ddd14","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"超拟人合成_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@72213899d821000","appId":"a01c2bc7","operationId":"超拟人合成-7UcDosEk","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"aa2b495b-4ca8-4c97-965c-b50cbd65368a","name":"sid","schema":{"type":"string"}},{"id":"9269ef04-4bab-448a-8508-b35c2fcd98aa","name":"code","schema":{"type":"integer"}},{"id":"3196c434-f321-4292-8d4c-aefdd2110c4a","name":"msg","schema":{"type":"string"}},{"id":"74727fb7-2000-4b49-a141-24ffb0aa59a1","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":542,"id":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","position":{"x":3425.134551037525,"y":470.0212462973242},"positionAbsolute":{"x":3425.134551037525,"y":470.0212462973242},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要搜索的问题","disabled":false,"id":"c4d528d5-d326-4ba5-8952-cb53785046ff","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","nodeId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"bing搜索_1","labelEdit":false,"nodeMeta":{"aliasName":"bing搜索_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@665b86a9b821000","appId":"a01c2bc7","operationId":"聚合搜索-hL0CqmNi","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","name":"msg","schema":{"type":"string"}},{"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","name":"result","schema":{"properties":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","name":"summary","type":"string"},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","name":"img","type":"string"},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","name":"domain","type":"string"},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","name":"name","type":"string"},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","name":"is_high_summary","type":"boolean"},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","name":"siteName","type":"string"},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","name":"source","type":"string"},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","name":"type","type":"string"},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","name":"url","type":"string"}],"type":"array-object"}},{"id":"ee0f3baf-d730-4e15-89a8-82096ec46238","name":"rc","schema":{"type":"string"}},{"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","name":"semantic","schema":{"properties":[],"type":"array-string"}},{"id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","name":"total","schema":{"type":"string"}},{"id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","name":"offset","schema":{"type":"string"}},{"id":"f298a826-f008-457f-a571-7f5c667233ef","name":"limit","schema":{"type":"string"}},{"id":"352c596e-8a0a-4046-867f-18cef84950a8","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":558,"id":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","position":{"x":1746.7951417424338,"y":1047.3926901935656},"positionAbsolute":{"x":1746.7951417424338,"y":1047.3926901935656},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"60152619-e4bf-466e-babc-40632f7e84fa","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","nodeId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息_1","nodeType":"基础节点"},"nodeParam":{"template":"\\n\\n{{input}}\\n\\n\\n-----------------------------------------\\n\\n真人音频正在生成中，稍后可直接播放\\n","streamOutput":true,"uid":"20342301088","apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","startFrameEnabled":false,"apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"id":"2f5a0aed-d669-40a5-b696-31f9fac465ea","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":551,"id":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","position":{"x":3384.6028572750997,"y":1116.3336003129332},"positionAbsolute":{"x":3384.6028572750997,"y":1116.3336003129332},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"d664d39f-09cd-4c56-af75-b9feb7e6b171","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_2","labelEdit":false,"nodeMeta":{"aliasName":"消息_2","nodeType":"基础节点"},"nodeParam":{"template":"您的需求已收到，{{input}}的讲解正在生成中。。。\\n\\n--------------------------------------------------------\\n\\n","uid":"20342301088","apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","startFrameEnabled":false,"apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"id":"7c2f7e36-54bb-4470-9f9a-464fa0ca81b4","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":471,"id":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","position":{"x":1515.462032159482,"y":1849.4734387107674},"positionAbsolute":{"x":1515.462032159482,"y":1849.4734387107674},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合提取变量描述，将上一节点输出的自然语言进行提取","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png","inputs":[{"fileType":"","id":"9329e9bd-8944-4934-8d06-c982782c9413","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"61df8bbe-abd6-4775-bdb6-252016d15558","nodeId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"变量提取器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量提取器","nodeType":"基础节点"},"nodeParam":{"topK":4,"reasonMode":1,"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"18882349618","patchId":"0","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","setAnswerContentErrMsg":"输出中变量名校验不通过,自动生成JSON失败","serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","name":"city","nameErrMsg":"","required":true,"schema":{"description":"用户想要查询的景点所在城市","type":"string"}},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","name":"tourist_spot","nameErrMsg":"","required":true,"schema":{"description":"用户想要查询的景点","type":"string"}}],"references":[{"label":"开始","value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","children":[{"label":"","value":"","references":[{"id":"61df8bbe-abd6-4775-bdb6-252016d15558","originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":531,"id":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","position":{"x":2.519690178623364,"y":1095.8651385816013},"positionAbsolute":{"x":2.519690178623364,"y":1095.8651385816013},"selected":true,"type":"变量提取器","width":594}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","target":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba-plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","target":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee-plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","target":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","target":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba-message::97cc1f2c-639f-4812-8598-b4917cbe0c11","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","target":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::97cc1f2c-639f-4812-8598-b4917cbe0c11-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","target":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["请帮我介绍北京故宫","请帮我介绍北京故宫里的乾清宫","安徽黄山"],"prologueText":"你好，想去哪里玩呢？"},"needGuide":false,"speechToText":{"enabled":true},"textToSpeech":{"enabled":false,"vcn":"x4_lingxiaoying_en"},"feedback":{"enabled":true}}', NULL, 15, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(117803, 7999407136, '12a0a7e2', '7333414911830429698', 'DeepReseach-XingChen', '当学术写作、市场分析或技术难题需要深入洞察时，简单的搜索远远不够，往往需要数十次查询。Deep Research 专为解决这一效率瓶颈而打造。', 0, 0, '2025-05-28 16:52:43', '2025-07-01 17:31:18', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8-ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","target":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d-iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","target":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::31d26fca-e908-42c5-bda4-94fc3885be9c-node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","target":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c-node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","target":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402-spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","target":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09-node-end::2fad4f8a-b00c-48f5-a90b-95981a100320node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","target":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","targetHandle":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c-message::31d26fca-e908-42c5-bda4-94fc3885be9c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","target":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7-spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","target":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9-plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","target":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::fe875f03-d51c-4177-bd66-9a0139c608fa-spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","target":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae-node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","target":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::2e8e1b1e-d814-4956-a764-b895fe124f0f-text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","target":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50-message::2e8e1b1e-d814-4956-a764-b895fe124f0f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","target":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","target":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21-spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","target":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54-node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","target":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::29243923-3bd4-4510-9969-0f3eb83278e3-iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","target":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","targetHandle":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff-node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","target":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69-iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","target":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","targetHandle":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21-ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","target":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf-text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","target":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","type":"customEdge","zIndex":996}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"deleteDisabled":true,"id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","position":{"x":-2289.23514470434,"y":339.880966226477},"positionAbsolute":{"x":-2289.23514470434,"y":339.880966226477},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"1d83e7fe-0e0e-47b7-88e1-a5ba41470427","name":"report","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","nodeId":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{report}}","streamOutput":true,"templateErrMsg":"","outputMode":1,"reasoningTemplate":""},"outputs":[],"references":[{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"调研结果提取","parentNode":true,"value":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},{"children":[{"references":[{"originId":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"Write_Final_Report","parentNode":true,"value":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","position":{"x":6481.805549405643,"y":265.40671844957683},"positionAbsolute":{"x":6481.805549405643,"y":265.40671844957683},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"301fafc3-34c2-4c8c-b9b4-7f96221f1c1a","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}}],"label":"Get Now","labelEdit":false,"nodeMeta":{"aliasName":"Get Now","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"import time\\ndef main(input):\\n    ret = {\\n        \\"time\\":time.strftime(''%Y-%m-%d'', time.localtime())\\n    }\\n\\n    return ret","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","name":"time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":785,"id":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","position":{"x":-1353.9567065998558,"y":225.28668325020703},"positionAbsolute":{"x":-1353.9567065998558,"y":225.28668325020703},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"95809fc2-80b0-4c00-a828-3067a101ae53","name":"queries","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"DeepSearch","labelEdit":false,"nodeMeta":{"aliasName":"DeepSearch","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","IterationStartNodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"}],"status":"","updatable":false},"dragging":false,"height":1027,"id":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":2961.123247524005,"y":52.685391851874044},"positionAbsolute":{"x":2961.123247524005,"y":52.685391851874044},"selected":true,"type":"迭代","width":1712},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"time","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","nodeId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},"contentErrMsg":"","type":"ref"}}},{"id":"13c58afc-e1f1-4b68-b079-8d9726447c21","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":"\\\\ ","contentErrMsg":"","type":"literal"}}},{"id":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":"\\\\","contentErrMsg":"","type":"literal"}}}],"label":"全局变量存储","labelEdit":false,"nodeMeta":{"aliasName":"全局变量存储","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","id":"45b1aa39-e9b4-4f03-bfa8-ee71cb0f7459","label":"output_m","type":"string","value":"output_m","fileType":""}],"label":"","value":""}],"label":"Search_Queries","parentNode":true,"value":"message::31d26fca-e908-42c5-bda4-94fc3885be9c"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":371,"id":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","position":{"x":2254.4349945874173,"y":443.7853496964773},"positionAbsolute":{"x":2254.4349945874173,"y":443.7853496964773},"selected":false,"type":"变量存储器","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"0f6dda2b-4bda-4c62-b0a9-5885b4ba8441","name":"Queries","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_Queries","labelEdit":false,"nodeMeta":{"aliasName":"Search_Queries","nodeType":"基础节点"},"nodeParam":{"template":"\\n=======基于您的输入，为您生成了10个研究主题=======\\n{{Queries}}","streamOutput":true,"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false,"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"id":"45b1aa39-e9b4-4f03-bfa8-ee71cb0f7459","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":423,"id":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","position":{"x":1545.3269398529592,"y":391.18758610556506},"positionAbsolute":{"x":1545.3269398529592,"y":391.18758610556506},"selected":false,"type":"消息","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"调研结果提取","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"get","appId":"12a0a7e2","flowId":"7333414911830429698"},"outputs":[{"id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","name":"findings","nameErrMsg":"","refId":"13c58afc-e1f1-4b68-b079-8d9726447c21","required":true,"schema":{"description":"","type":"string"}},{"id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","name":"now","nameErrMsg":"","refId":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","required":true,"schema":{"default":"","type":"string"}},{"id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","name":"urls","nameErrMsg":"","refId":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","required":true,"schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":359,"id":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","position":{"x":4931.782766893291,"y":379.54479075727227},"positionAbsolute":{"x":4931.782766893291,"y":379.54479075727227},"selected":false,"type":"变量存储器","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"19c83fb0-9626-4c4b-ab8e-c568fbdf5ad2","name":"user_input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f76b33a2-d02c-4f8c-82e1-a9fceed17b2c","name":"learnings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"findings","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"4fc3f902-5f1c-4740-b620-2f0d287c9e37","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"now","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"5c128dba-dc24-426f-afc6-e34b9d16bfb9","name":"visitedURLs","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"urls","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3f8e5c97-57e9-424b-a264-3d01fd11eb7c","name":"topics","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"Write_Final_Report","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following input from the user, write a final chinese report strictly using ONLY the provided research materials. Make it as detailed as possible, The goal is no less than 5000 words，include ALL the learnings from research:\\n\\nCritical Requirements:\\n1. Content Boundaries:\\n   - Every claim must have direct source evidence in <learnings>/<source>\\n   - Use verbatim source phrasing where possible\\n   - Never combine information from multiple sources into new conclusions\\n\\n<input>{{user_input}}</input>\\nHere are all the learnings from previous research:\\n<learnings>\\n{{learnings}}\\n</learnings>\\n\\n<excuted_query>\\n{{topics}}\\n</excuted_query>\\n\\nOutput the images in the form of Markdown links. You need to ensure that the output text can be correctly parsed by the front - end. Return a final report with both text and source url list to me.","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":10000014,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xopgptoss120b","appId":"12a0a7e2","maxTokens":65535,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n- Relevance Enforcement Core\\n- Every output segment must contain explicit relevance markers showing connection to {{user_input}}\\n- Implement 3-layer relevance verification:\\n  1. Content must contain ≥1 direct match to user''s query keywords\\n  2. Semantic similarity score ≥0.7 (calculated via cosine similarity)\\n  3. Include relevance justification statement per paragraph\\n- Strict Source Adherence**: All content must be directly derived from the provided <source> and <learnings>. Do NOT generate, infer, or supplement any information beyond the research materials.\\n  - Verification Protocol**: For every key point in the report:\\n      a) Cross-reference with at least 2 independent sources in <visitedURLs>\\n      b) If conflicting data exists, present all perspectives without resolution\\n      c) Flag any gaps in research instead of filling them\\n  - Anti-Hallucination Measures:\\n      - Never create data, statistics, or quotes\\n      - Reject requests requiring knowledge beyond provided materials\\n      - Use explicit phrasing: \\"Research indicates...\\" instead of definitive claims\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.\\n\\n<source>\\n{{visitedURLs}}\\n</source>","model":"spark","serviceId":"xopgptoss120b","respFormat":0},"outputs":[{"id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"调研结果提取","parentNode":true,"value":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":1737,"id":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","position":{"x":5706.843935224669,"y":117.7239499988699},"positionAbsolute":{"x":5706.843935224669,"y":117.7239499988699},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"82227be2-0e6e-4e24-bda9-23fac34026e7","name":"exa_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}},{"id":"efa57daf-c3f2-4ad2-95d0-a56302b251be","name":"numQueries","nameErrMsg":"","schema":{"type":"string","value":{"content":"10","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"5d539ef9-db85-46de-baa9-975ef1bba413","name":"background","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_Queries_Generation","labelEdit":false,"nodeMeta":{"aliasName":"Search_Queries_Generation","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following prompt from the user, generate a list of SERP Chinese queries to research the topic. Return a maximum of {{numQueries}} queries, but feel free to return less if the original prompt is clear. Make sure each query is unique and not similar to each other:\\n<prompt>\\n## user_query\\n{{user_query}}\\n## background\\n{{background}}\\n</prompt>\\n\\nPlease output use json format\\n``````json\\n{\\"queries\\":[\\"query1\\",\\"query2\\"...]}\\n``````","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.","model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","name":"queries","nameErrMsg":"","schema":{"default":"","properties":[],"type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":1334,"id":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","position":{"x":854.5482842075206,"y":224.60200568847358},"positionAbsolute":{"x":854.5482842075206,"y":224.60200568847358},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"34ecd9c2-0151-462a-9d9d-e14d9c16722f","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_KeyWord","labelEdit":false,"nodeMeta":{"aliasName":"Search_KeyWord","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 任务：你是一个深度研究专家，可以基于用户输入，提取唯一核心搜索关键词\\n## 用户输入\\n{{query}}\\n## 要求\\n1.  **唯一性**：仅输出 **1个** 最核心的关键词。\\n2.  **核心性**：必须直接指向问题最核心的**实体/概念/动作**（优先名词、专有名词）。\\n3.  **具体性**：\\n    *   使用最具体、信息量最大的词汇（如 ``iPhone15Pro续航`` 而非 ``苹果手机``）。\\n    *   若核心是**比较**，融合比较对象和属性（如 ``华为苹果5G速度对比``）。\\n    *   若含关键限定词（时间/地点），且不可或缺，则融入关键词（如 ``2024巴黎奥运会赛程``）。\\n4.  **搜索友好**：\\n    *   长度适中（通常2-6个汉字或1-3个英文词）。\\n    *   **禁止**疑问词（如何/为什么）、助词（的/了）、无意义动词（想/了解）。\\n    *   **禁止**句子或短语。\\n## 输出格式\\n``````json\\n{\\"keyword\\":\\"核心关键词\\"}\\n``````","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","name":"keyword","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":1169,"id":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","position":{"x":-605.5116975522649,"y":64.21043198288953},"positionAbsolute":{"x":-605.5116975522649,"y":64.21043198288953},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"返回网页数量","disabled":false,"id":"c0ccb58f-d412-4df2-917f-c62ef5c455c4","name":"limit","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"description":"检索关键词","disabled":false,"fileType":"","id":"d7654983-4673-4297-b809-4447478d1379","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"keyword","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","nodeId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结果是否重排序","disabled":false,"id":"4ad685a3-b2d8-4c37-b3b6-247b124f3f1c","name":"open_rerank","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}},{"description":"是否开启全文内容","disabled":false,"id":"19430fb5-ef88-4535-b83e-6a14340a3e7d","name":"full_text","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}}],"label":"Keyword_Search","labelEdit":false,"nodeMeta":{"aliasName":"Keyword_Search","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@7b783cae9c21000","appId":"12a0a7e2","operationId":"聚合搜索-b5HNlLDD","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"outputs":[{"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","name":"data","schema":{"properties":[{"id":"427ce060-eecd-4d55-a9e1-0d22100d7232","name":"classify_domain","properties":[],"type":"array-string"},{"id":"08f765bd-d032-47b1-bb5e-c226b51f0835","name":"documents","properties":[],"type":"array-object"},{"id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","name":"more_documents","properties":[],"type":"array-object"}],"type":"object"}},{"id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","name":"success","schema":{"type":"boolean"}},{"id":"d496063c-39c8-4393-90bf-22a39fda8da7","name":"err_code","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":503,"id":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","position":{"x":139.48063887908415,"y":326.7249599859789},"positionAbsolute":{"x":139.48063887908415,"y":326.7249599859789},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":-2019.1289520601033,"y":296.5978116672338},"outputs":[{"id":"95809fc2-80b0-4c00-a828-3067a101ae53","name":"queries","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":232,"id":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":30,"y":425.915809231445},"positionAbsolute":{"x":-2019.1289520601033,"y":296.5978116672338},"selected":false,"type":"开始节点","width":658,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"8f6cdf43-36d4-4e91-889f-b3ebd6b12a02","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","nodeId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","outputMode":0},"originPosition":{"x":3461.3097047592923,"y":510.4450170462777},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle","parentNode":true,"value":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle_1","parentNode":true,"value":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":229,"id":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1400.109664204849,"y":479.37761057620594},"positionAbsolute":{"x":3461.3097047592923,"y":510.4450170462777},"selected":false,"type":"结束节点","width":408,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"全局变量提取","labelEdit":false,"nodeMeta":{"aliasName":"全局变量提取","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"get","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"originPosition":{"x":-1065.5466674931718,"y":233.84742089352562},"outputs":[{"id":"4969937b-5455-421b-b08d-27525eecbea1","name":"now","nameErrMsg":"","refId":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","required":true,"schema":{"description":"","type":"string"}},{"id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","name":"findings","nameErrMsg":"","refId":"13c58afc-e1f1-4b68-b079-8d9726447c21","required":true,"schema":{"default":"","type":"string"}},{"id":"671bb501-2465-4440-8bca-666e0de97b10","name":"urls","nameErrMsg":"","refId":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","required":true,"schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":359,"id":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":268.3955711417329,"y":410.22821153801794},"positionAbsolute":{"x":-1065.5466674931718,"y":233.84742089352562},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"9a94f5e9-d5ac-4711-a0e6-5ca2ac465ccc","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"eee3dc74-842f-4d46-841c-9c5d0d590010","name":"result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","nodeId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"0144d744-a49b-426d-94f2-3843a6ccb7e4","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"findings","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}}],"label":"SerpResultsHandle","labelEdit":false,"nodeMeta":{"aliasName":"SerpResultsHandle","nodeType":"工具"},"nodeParam":{"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","separatorErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","prompt":"<Query>\\n{{query}}\\n</Query>\\n<Result>\\n{{result}}\\n</Result>\\n{{findings}}"},"originPosition":{"x":2097.1434869812306,"y":364.9581265810171},"outputs":[{"id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":700,"id":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1059.0681097603335,"y":443.0058879598908},"positionAbsolute":{"x":2097.1434869812306,"y":364.9581265810171},"selected":false,"type":"文本拼接","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"12087343-0339-4c7f-978a-0c15af2dc897","name":"result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","nodeId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"00bb3de4-b220-4a04-94ba-ff6531f6f837","name":"queries","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息_1","nodeType":"基础节点"},"nodeParam":{"template":"\\n=======主题：《{{queries}}》深度研究完成=======\\n{{result}}","streamOutput":true,"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false,"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":1216.1819372639081,"y":324.5143494939853},"outputs":[{"id":"662fd50a-85d2-4a2e-a247-273c0917bad4","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"running","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":471,"id":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":838.8277223310029,"y":432.89494368813286},"positionAbsolute":{"x":1216.1819372639081,"y":324.5143494939853},"selected":false,"type":"消息","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"082fef70-7284-4e11-8fc6-b352e1a3e879","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e6c589a2-0115-4c49-ae9e-ffb919de1a00","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"now","id":"4969937b-5455-421b-b08d-27525eecbea1","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"54990964-9571-4310-b0cd-20bc16e12d73","name":"contents","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},"contentErrMsg":"","type":"ref"}}}],"label":"ProcessSerpResult","labelEdit":false,"nodeMeta":{"aliasName":"ProcessSerpResult","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following contents from a SERP search for the query <query>{{query}}</query>, generate a chinese list of learnings from the contents. authoritative academic websites (such as arxiv, PubMed,) are preferred.Return a maximum of 5 learnings, but feel free to return less if the contents are clear. Make sure each learning is unique and not similar to each other. The learnings should be concise and to the point, as detailed and information dense as possible. Make sure to include any entities like people, places, companies, products, things, etc in the learnings, as well as any exact metrics, numbers, or dates. The learnings will be used to research the topic further.\\n\\n<contents>\\n{{contents}}\\n</contents>","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":8192,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.\\n","model":"spark","serviceId":"xdeepseekv3","respFormat":0},"originPosition":{"x":469.02140664412127,"y":-87.0654252585461},"outputs":[{"id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"running","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":1290,"id":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":652.0375896760561,"y":330},"positionAbsolute":{"x":469.02140664412127,"y":-87.0654252585461},"selected":false,"type":"大模型","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"返回网页数量","disabled":false,"id":"c93f4a1b-b82b-45ff-a171-01ec1190d9df","name":"limit","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"description":"检索关键词","disabled":false,"fileType":"","id":"32d3d825-b645-438a-bdfb-ad3210e99554","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"description":"结果是否重排序","disabled":false,"id":"b293d886-fb44-4bda-935d-ff3499600911","name":"open_rerank","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}},{"description":"是否开启全文内容","disabled":false,"id":"17dfd805-3b84-421d-a0a8-d4d214be0c0c","name":"full_text","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}}],"label":"聚合搜索","labelEdit":false,"nodeMeta":{"aliasName":"聚合搜索","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@7b783cae9c21000","appId":"12a0a7e2","operationId":"聚合搜索-b5HNlLDD","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"originPosition":{"x":-275.3066521353346,"y":-64.65872180204218},"outputs":[{"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","name":"data","schema":{"properties":[{"id":"427ce060-eecd-4d55-a9e1-0d22100d7232","name":"classify_domain","properties":[],"type":"array-string"},{"id":"08f765bd-d032-47b1-bb5e-c226b51f0835","name":"documents","properties":[],"type":"array-object"},{"id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","name":"more_documents","properties":[],"type":"array-object"}],"type":"object"}},{"id":"f632f44d-5326-43b7-9b41-54d026467fda","name":"success","schema":{"type":"boolean"}},{"id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","name":"err_code","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":503,"id":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":465.95557498119217,"y":335.601675864126},"positionAbsolute":{"x":-275.3066521353346,"y":-64.65872180204218},"selected":false,"type":"工具","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"090d8df5-8809-46e2-add8-111d8c590014","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","nodeId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},"contentErrMsg":"","type":"ref"}}}],"label":"Learnings_Setting","labelEdit":false,"nodeMeta":{"aliasName":"Learnings_Setting","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"originPosition":{"x":2778.0781479911498,"y":454.0044284647601},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle","parentNode":true,"value":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":275,"id":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1229.3017750128133,"y":465.2674634308265},"positionAbsolute":{"x":2778.0781479911498,"y":454.0044284647601},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"eee3dc74-842f-4d46-841c-9c5d0d590010","name":"url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"url","id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","nodeId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"a4094730-8fb6-43b6-8cbe-61e5eabd9869","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"urls","id":"671bb501-2465-4440-8bca-666e0de97b10","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}}],"label":"SerpResultsHandle_1","labelEdit":false,"nodeMeta":{"aliasName":"SerpResultsHandle_1","nodeType":"工具"},"nodeParam":{"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","separatorErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","prompt":"<URL>\\n{{url}}\\n</URL>\\n{{urls}}"},"originPosition":{"x":1186.8526703067744,"y":1260.2188290812826},"outputs":[{"id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":603,"id":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":831.4954055917194,"y":666.8210635849572},"positionAbsolute":{"x":1186.8526703067744,"y":1260.2188290812826},"selected":false,"type":"文本拼接","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"090d8df5-8809-46e2-add8-111d8c590014","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"url","id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","nodeId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"},"contentErrMsg":"","type":"ref"}}}],"label":"URLs_Setting","labelEdit":false,"nodeMeta":{"aliasName":"URLs_Setting","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"originPosition":{"x":2099.471579057138,"y":1350.388921378597},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle_1","parentNode":true,"value":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":275,"id":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1059.6501327793103,"y":689.3635866592858},"positionAbsolute":{"x":2099.471579057138,"y":1350.388921378597},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"5a49ed8a-c9b6-4df2-b12d-d894e9337c50","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},"contentErrMsg":"","type":"ref"}}}],"label":"Extract_URLs","labelEdit":false,"nodeMeta":{"aliasName":"Extract_URLs","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"# -*- coding: utf-8 -*-\\ndef main(input):\\n    urls = []\\n    # 提取主文档中的URL\\n    for doc in input:\\n        if \\"url\\" in doc:\\n            urls.append(''<SUMMARY> \\\\n'' + doc[''summary''] + ''</SUMMARY> \\\\n'' + ''<URL> \\\\n'' + doc[\\"url\\"] + ''<URL> \\\\n'')\\n    url = ''''.join(urls)\\n    return {''url'':url} ","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"originPosition":{"x":464.5417859385602,"y":1425.9628289664477},"outputs":[{"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","name":"url","nameErrMsg":"","schema":{"default":"","properties":[],"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":745,"id":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":650.9176844996659,"y":708.2570635562485},"positionAbsolute":{"x":464.5417859385602,"y":1425.9628289664477},"selected":false,"type":"代码","width":587,"zIndex":1}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1750238788321_1.png', '#FFEAD5', -1, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["什么是RAG？"],"prologueText":"输入您想研究的主题，我来为您生成一篇深度研究报告"},"needGuide":false}', '{"botId":2896209}', 17, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(112649, 18882349618, '12a0a7e2', '7331596244756099074', '【勿动】-单词卡片王模板', '单词卡片王模板', 0, 0, '2025-05-23 16:26:00', '2025-07-16 11:43:28', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"5f93d1890c25748e68a514c62f79b8b1","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"deleteDisabled":true,"id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","position":{"x":-1004.5306050613806,"y":960.693371361336},"positionAbsolute":{"x":-1004.5306050613806,"y":960.693371361336},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"2353a7d4-07aa-42b2-9a16-efe57ae6c29e","name":"word","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"word","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"1e887a11-7219-4e9c-8759-9bf5b7bec72b","name":"phonetic","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"phonetic","id":"71810806-00e5-428e-befa-9d1c19021ad2","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"9d30fb5a-9d1a-49cd-a92d-2dece17537a4","name":"part_of_speech","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"part_of_speech","id":"f1cdad10-420c-46f5-835b-191a383201b4","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"0aa3ea8c-a55e-483d-8209-c3cf103f87e7","name":"meaning_cn","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"meaning_cn","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f7652002-a96d-4da0-988e-4c6c9796b3d2","name":"example_en","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f2d71cd0-1174-41f5-9284-f6137d0fad28","name":"example_cn","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_cn","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"8630077e-6511-4cb8-8697-ce1cd607a58a","name":"image_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.image_url","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","nodeId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"9ad3d834-34fd-473d-8e17-bdd440b818a5","name":"voice_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"<!DOCTYPE html>\\n<html lang=\\"en\\">\\n<head>\\n  <meta charset=\\"UTF-8\\" />\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\"/>\\n  <title>Kids Flashcard - {{word}}</title>\\n  <style>\\n    body {\\n      font-family: \\"Comic Sans MS\\", \\"Arial Rounded MT Bold\\", sans-serif;\\n      background-color: #fdfcfa;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      height: 100vh;\\n      margin: 0;\\n    }\\n    .flashcard {\\n      background-color: #fff4ed;\\n      border-radius: 24px;\\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\\n      padding: 25px 30px;\\n      max-width: 420px;\\n      width: 90%;\\n      text-align: center;\\n    }\\n    .word {\\n      font-size: 38px;\\n      font-weight: bold;\\n      color: #333;\\n    }\\n    .phonetic {\\n      font-size: 22px;\\n      color: #666;\\n      margin-top: 4px;\\n    }\\n    .part {\\n      font-size: 20px;\\n      color: #888;\\n      margin: 10px 0 4px 0;\\n    }\\n    .meaning {\\n      font-size: 22px;\\n      color: #444;\\n      margin-bottom: 16px;\\n    }\\n    .illustration {\\n      width: 220px;\\n      height: auto;\\n      border-radius: 12px;\\n      margin: 16px auto;\\n    }\\n    .sentence-en, .sentence-cn {\\n      font-size: 18px;\\n      margin-top: 10px;\\n      color: #333;\\n    }\\n    .audio-player {\\n      margin-top: 14px;\\n      width: 100%;\\n      max-width: 300px;\\n    }\\n  </style>\\n</head>\\n<body>\\n  <div class=\\"flashcard\\">\\n    <div class=\\"word\\">{{word}}</div>\\n    <div class=\\"phonetic\\">{{phonetic}}</div>\\n    <div class=\\"part\\">{{part_of_speech}}</div>\\n    <div class=\\"meaning\\">{{meaning_cn}}</div>\\n    <img src=\\"{{image_url}}\\" alt=\\"Illustration of {{word}}\\" class=\\"illustration\\"/>\\n    <div class=\\"sentence-en\\">{{example_en}}</div>\\n    <div class=\\"sentence-cn\\">{{example_cn}}</div>\\n    <audio preload=\\"none\\" controls class=\\"audio-player\\">\\n      <source src=\\"{{voice_url}}\\" type=\\"audio/mpeg\\">\\n      Your browser does not support the audio element.\\n    </audio>\\n  </div>\\n</body>\\n</html>\\n","streamOutput":true,"apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"},{"children":[{"references":[{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"7e5764b2-b0f3-40fc-9bac-a87e4b22ec19","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"a1a1d0aa-29be-424a-a424-1e3edc6b8881","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","children":[{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","label":"image_url","type":"string","value":"data.image_url","parentType":"object","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"d280073d-3b54-4cae-8dec-8e6073fa4191","label":"image_url_md","type":"string","value":"data.image_url_md","parentType":"object","fileType":""}],"id":"21385939-a43b-41f8-93c5-7f28eef44887","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"6d7c8ec7-4b92-4591-b5a1-24aad2d15b27","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"文生图_1","parentNode":true,"value":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6"},{"children":[{"references":[{"originId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文生图prompt","parentNode":true,"value":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},{"children":[{"references":[{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"d654622d-e3e5-4de2-9fed-55c3473a10e2","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"b89f63a7-2160-4e82-a21a-c4e578b6b830","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"74d6ac20-c58a-46cb-8f33-35d4295ce7c2","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","children":[{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"ba62612d-4e66-49d4-aa88-c727ebf4ddf4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217"}],"status":"","updatable":false},"dragging":false,"height":1351,"id":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","position":{"x":2954.611593731852,"y":35.10500805675582},"positionAbsolute":{"x":2954.611593731852,"y":35.10500805675582},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"2de315e5-66c9-4eeb-8079-3800dc057caf","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","nodeId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"},"contentErrMsg":"","type":"ref"}}}],"label":"extract_word","labelEdit":false,"nodeMeta":{"aliasName":"extract_word","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 单词提取中心（适用于单词卡片生成）\\n**角色**：语言过滤与核心词提取器  \\n**目标**：根据任意输入内容，提取最具代表性的英文单词，作为词卡主题词。\\n---\\n## 1. 输入语言判断与预处理：\\n- **中文输入**：\\n  * 若识别为**专有名词**（人名、地名、角色名、品牌名等），直接翻译为对应的英文拼写（如 “孙悟空” → ``sun wukong``）\\n  * 否则翻译为英文短语，进入提取流程\\n- **中英混排输入**：\\n  * 提取首个**具语义价值的英文单词**（优先名词）\\n  * 忽略中文部分及非语义词（如 “the”, “a”, “of”）\\n- **英文输入**：\\n  * 若为单词或短语，直接标准化处理  \\n  * 若为完整句子，按提取策略处理并提取第一个核心词\\n---\\n## 2. 提取策略（优先级）：\\n- 优先提取**名词**（概念、对象、想法类）  \\n- 若无明显名词，提取**含义最核心的动词或形容词**  \\n- 若为完整句子，仅提取**第一个具代表性的核心词**  \\n- 若输入为专有名词，直接保留其英文形式，无需拆解或抽象化\\n---\\n## 3. 标准化规则（词形处理）：\\n- 所有输出单词小写（如 *Love* → ``love``）  \\n- 名词统一为单数形式（e.g. *dreams* → ``dream``）  \\n- 动词还原为原形（e.g. *running* → ``run``）  \\n- 拼写修正：疑似拼错词（长度 ≥5）将自动修正为最近合法英文单词（基于词频模型或拼写字典）\\n---\\n## 4. 特殊输入处理：\\n### 4.1 纯数字输入：\\n按以下优先级处理：\\n1. 若该数字有**标准英文写法**（如 ``1`` → ``one``，``100`` → ``hundred``），直接输出英文单词  \\n2. 若该数字在文化中具象征意义（如 ``7`` → ``luck``，``13`` → ``unlucky``），可输出对应联想词  \\n3. 若无法识别或无语义关联，输出 ``[none]``\\n### 4.2 表情符号（emoji）：\\n- 若为常见 emoji 且具明确情绪/概念（如 ???? → ``happiness``, ???? → ``idea``），提取相关核心词  \\n- 若为不常见或无明确语义的 emoji，输出 ``[none]``\\n---\\n## 5. 输出格式：\\n- 所有输出为标准英文单词，格式为：  \\n  \\\\[``英文单词``\\\\]  \\n- 若无有效词义，输出：  \\n  \\\\[``none``\\\\]\\n---\\n## 示例：\\n| 输入                           | 输出           |\\n|--------------------------------|----------------|\\n| 坚定的意志                    | ``will``         |\\n| 请处理ambitious               | ``ambition``     |\\n| She is running fast.          | ``run``          |\\n| 创新的科技产品                | ``innovation``   |\\n| 坚持不懈的                    | ``perseverance`` |\\n| ????                            | ``happiness``    |\\n| ????                            | ``disgust``      |\\n| 2024                          | ``year``         |\\n| 100                           | ``hundred``      |\\n| 7                             | ``luck``         |\\n| 13                            | ``unlucky``      |\\n| 99999                         | ``[none]``       |\\n| 这是一个amazing opportunity   | ``opportunity``  |\\n| 孙悟空                        | ``sun wukong``   |\\n| 乔布斯                        | ``steve jobs``   |\\n| 巴黎                          | ``paris``        |\\n| 华为手机                      | ``huawei``       |\\n---\\n输入：{{input}}\\n> ???? 适用于：单词卡片生成、标签抽取、关键词推荐、情绪感知词提取、语义压缩等任务。\\n\\n","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"3521d160-f926-41fc-9f6a-e7e1373bd466","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":1174,"id":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","position":{"x":-257.58445046164775,"y":576.6233766233765},"positionAbsolute":{"x":-257.58445046164775,"y":576.6233766233765},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"886d29fe-c55d-477d-9415-813b62a1f3ec","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","nodeId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},"contentErrMsg":"","type":"ref"}}}],"label":"word_data","labelEdit":false,"nodeMeta":{"aliasName":"word_data","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 单词学习卡片的提示词\\n> “请根据提供的英文单词，生成一个词汇学习卡片，输出格式为JSON，包含以下字段：\\n>\\n> * ``word``：英文单词\\n> * ``phonetic``：音标（英式或美式）\\n> * ``part_of_speech``：词性（如名词、动词等）\\n> * ``meaning_cn``：中文意思\\n> * ``example_en``：英文例句\\n> * ``example_cn``：对应的中文翻译\\n>\\n> 请仅输出 JSON，不要添加任何额外说明或文本。”\\n---\\n### ✅ 示例输入：\\n``````text\\napple\\n``````\\n### ✅ 示例输出（JSON）：\\n``````json\\n{\\n  \\"word\\": \\"apple\\",\\n  \\"phonetic\\": \\"/ˈæpəl/\\",\\n  \\"part_of_speech\\": \\"noun\\",\\n  \\"meaning_cn\\": \\"苹果\\",\\n  \\"example_en\\": \\"She ate a red apple for lunch.\\",\\n  \\"example_cn\\": \\"她午饭吃了一个红苹果。\\"\\n}\\n``````\\n\\n输入：{{input}}","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","name":"word","nameErrMsg":"","schema":{"default":"","type":"string"}},{"id":"71810806-00e5-428e-befa-9d1c19021ad2","name":"phonetic","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"f1cdad10-420c-46f5-835b-191a383201b4","name":"part_of_speech","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"15e526a8-d94a-4f9f-be32-fed7735c460c","name":"meaning_cn","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","name":"example_en","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","name":"example_cn","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":1398,"id":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","position":{"x":380.0648875050731,"y":588.3116883116883},"positionAbsolute":{"x":380.0648875050731,"y":588.3116883116883},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"961d2e5f-7b37-454a-bac3-09cdcf756513","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}}],"label":"文生图prompt","labelEdit":false,"nodeMeta":{"aliasName":"文生图prompt","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"> Based on the following English phrase, generate a concise illustration prompt in English.\\n>\\n> **Style:** Cute, clean, and colorful — ideal for children''s picture books or kawaii visuals.\\n>\\n> **Requirements:**\\n>\\n> * Clear composition\\n> * Soft pastel-like colors\\n> * Simple or minimal background\\n> * Inspiration may include: flat design, vector art, Studio Ghibli, Pixar, or children''s book illustrations\\n>\\n> **Output Format:**\\n> Write in a single descriptive paragraph. Follow this example format:\\n>\\n> > A cheerful farmer in a straw hat stands on a lush green ranch, surrounded by a small herd of playful, multicolored cows. The cows have soft, pastel fur and big, expressive eyes, with some wearing flower-patterned bells. In the background, rolling hills painted in gentle blues and yellows stretch toward a bright, cloud-filled sky. A red barn with a rainbow roof sits nearby, framed by fluffy white clouds and blooming sunflowers. The composition is clean and flat, with bold outlines and vibrant, kid-friendly colors, reminiscent of Studio Ghibli or Pixar charm.\\n>\\n> Keep the description moderately short, visual, and emotionally light.\\n>\\n> **Phrase:** {{input}}","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"d94e153a-22c8-4bd9-984e-48ad300b4412","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":1174,"id":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","position":{"x":1203.8418644835785,"y":-55.77961684003702},"positionAbsolute":{"x":1203.8418644835785,"y":-55.77961684003702},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"21b20c92-d983-44e4-a6cc-60b83015c296","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"75a8fbb0-f13a-4fd4-9a5f-90a99b77a370","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingxiaoxuan_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"eea6a7b9-e92a-4df7-9494-1e7462a8140b","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"40","contentErrMsg":"","type":"literal"}}}],"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"超拟人合成_1","nodeType":"工具"},"nodeParam":{"uid":"1002771","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@72213899d821000","appId":"a01c2bc7","operationId":"超拟人合成-7UcDosEk","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"d654622d-e3e5-4de2-9fed-55c3473a10e2","name":"sid","schema":{"type":"string"}},{"id":"b89f63a7-2160-4e82-a21a-c4e578b6b830","name":"code","schema":{"type":"integer"}},{"id":"74d6ac20-c58a-46cb-8f33-35d4295ce7c2","name":"msg","schema":{"type":"string"}},{"id":"ba62612d-4e66-49d4-aa88-c727ebf4ddf4","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":482,"id":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","position":{"x":1831.09907705333,"y":1034.854810233409},"positionAbsolute":{"x":1831.09907705333,"y":1034.854810233409},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"description","disabled":false,"fileType":"","id":"6fa8fbb7-fe99-4819-a74e-88d35fefb9a8","name":"prompt","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","nodeId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},"contentErrMsg":"","type":"ref"}}},{"description":"分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","disabled":false,"id":"82ba0e1b-b0b5-4988-bab8-e2f007fcaaea","name":"width","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"512","contentErrMsg":"","type":"literal"}}},{"description":"分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","disabled":false,"id":"e5e74f4f-fb3c-4f66-90e8-8a76b7ef44cc","name":"height","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"512","contentErrMsg":"","type":"literal"}}}],"label":"文生图_1","labelEdit":false,"nodeMeta":{"aliasName":"文生图_1","nodeType":"工具"},"nodeParam":{"uid":"1002771","code":"","toolDescription":"根据输入的内容生成与内容有关的图片","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@6af64fc92421000","appId":"a01c2bc7","operationId":"文生图-4y8oUAMe","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"7e5764b2-b0f3-40fc-9bac-a87e4b22ec19","name":"code","schema":{"type":"number"}},{"id":"a1a1d0aa-29be-424a-a424-1e3edc6b8881","name":"message","schema":{"type":"string"}},{"id":"21385939-a43b-41f8-93c5-7f28eef44887","name":"data","schema":{"properties":[{"id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","name":"image_url","type":"string"},{"id":"d280073d-3b54-4cae-8dec-8e6073fa4191","name":"image_url_md","type":"string"}],"type":"object"}},{"id":"6d7c8ec7-4b92-4591-b5a1-24aad2d15b27","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文生图prompt","parentNode":true,"value":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":482,"id":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","position":{"x":2109.3220366400647,"y":245.32745081632038},"positionAbsolute":{"x":2109.3220366400647,"y":245.32745081632038},"selected":true,"type":"工具","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce-spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","target":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","target":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-spark-llm::15451103-737e-44f1-a38e-34fabaef5204","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::15451103-737e-44f1-a38e-34fabaef5204-plugin::83f6c597-615d-4f20-8b63-53f9737513b6","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","target":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::83f6c597-615d-4f20-8b63-53f9737513b6-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["cat","dog","我要一杯水！"],"prologueText":"现在，请输入你要生成插图的中文/英文单词吧！随便输入任意内容都行！！！"},"needGuide":false}', NULL, 17, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(111203, 18879796086, '12a0a7e2', '7273250752174911488', '【模板勿动】大模型资讯小助手', '【模板勿动】大模型资讯小助手', 0, 0, '2024-12-13 16:21:50', '2025-05-22 17:58:52', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":""},"dragging":false,"height":232,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":451,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"计算结束时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"计算开始时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"获取当前时间","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"输出格式美化","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":true,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}},"type":"number"},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}},"type":"number"}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集工具","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@6fefaedc6821000","appId":"12a0a7e2","operationId":"AI资讯收集-koAieDub","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}}},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}}}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","pluginId":"tool@6fefaedc6821000","appId":"12a0a7e2","operationId":"AI资讯收集-koAieDub","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729649279117.jpg?width=204&height=204', '', 1, 1, 0, 0, NULL, 0, 31536, 2, NULL, 1, NULL, '{"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(86255, 11143393282, '12a0a7e2', '7320350037499285506', '诗词散文意境配图', '为您的诗词、散文画出一幅绝美意境的配图', 0, 0, '2025-04-22 15:37:34', '2025-06-25 17:42:58', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","position":{"x":3,"y":188},"positionAbsolute":{"x":3,"y":188},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"54e5cbc0-ac13-49cc-8521-53358b22d932","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","nodeId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","name":"data.image_url"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e3c31c7d-433d-41a7-abaa-6ed751ca5a8d","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","nodeId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"✨{{output1}}✨\\n<figure style=margin: 0; padding: 0; border: 1px solid #ddd;\\">\\n  <img src=\\"{{output}}\\" style=\\"width: 100%; height: 100%; object-fit: contain; display: block;\\">\\n</figure>","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"文本处理节点_1","value":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","children":[{"label":"","value":"","references":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","originId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"文生图 - 可灵版_1","value":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","children":[{"label":"","value":"","references":[{"id":"c567e6ce-6837-44bc-a82a-c2e1bc868331","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"sid","value":"sid","type":"string","fileType":""},{"id":"e9764785-4223-4255-9baf-7faad71323c4","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"code","value":"code","type":"integer","fileType":""},{"id":"5e6fca9a-3af9-49c0-ae34-a9ddd387b5ac","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"message","value":"message","type":"string","fileType":""},{"id":"216573d2-25e5-443c-b661-a809caf19c85","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","label":"image_url","value":"data.image_url","type":"string","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":695,"id":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","position":{"x":3177.6223690241745,"y":-116.48590480623449},"positionAbsolute":{"x":3177.6223690241745,"y":-116.48590480623449},"selected":true,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6cd29d14-f06f-4cb3-95eb-42c4c693a3bf","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","nodeId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一位精通文学和绘画艺术的专家，你需要根据用户提供的诗词、散文等文字，描述一张与诗词意境相符的图片，帮助用户更好地理解和感受文学之美。\\n输出不超过100字。\\n接下来我的输入是：{{input}}\\n\\n","modelId":110,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","multiMode":false,"uid":"0","patchId":"0","isThink":false,"templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":806,"id":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","position":{"x":806.623210313244,"y":75.4661443843313},"positionAbsolute":{"x":806.623210313244,"y":75.4661443843313},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"86230e7f-30fe-45dd-a513-b3bc52ff1202","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","nodeId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"fa47e49b-2a27-4cde-a8d3-eec180642e13","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"水墨画风格，极简风，整体构图采用传统国画的疏密布局，大量留白让画面充满呼吸感。符合现实逻辑，有景深、有透视、空间布局","contentErrMsg":"","type":"literal"}}}],"label":"文本处理节点_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"{{input1}}{{input}}}"},"outputs":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":603,"id":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","position":{"x":1550.710927006619,"y":-25.314853167693528},"positionAbsolute":{"x":1550.710927006619,"y":-25.314853167693528},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"用户输入 （示例：落霞与孤鹜齐飞，秋水共长天一色）","disabled":false,"fileType":"","id":"bb155377-2754-4471-8c84-fcd2a7380954","name":"description","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","nodeId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"文生图 - 可灵版_1","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"11143393282","code":"","toolDescription":"根据输入的描述，生成对应图片","pluginId":"tool@73690d6a0021000","appId":"12a0a7e2","operationId":"文生图 - 可灵版-X3Q0UT3s","businessInput":[]},"outputs":[{"id":"c567e6ce-6837-44bc-a82a-c2e1bc868331","name":"sid","schema":{"type":"string"}},{"id":"e9764785-4223-4255-9baf-7faad71323c4","name":"code","schema":{"type":"integer"}},{"id":"5e6fca9a-3af9-49c0-ae34-a9ddd387b5ac","name":"message","schema":{"type":"string"}},{"id":"216573d2-25e5-443c-b661-a809caf19c85","name":"data","schema":{"properties":[{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","name":"image_url","type":"string"}],"type":"object"}}],"references":[{"label":"文本处理节点_1","value":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","children":[{"label":"","value":"","references":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","originId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":387,"id":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","position":{"x":2518.873181364273,"y":-21.25156963698241},"positionAbsolute":{"x":2518.873181364273,"y":-21.25156963698241},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4-spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","target":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9-text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","target":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087-plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","target":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c-node-end::59c08ea4-d3c7-49f9-80c2-28cb72154daenode-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","target":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","targetHandle":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1745310568104.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["静夜思 床前明月光， 疑是地上霜。 举头望明月， 低头思故乡。","凉州词 黄河远上白云间，一片孤城万仞山。羌笛何须怨杨柳，春风不度玉门关。","相思 红豆生南国，春来发几枝？愿君多采撷，此物最相思。"],"prologueText":"输入您想配图的诗词散文内容，我将为您画出一幅符合意境的图片"},"needGuide":false,"textToSpeech":{"enabled":true,"vcn":"x4_lingxiaoqi_cts"},"backgroundPic":"https://bjcdn.openstorage.cn/xinghuo-privatedata/personality_2025-05-23_fdgmv5a7_cropped-image.jpeg?width=857&height=1152"}', '{"botId":2786663}', 13, NULL);

