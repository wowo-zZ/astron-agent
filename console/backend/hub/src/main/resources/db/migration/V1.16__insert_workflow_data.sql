INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(31094, 10374628632, '680ab54f', '7273250752174911488', '【模板勿动】大模型资讯小助手', '【模板勿动】大模型资讯小助手', 0, 0, '2024-12-13 16:21:50', '2025-07-01 14:20:58', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":""},"dragging":false,"height":232,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":451,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"计算结束时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"7b709739e8da44536127a333c7603a83","auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"计算开始时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"7b709739e8da44536127a333c7603a83","auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"获取当前时间","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"输出格式美化","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":true,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}},"type":"number"},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}},"type":"number"}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集工具","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@6fefaedc6821000","appId":"680ab54f","operationId":"AI资讯收集-koAieDub","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}}},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}}}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","pluginId":"tool@6fefaedc6821000","appId":"680ab54f","operationId":"AI资讯收集-koAieDub","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729649279117.jpg?width=204&height=204', '', 1, 1, 0, 0, NULL, 0, 31536, 2, NULL, 1, NULL, '{"needGuide":false}', NULL, NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(111203, 18879796086, '680ab54f', '7273250752174911488', '【模板勿动】大模型资讯小助手', '【模板勿动】大模型资讯小助手', 0, 0, '2024-12-13 16:21:50', '2025-05-22 17:58:52', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":""},"dragging":false,"height":232,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":451,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"计算结束时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"7b709739e8da44536127a333c7603a83","auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"计算开始时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"7b709739e8da44536127a333c7603a83","auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"获取当前时间","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"输出格式美化","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":true,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}},"type":"number"},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}},"type":"number"}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集工具","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@6fefaedc6821000","appId":"680ab54f","operationId":"AI资讯收集-koAieDub","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}}},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}}}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","pluginId":"tool@6fefaedc6821000","appId":"680ab54f","operationId":"AI资讯收集-koAieDub","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729649279117.jpg?width=204&height=204', '', 1, 1, 0, 0, NULL, 0, 31536, 2, NULL, 1, NULL, '{"needGuide":false}', NULL, NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(66892, 10374628632, '680ab54f', '7303726466862505986', '车险保单的OCR提取助手', '一个专业的车险保单OCR提取小助手', 0, 0, '2025-03-07 18:41:26', '2025-10-15 11:19:37', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::df679514-fa75-4d00-b709-56f15890a83e-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::df679514-fa75-4d00-b709-56f15890a83e","target":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","target":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","target":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","target":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"deleteDisabled":true,"id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","name":"file","nameErrMsg":"","required":false,"schema":{"properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-start::df679514-fa75-4d00-b709-56f15890a83e","position":{"x":-127.44397488890195,"y":246.17737998812248},"positionAbsolute":{"x":-127.44397488890195,"y":246.17737998812248},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"7ca4eea7-17fe-4bee-996e-02452f71fa18","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","nodeId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},"contentErrMsg":"","type":"ref"}}},{"id":"4b1b076f-95b2-4905-bf1a-5068162d2f62","name":"error1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","nodeId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{error1}}\\n{{output1}}","streamOutput":true,"apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},{"children":[{"references":[{"originId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本拼接_1","parentNode":true,"value":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","position":{"x":4050.111715083755,"y":23.574095425815628},"positionAbsolute":{"x":4050.111715083755,"y":23.574095425815628},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要识别的ocr文件地址。当前支持图片和pdf","disabled":false,"id":"91f47602-1d6b-49ae-8ecf-0ef61caa3f13","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","nodeId":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},"contentErrMsg":"","type":"ref"}}},{"description":"针对文档数据，指定识别的页码开始范围，从0开始，-1表示不限制","disabled":false,"id":"1d97e1f8-3af4-4fa7-a1dc-ce14f7e9bb98","name":"ocr_document_page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"description":"针对文档数据，指定识别的页码结束范围，从0开始，-1表示不限制","disabled":false,"id":"481e2d2a-5254-4649-a142-34ada5b8065d","name":"ocr_document_page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"通用OCR大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"通用OCR大模型_1","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"通用OCR大模型","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@6dc893527421000","appId":"680ab54f","operationId":"通用OCR大模型-TIwV01Hv","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","name":"code","schema":{"type":"number"}},{"id":"dda69baf-afd4-4291-8b91-fb36e0395754","name":"data","schema":{"properties":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","name":"file_index","type":"number"},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","name":"content","properties":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","name":"name","type":"string"},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","name":"value","type":"string"},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","name":"source_data","type":"string"}],"type":"array-object"}],"type":"array-object"}},{"id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","name":"message","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":455,"id":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","position":{"x":915.0777520721487,"y":223.32699615946845},"positionAbsolute":{"x":915.0777520721487,"y":223.32699615946845},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"f9159718-43d5-48eb-88ed-40421bc2021f","name":"input","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"id":"c7952a97-615a-432e-8bc4-1ae679f724f3","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器_1","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","conditions":[{"leftVarIndex":"f9159718-43d5-48eb-88ed-40421bc2021f","rightVarIndex":"c7952a97-615a-432e-8bc4-1ae679f724f3","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":368,"id":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","position":{"x":1696.4562196893273,"y":186.70005901201745},"positionAbsolute":{"x":1696.4562196893273,"y":186.70005901201745},"selected":false,"type":"分支器","width":684},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"6414e882-de8d-476a-bc4f-18dc35cc6f74","name":"ocr_result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.content.value","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型_1","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个精准的数据提取员，能够仔细阅读用户提供的资料，准确提取指定 key 对应的 value 值。 只需输出用户要抽取的字段，多余字段请不要输出。确保按照输出示例以markdown 格式输出。\\n\\n# 提取参数流程\\nStep 1: 仔细阅读用户提供的数据，注意识别表格头部与数据行的对应关系\\nStep 2: 根据 key 名和描述，从提供的数据中提取相关参数。\\nStep 3: 将提取的参数构建为指定markdown格式。\\nStep 4: 确保 markdown 格式正确，请按照输出示例规整格式。\\n\\n# 输出结构\\nkey1:value1\\nkey2:value2\\n\\n\\n# 限制\\n1. 严格遵循给定的 markdown 格式，不添加额外内容，每个字段逐行输出。\\n2. value处理：\\n  2.1 若有多个值，用数组存储。\\n  2.2 若无相关值，设置为null，不进行推测和假设。\\n\\n# 用户需要抽取的文本字段（使用逗号分隔）：\\n保单名称，被保险人姓名，被保险人证件号码，车架号，机动车损失险，机动车第三者责任险，机动车损失保险金额，机动车第三者责任险保险限额，保费合计，保险起始日期，保单章，特别约定第一受益人\\n\\n#字段说明：\\n特别约定可能存在多条，需要全部逐条输出。\\n机动车损失险：取值为有或无，判断保单承保险种中是否购买了机动车责任险及其保险金额，如果有，则机动车损失险值为有，如果没有则值为无。\\n机动车责任险: 取值为有或无，取值判断保单单承保险种中是否购买了机动车责任险及其保险金额，如果有则取值为有，如果没有则取值为无。\\n特别约定第一受益人：取值为有或无，取值判断保单中是否有特别约定第一受益人，如果保障中有说明第一受益人，则取值为有，如果没有则取值为无。\\n\\n\\n# 用户提供的数据如下：\\n``````\\n{{ocr_result}}\\n\\n``````\\n\\n开始","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"7b709739e8da44536127a333c7603a83","auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":1007,"id":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","position":{"x":2793.1452155734514,"y":-201.0538092906114},"positionAbsolute":{"x":2793.1452155734514,"y":-201.0538092906114},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"2739f936-c48f-4852-88f9-d4597226ab7f","name":"code","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"id":"20149b0a-24fb-4c63-a470-0a87c7c32948","name":"message","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"message","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接_1","nodeType":"工具"},"nodeParam":{"uid":"0","apiKey":"7b709739e8da44536127a333c7603a83","separatorErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","prompt":"{\\n  \\"code\\": {{code}},\\n  \\"message\\": \\"{{message}}\\"\\n}"},"outputs":[{"id":"d480ae6e-a743-46ab-a84e-fc19558b5163","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":603,"id":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","position":{"x":2811.520801757818,"y":846.1000785013766},"positionAbsolute":{"x":2811.520801757818,"y":846.1000785013766},"selected":false,"type":"文本拼接","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","name":"file","nameErrMsg":"","required":false,"schema":{"properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":297,"id":"node-start::df679514-fa75-4d00-b709-56f15890a83e","position":{"x":-127.44397488890195,"y":246.17737998812248},"positionAbsolute":{"x":-127.44397488890195,"y":246.17737998812248},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"7ca4eea7-17fe-4bee-996e-02452f71fa18","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","nodeId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"4b1b076f-95b2-4905-bf1a-5068162d2f62","name":"error1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","nodeId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{error1}}\\n{{output1}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"保单字段抽取","parentNode":true,"value":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},{"children":[{"references":[{"originId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本拼接_1","parentNode":true,"value":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","position":{"x":4050.111715083755,"y":23.574095425815628},"positionAbsolute":{"x":4050.111715083755,"y":23.574095425815628},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要识别的ocr文件地址。当前支持图片和pdf","disabled":false,"id":"ff9dcad7-b76c-4f2f-b75c-580b6ee10730","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","nodeId":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},"contentErrMsg":"","type":"ref"}}},{"description":"针对文档数据，指定识别的页码开始范围，从0开始，-1表示不限制","disabled":false,"id":"12442b88-46b3-4036-9b2c-9870d5a544c5","name":"page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"description":"针对文档数据，指定识别的页码结束范围，从0开始，-1表示不限制","disabled":false,"id":"3fc10e96-5d8d-4365-8575-ba1730370f8e","name":"page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"通用OCR大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"通用OCR大模型","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"通用OCR大模型","pluginId":"tool@6dc893527421000","appId":"680ab54f","operationId":"通用OCR大模型-9ek2zzw4","version":"V2.0","businessInput":[]},"outputs":[{"id":"5ea01172-742d-4718-a611-87ecad605e89","name":"code","schema":{"type":"number"}},{"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","name":"data","schema":{"properties":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","name":"file_index","type":"number"},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","name":"content","properties":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","name":"name","type":"string"},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","name":"value","type":"string"},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","name":"source_data","type":"string"}],"type":"array-object"}],"type":"array-object"}},{"id":"803cf099-60fc-464b-96fb-a256d2ba617e","name":"message","schema":{"type":"string"}}],"pluginName":"通用OCR大模型","references":[{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":515,"id":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","position":{"x":915.0777520721487,"y":223.32699615946845},"positionAbsolute":{"x":915.0777520721487,"y":223.32699615946845},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"f9159718-43d5-48eb-88ed-40421bc2021f","name":"input","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"5ea01172-742d-4718-a611-87ecad605e89","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"id":"c7952a97-615a-432e-8bc4-1ae679f724f3","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","conditions":[{"leftVarIndex":"f9159718-43d5-48eb-88ed-40421bc2021f","rightVarIndex":"c7952a97-615a-432e-8bc4-1ae679f724f3","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":368,"id":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","position":{"x":1696.4562196893273,"y":186.70005901201745},"positionAbsolute":{"x":1696.4562196893273,"y":186.70005901201745},"selected":false,"type":"分支器","width":684},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6414e882-de8d-476a-bc4f-18dc35cc6f74","name":"ocr_result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.content.value","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"保单字段抽取","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个精准的数据提取员，能够仔细阅读用户提供的资料，准确提取指定 key 对应的 value 值。 只需输出用户要抽取的字段，多余字段请不要输出。确保按照输出示例以markdown 格式输出。\\n\\n# 提取参数流程\\nStep 1: 仔细阅读用户提供的数据，注意识别表格头部与数据行的对应关系\\nStep 2: 根据 key 名和描述，从提供的数据中提取相关参数。\\nStep 3: 将提取的参数构建为指定markdown格式。\\nStep 4: 确保 markdown 格式正确，请按照输出示例规整格式。\\n\\n# 输出结构\\nkey1:value1\\nkey2:value2\\n\\n\\n# 限制\\n1. 严格遵循给定的 markdown 格式，不添加额外内容，每个字段逐行输出。\\n2. value处理：\\n  2.1 若有多个值，用数组存储。\\n  2.2 若无相关值，设置为null，不进行推测和假设。\\n\\n# 用户需要抽取的文本字段（使用逗号分隔）：\\n保单名称，被保险人姓名，被保险人证件号码，车架号，机动车损失险，机动车第三者责任险，机动车损失保险金额，机动车第三者责任险保险限额，保费合计，保险起始日期，保单章，特别约定第一受益人\\n\\n#字段说明：\\n特别约定可能存在多条，需要全部逐条输出。\\n机动车损失险：取值为有或无，判断保单承保险种中是否购买了机动车责任险及其保险金额，如果有，则机动车损失险值为有，如果没有则值为无。\\n机动车责任险: 取值为有或无，取值判断保单单承保险种中是否购买了机动车责任险及其保险金额，如果有则取值为有，如果没有则取值为无。\\n特别约定第一受益人：取值为有或无，取值判断保单中是否有特别约定第一受益人，如果保障中有说明第一受益人，则取值为有，如果没有则取值为无。\\n\\n\\n# 用户提供的数据如下：\\n``````\\n{{ocr_result}}\\n\\n``````\\n\\n开始","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":1234,"id":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","position":{"x":2793.1452155734514,"y":-201.0538092906114},"positionAbsolute":{"x":2793.1452155734514,"y":-201.0538092906114},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"2739f936-c48f-4852-88f9-d4597226ab7f","name":"code","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"5ea01172-742d-4718-a611-87ecad605e89","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"20149b0a-24fb-4c63-a470-0a87c7c32948","name":"message","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"message","id":"803cf099-60fc-464b-96fb-a256d2ba617e","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"{\\n  \\"code\\": {{code}},\\n  \\"message\\": \\"{{message}}\\"\\n}"},"outputs":[{"id":"d480ae6e-a743-46ab-a84e-fc19558b5163","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":603,"id":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","position":{"x":2781.20647042761,"y":1092.404020559316},"positionAbsolute":{"x":2781.20647042761,"y":1092.404020559316},"selected":false,"type":"文本拼接","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::df679514-fa75-4d00-b709-56f15890a83e-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::df679514-fa75-4d00-b709-56f15890a83e","target":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","target":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","target":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","target":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1741344082690.jpg?width=204&height=204', '#FFEAD5', 1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["","",""],"prologueText":"一个专业的车险保单OCR提取小助手"},"needGuide":false}', NULL, NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(67530, 10374628632, '680ab54f', '7304676066420002818', '图像分类测试', '123', 0, 0, '2025-03-10 09:34:48', '2025-06-30 16:11:00', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","name":"file","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","position":{"x":-600.9492441646842,"y":441.77404722672475},"positionAbsolute":{"x":-600.9492441646842,"y":441.77404722672475},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"29cd5a9e-d362-49ee-804b-4e91487d9525","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"4a06ab61-ca55-4ab8-90d1-81cb783cddc1","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"10acad74-65c7-4dbe-9012-b25fb30dec92","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"9bad700f-afeb-4951-a764-56354bae1ee4","name":"output4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"efde6427-544e-43bf-b38f-954eb1731f42","name":"output5","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"e6cf5f3d-b7fa-45cd-9f3c-cd469bd1913e","name":"output6","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"dff9260e-028d-42ac-ac6e-d66e71c40786","name":"output7","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"42fc6bd5-b059-4714-9366-11ddaebc77e1","name":"output8","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"3fefbbe1-820c-49e4-8cc1-22c035f6d4ca","name":"output9","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output1}}{{output2}}{{output3}}{{output4}}{{output5}}{{output6}}{{output7}}{{output8}}{{output9}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"文本拼接_1","value":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_6","value":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_7","value":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_8","value":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_9","value":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_2","value":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_3","value":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_4","value":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_5","value":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1001,"id":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","position":{"x":3772.4382536967664,"y":293.0984703699059},"positionAbsolute":{"x":3772.4382536967664,"y":293.0984703699059},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要识别的ocr文件地址。当前支持图片和pdf","disabled":false,"id":"3eee7551-de15-4a4b-949b-5fba8e0c0000","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"file"},"contentErrMsg":"","type":"ref"}}},{"description":"针对文档数据，指定识别的页码开始范围，从0开始，-1表示不限制","disabled":false,"id":"e95f884f-b08e-4d46-be03-eaa5e182ab3a","name":"ocr_document_page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"description":"针对文档数据，指定识别的页码结束范围，从0开始，-1表示不限制","disabled":false,"id":"0297f00d-2c5e-4857-b929-b81434e5e255","name":"ocr_document_page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"通用OCR大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"通用OCR大模型","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"通用OCR大模型","pluginId":"tool@6dc893527421000","appId":"680ab54f","operationId":"通用OCR大模型-TIwV01Hv","businessInput":[]},"outputs":[{"id":"c0873978-1663-4b83-9152-491341968a27","name":"code","schema":{"type":"number"}},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","name":"data","schema":{"properties":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","name":"file_index","type":"number"},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","name":"content","properties":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","name":"name","type":"string"},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","name":"value","type":"string"},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","name":"source_data","type":"string"}],"type":"array-object"}],"type":"array-object"}},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","name":"message","schema":{"type":"string"}}],"references":[{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":455,"id":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","position":{"x":212.2509576783483,"y":333.50325670427077},"positionAbsolute":{"x":212.2509576783483,"y":333.50325670427077},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合输入的参数与填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"id":"de12caf8-d59b-458a-b457-98662ee62792","name":"Query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","name":"data.content.value"},"contentErrMsg":"","type":"ref"}}}],"label":"负向分类筛选","labelEdit":false,"nodeMeta":{"aliasName":"决策","nodeType":"基础节点"},"nodeParam":{"topK":4,"enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"reasonMode":1,"auditing":"default","promptPrefix":"","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","intentChains":[{"intentType":2,"name":"其他","description":"文本内容中包含浙江省社会保险参保证明文本时归类为此类。","id":"intent-one-of::af07a50a-e091-4d37-8658-135e4007ba50","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::bc2758bf-9aa8-4b42-8707-c6d710a48c7c","name":"其他意图","description":"输入的内容中包含行驶证、二手车交易凭证、车辆抵押合同、收获回租合同、机动车购车发票","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::8f532c85-91f0-4a49-b445-c07b356211eb","nameErrMsg":"","descriptionErrMsg":""}],"domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":true,"serviceId":"bm4"},"outputs":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":975,"id":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","position":{"x":898.6920579934347,"y":151.86964874940065},"positionAbsolute":{"x":898.6920579934347,"y":151.86964874940065},"selected":false,"type":"决策","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合输入的参数与填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"id":"25bf3ad3-6cc6-43bb-953c-14b85e291faa","name":"Query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","name":"data.content.value"},"contentErrMsg":"","type":"ref"}}}],"label":"决策_1","labelEdit":false,"nodeMeta":{"aliasName":"决策","nodeType":"基础节点"},"nodeParam":{"topK":4,"enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"reasonMode":1,"auditing":"default","promptPrefix":"","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","intentChains":[{"intentType":2,"name":"发票","description":"输入的信息中包含：销售统一发票、发票代码、发票号码、开票日期、税控码、纳税人识别号、二手车市场等信息时，认为输入的是发票。","id":"intent-one-of::51e6f29b-4adb-43f9-a6d3-a556ca3d1698","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::f1bc4145-e45c-474b-b730-1b8139b95c03","name":"行驶证","description":"输入的信息中包含：机动车行驶证、车辆类型、使用性质、发动机号码、车辆识别码、档案编号、核定人数等信息时，认为是行驶证。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::cf13a7a0-fe53-4325-b72f-fb211dd52263","name":"二手车交易凭证","description":"输入的信息中包含：交易凭证、购买方、出让方、经销商、营业执照号码等全部或部分信息是，认为是交易凭证。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::7037c033-e4d3-465d-9a83-9b1ebbf09f4a","name":"车辆抵押贷款合同","description":"输入的信息中包含车辆抵押贷款合同、贷款本金金额、贷款期限、贷款利率等信息时，则认为是车辆抵押贷款合同。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::69afd81a-ec31-47b4-ba2a-eaf7a29e4593","name":"售后回租合同","description":"输入的信息中包含售后回租合同、售后回租、售后回租融资租赁交易等信息时，人为该信息分类为售后回租合同","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::b49eceda-972b-4770-9c66-8534d060a456","name":"机动车购车发票","description":"输入的信息为机动车销售，包含包含销售单位名称、进口证明书号、合格证号信息等为机动车购车发票","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::bcd29056-31c5-45d8-ae23-973229ecf548","name":"银行卡","description":"输入信息中包含银联、银行卡号、闪付等信息，人为是银行卡。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::dc9a3802-20d8-43d3-895f-64358ba305e1","name":"其他","description":"文本内容中包含：浙江省社会保险参保证明时，归类为其他。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::f47c8f74-6730-458d-9337-4c29efdf5116","name":"证件","description":"输入信息里必须同时存在存在中华人民共和国、签证机关、住址、性别、名族等部分信息时，认为为输入的信息为身份证信息","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::431f9a41-444e-4425-a4e8-7e75c50105a8","nameErrMsg":"","descriptionErrMsg":""}],"domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":true,"serviceId":"bm4"},"outputs":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":2223,"id":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","position":{"x":1705.66259074336,"y":-17.237051329980545},"positionAbsolute":{"x":1705.66259074336,"y":-17.237051329980545},"selected":false,"type":"决策","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"7bc40567-6c5a-4dc6-8b08-e76fac720eed","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件不属于已有分类，请人工确认"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","position":{"x":2804.0229349117562,"y":2881.666767365951},"positionAbsolute":{"x":2804.0229349117562,"y":2881.666767365951},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"8b7f5d2b-6202-4c7c-be96-2099d77a0369","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_2","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是车辆抵押贷款合同"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","position":{"x":2790.9632175188344,"y":831.835807924209},"positionAbsolute":{"x":2790.9632175188344,"y":831.835807924209},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"16773921-086d-4d35-871b-64c4fb032326","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_3","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是售后回租合同"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","position":{"x":2794.609639698949,"y":1345.791087544359},"positionAbsolute":{"x":2794.609639698949,"y":1345.791087544359},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"b829e9d3-a259-4ecf-9fee-945d3640d5ab","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_4","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是机动车购车发票"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","position":{"x":2814.545742054765,"y":1878.3230076099849},"positionAbsolute":{"x":2814.545742054765,"y":1878.3230076099849},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"731b6765-6792-435f-a3d1-f80a96493c32","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_6","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是身份证。"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","position":{"x":2792.4221476481853,"y":-1249.1995005606027},"positionAbsolute":{"x":2792.4221476481853,"y":-1249.1995005606027},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"15ea41c8-5751-44f0-bde1-97f3f6215eb9","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_7","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是二手车销售统一发票"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","position":{"x":2796.7971317497136,"y":-715.5939175685445},"positionAbsolute":{"x":2796.7971317497136,"y":-715.5939175685445},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"0109202a-a943-49a2-b8fd-149b12718b52","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_8","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是行驶证"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","position":{"x":2793.366137591092,"y":-206.64286893369604},"positionAbsolute":{"x":2793.366137591092,"y":-206.64286893369604},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"df2f2eb4-6094-4457-9163-dbf27d152885","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_9","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是二手车交易凭证"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","position":{"x":2788.4225782928297,"y":324.0367889564536},"positionAbsolute":{"x":2788.4225782928297,"y":324.0367889564536},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"1bf57967-fb6e-4786-9060-f75d8adf96e5","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_5","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"该文件是银行卡"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","position":{"x":2808.0463634810662,"y":2384.452137070821},"positionAbsolute":{"x":2808.0463634810662,"y":2384.452137070821},"selected":false,"type":"文本拼接","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","target":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::431f9a41-444e-4425-a4e8-7e75c50105a8-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::431f9a41-444e-4425-a4e8-7e75c50105a8","target":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80intent-one-of::af07a50a-e091-4d37-8658-135e4007ba50-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","sourceHandle":"intent-one-of::af07a50a-e091-4d37-8658-135e4007ba50","target":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80intent-one-of::bc2758bf-9aa8-4b42-8707-c6d710a48c7c-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","sourceHandle":"intent-one-of::bc2758bf-9aa8-4b42-8707-c6d710a48c7c","target":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80intent-one-of::8f532c85-91f0-4a49-b445-c07b356211eb-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","sourceHandle":"intent-one-of::8f532c85-91f0-4a49-b445-c07b356211eb","target":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::51e6f29b-4adb-43f9-a6d3-a556ca3d1698-text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::51e6f29b-4adb-43f9-a6d3-a556ca3d1698","target":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::f1bc4145-e45c-474b-b730-1b8139b95c03-text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::f1bc4145-e45c-474b-b730-1b8139b95c03","target":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::cf13a7a0-fe53-4325-b72f-fb211dd52263-text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::cf13a7a0-fe53-4325-b72f-fb211dd52263","target":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::7037c033-e4d3-465d-9a83-9b1ebbf09f4a-text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::7037c033-e4d3-465d-9a83-9b1ebbf09f4a","target":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::69afd81a-ec31-47b4-ba2a-eaf7a29e4593-text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::69afd81a-ec31-47b4-ba2a-eaf7a29e4593","target":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::b49eceda-972b-4770-9c66-8534d060a456-text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::b49eceda-972b-4770-9c66-8534d060a456","target":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::bcd29056-31c5-45d8-ae23-973229ecf548-text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::bcd29056-31c5-45d8-ae23-973229ecf548","target":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::dc9a3802-20d8-43d3-895f-64358ba305e1-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::dc9a3802-20d8-43d3-895f-64358ba305e1","target":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::f47c8f74-6730-458d-9337-4c29efdf5116-text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::f47c8f74-6730-458d-9337-4c29efdf5116","target":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11-plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","target":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1741570486611.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["123","234","344"],"prologueText":""},"needGuide":false}', NULL, NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(71494, 14954733327, '680ab54f', '7308057435709698048', '随机抽题', '随机抽题模板，集成后修改题库，即可实现出题功能。
注意：请严格按照题库示例中的格式修改题库', 0, 0, '2025-03-19 17:31:09', '2025-03-14 05:30:00', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578-text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","target":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed-ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","target":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a-ifly-code::ea199055-7a86-4735-882e-86c22794d701","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","target":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ea199055-7a86-4735-882e-86c22794d701-node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91bnode-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","target":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","targetHandle":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::df133263-7e60-436e-bd12-c044941952ad-node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91bnode-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","target":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","targetHandle":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6-if-else::73b6247d-da70-4900-be83-119c40317b46","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","target":"if-else::73b6247d-da70-4900-be83-119c40317b46","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::73b6247d-da70-4900-be83-119c40317b46branch_one_of::7e3c5dff-6836-437b-95ed-b695a531d8b0-text-joiner::df133263-7e60-436e-bd12-c044941952ad","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::73b6247d-da70-4900-be83-119c40317b46","sourceHandle":"branch_one_of::7e3c5dff-6836-437b-95ed-b695a531d8b0","target":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::73b6247d-da70-4900-be83-119c40317b46branch_one_of::15f8e4fb-1d66-4fee-8e0d-5dbcd067653b-ifly-code::dc58ea48-1990-4766-848d-5bd149249191","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::73b6247d-da70-4900-be83-119c40317b46","sourceHandle":"branch_one_of::15f8e4fb-1d66-4fee-8e0d-5dbcd067653b","target":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::dc58ea48-1990-4766-848d-5bd149249191-node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91bnode-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","target":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","targetHandle":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8-spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","target":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","target":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9branch_one_of::2db3e298-2822-4736-bfec-fd8942b0e715-spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","sourceHandle":"branch_one_of::2db3e298-2822-4736-bfec-fd8942b0e715","target":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9branch_one_of::93ccf247-ef92-4bed-9d04-5fe6a0137bcd-ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","sourceHandle":"branch_one_of::93ccf247-ef92-4bed-9d04-5fe6a0137bcd","target":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9branch_one_of::ac47bc0f-618c-49d8-828d-2a94ebcbbd33-text-joiner::df133263-7e60-436e-bd12-c044941952ad","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","sourceHandle":"branch_one_of::ac47bc0f-618c-49d8-828d-2a94ebcbbd33","target":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","position":{"x":-2580.4297028566,"y":451.87196325433246},"positionAbsolute":{"x":-2580.4297028566,"y":451.87196325433246},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"77db9aae-4f34-46f5-80a0-ad5bf2c7f78f","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"1b908d7c-9330-4f6a-8121-52df11293c78","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"73b40b1f-7262-4463-a5e9-71b3931fab48","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9fc73d90-79ef-401f-a28b-38eb7949e264","nodeId":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output1}}{{output2}}{{output3}}\\n","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"抽题","value":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"规范用户输入","value":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","children":[{"label":"","value":"","references":[{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","originId":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"兜底回复","value":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","children":[{"label":"","value":"","references":[{"id":"9fc73d90-79ef-401f-a28b-38eb7949e264","originId":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"抽题_1","value":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":753,"id":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","position":{"x":4909.246865383252,"y":428.1086886560544},"positionAbsolute":{"x":4909.246865383252,"y":428.1086886560544},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"6edca785-c912-4221-9ffd-44ca57924cad","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"题库","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","appId":"680ab54f","prompt":"{\\n\\"历史\\": [\\n{\\n\\"question\\": \\"鸦片战争后，中国被迫签订的第一个不平等条约是？\\\\nA. 南京条约\\\\nB. 北京条约\\\\nC. 马关条约\\\\nD. 辛丑条约\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"1842年《南京条约》是近代中国第一个不平等条约，标志中国开始沦为半殖民地半封建社会‌\\"\\n},\\n{\\n\\"question\\": \\"战国时期秦国实现富国强兵的根本措施是？\\\\nA. 奖励军功\\\\nB. 商鞅变法\\\\nC. 修建都江堰\\\\nD. 统一度量衡\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"商鞅变法通过废井田、重农桑、奖军功等改革，奠定秦国统一基础‌\\"\\n},\\n{\\n\\"question\\": \\"新文化运动的核心思想是？\\\\nA. 师夷长技\\\\nB. 民主与科学\\\\nC. 三民主义\\\\nD. 变法图强\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"陈独秀等人提出\\\\\\"德先生\\\\\\"（民主）与\\\\\\"赛先生\\\\\\"（科学）口号，推动思想解放‌\\"\\n},\\n{\\n\\"question\\": \\"郑和七下西洋最远到达的地区是？\\\\nA. 印度洋沿岸\\\\nB. 波斯湾\\\\nC. 红海沿岸和非洲\\\\nD. 东南亚\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"郑和船队曾抵达阿拉伯半岛和非洲东海岸，创世界航海史壮举‌\\"\\n},\\n{\\n\\"question\\": \\"奠定三国鼎立局面的著名战役是？\\\\nA. 官渡之战\\\\nB. 赤壁之战\\\\nC. 淝水之战\\\\nD. 巨鹿之战\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"208年孙刘联军火攻破曹的赤壁之战，阻止曹操统一，形成三国格局‌\\"\\n}\\n],\\n\\"数学\\": [\\n{\\n\\"question\\": \\"若一次函数y=kx+b经过点(2,5)和(4,11)，则k的值为？\\\\nA. 2\\\\nB. 3\\\\nC. 4\\\\nD. 5\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"利用斜率公式计算：k=(11-5)/(4-2)=6/2=3‌\\"\\n},\\n{\\n\\"question\\": \\"直角三角形两直角边分别为3cm和4cm，则斜边长为？\\\\nA. 5cm\\\\nB. 6cm\\\\nC. 7cm\\\\nD. 8cm\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"根据勾股定理：√(3²+4²)=5cm‌\\"\\n},\\n{\\n\\"question\\": \\"抛一枚均匀硬币两次，恰好一次正面朝上的概率是？\\\\nA. 1/4\\\\nB. 1/2\\\\nC. 3/4\\\\nD. 1/3\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"所有可能结果：{正正,正反,反正,反反}，符合条件的有2种，概率为2/4=1/2‌\\"\\n},\\n{\\n\\"question\\": \\"等腰三角形底角为50°，则顶角度数是？\\\\nA. 60°\\\\nB. 70°\\\\nC. 80°\\\\nD. 90°\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"三角形内角和180°，顶角=180-2×50=80°‌\\"\\n},\\n{\\n\\"question\\": \\"若x²-5x+6=0，则方程的解集是？\\\\nA. {2,3}\\\\nB. {-2,3}\\\\nC. {2,-3}\\\\nD. {1,6}\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"因式分解得(x-2)(x-3)=0，解得x=2或3‌\\"\\n},\\n{\\n\\"question\\": \\"圆的半径为3cm，其面积是？（π取3.14）\\\\nA. 9.42cm²\\\\nB. 18.84cm²\\\\nC. 28.26cm²\\\\nD. 37.68cm²\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"面积公式S=πr²=3.14×3²=28.26cm²‌\\"\\n},\\n{\\n\\"question\\": \\"某班40名学生，60%喜欢篮球，30%同时喜欢篮球和足球，则只喜欢篮球的人数是？\\\\nA. 12\\\\nB. 16\\\\nC. 20\\\\nD. 24\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"总喜欢篮球人数40×60%=24人，只喜欢篮球人数=24-40×30%=24-12=12‌\\"\\n},\\n{\\n\\"question\\": \\"下列哪组数能构成三角形的三边？\\\\nA. 3,4,5\\\\nB. 2,2,5\\\\nC. 1,1,3\\\\nD. 4,5,10\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"三角形两边之和大于第三边，仅选项A满足3+4>5，且4+5>3，3+5>4‌\\"\\n},\\n{\\n\\"question\\": \\"若a:b=3:4，且b=12，则a的值为？\\\\nA. 9\\\\nB. 12\\\\nC. 15\\\\nD. 16\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"根据比例关系：3/4=a/12 → a=(3×12)/4=9‌\\"\\n},\\n{\\n\\"question\\": \\"正方体的棱长扩大为原来的2倍，体积变为原来的多少倍？\\\\nA. 2倍\\\\nB. 4倍\\\\nC. 6倍\\\\nD. 8倍\\",\\n\\"answer\\": \\"D\\",\\n\\"analysis\\": \\"体积与棱长立方成正比，2³=8倍‌\\"\\n}\\n],\\n\\"英语\\": [\\n{\\n\\"question\\": \\"— Have you ever ______ to Paris? \\\\n— No, but I plan to visit it next year.\\\\nA. been\\\\nB. gone\\\\nC. went\\\\nD. being\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"现在完成时结构为have/has + 过去分词，且表示经历用been代替gone‌\\"\\n},\\n{\\n\\"question\\": \\"She is interested ______ learning Spanish.\\\\nA. at\\\\nB. in\\\\nC. on\\\\nD. with\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"固定搭配be interested in doing sth，表示\\\\\\"对...感兴趣\\\\\\"\\"\\n},\\n{\\n\\"question\\": \\"______ useful book you lent me yesterday!\\\\nA. What a\\\\nB. What an\\\\nC. How a\\\\nD. How\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"感叹句结构：What + (a/an) + adj + n，useful以辅音音素开头用a‌\\"\\n},\\n{\\n\\"question\\": \\"The Yangtze River is ______ river in Asia.\\\\nA. long\\\\nB. longer\\\\nC. longest\\\\nD. the longest\\",\\n\\"answer\\": \\"D\\",\\n\\"analysis\\": \\"三者及以上比较用最高级，形容词最高级前需加定冠词the‌\\"\\n},\\n{\\n\\"question\\": \\"You ______ cross the road when the red light is on.\\\\nA. must\\\\nB. mustn''t\\\\nC. needn''t\\\\nD. may\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"mustn''t表示禁止，符合交通规则语境‌\\"\\n},\\n{\\n\\"question\\": \\"While I ______ TV, the phone rang.\\\\nA. watched\\\\nB. was watching\\\\nC. am watching\\\\nD. watch\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"过去进行时表示过去某个时刻正在进行的动作，结构为was/were + doing‌\\"\\n},\\n{\\n\\"question\\": \\"There is ______ with my computer. It won''t turn on.\\\\nA. wrong something\\\\nB. something wrong\\\\nC. anything wrong\\\\nD. wrong anything\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"复合不定代词+形容词作后置定语，肯定句用something‌\\"\\n},\\n{\\n\\"question\\": \\"The new bridge ______ last month.\\\\nA. completes\\\\nB. completed\\\\nC. was completed\\\\nD. has completed\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"被动语态结构：be + 过去分词，时间状语last month表明过去时‌\\"\\n},\\n{\\n\\"question\\": \\"Could you tell me ______?\\\\nA. where is the library\\\\nB. where the library is\\\\nC. the library is where\\\\nD. where the library\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"宾语从句需用陈述语序，排除疑问句式选项A‌\\"\\n},\\n{\\n\\"question\\": \\"It''s important ______ breakfast every day.\\\\nA. have\\\\nB. has\\\\nC. to have\\\\nD. having\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"It''s + adj + to do sth固定句型，不定式作真正主语‌\\"\\n}\\n]\\n}"},"outputs":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":917,"id":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","position":{"x":-1765.9979933548516,"y":122.54595260415414},"positionAbsolute":{"x":-1765.9979933548516,"y":122.54595260415414},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"1b92fdfb-5838-4eb5-a51d-a9422475c1ea","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","nodeId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"获取题目类型","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\ndef main(input):\\n    # 解析JSON数据\\n    data = json.loads(input)\\n\\n    # 提取分类键（直接获取字典的key）\\n    classifications = list(data.keys())\\n\\n    str_output = '', ''.join(classifications)\\n    ret = {\\n        \\"classifications\\": str_output\\n    }\\n    return ret","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","name":"classifications","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":785,"id":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","position":{"x":-979.452049073556,"y":200.5951615268647},"positionAbsolute":{"x":-979.452049073556,"y":200.5951615268647},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"a7313c87-c2db-4328-8d1c-a1f4a805d627","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"067a76a4-3810-4ae3-8b73-04a7ffec66df","name":"classifications","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"规范用户输入","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个语义大师，请你理解用户输入的语义，提炼出题目类型和题目数量，然后按照以下格式返回。\\n返回格式:\\n[\\n{\\n\\"题目类型\\": \\"天文\\",\\n\\"题目数量\\": 3\\n},\\n{\\n\\"题目类型\\": \\"地理\\",\\n\\"题目数量\\": 5\\n}\\n]\\n题目类型:严格规定为{{classifications}}中所列举的值，如果是其他值，则不需要返回。\\n题目数量:一般为数字，数量。\\n如果用户输入中涉及每一类或者每一种，每种等意图，则根据{{classifications}}中所列举的值，返回对应的结果。\\n用户的输入:{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":2},"outputs":[{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":938,"id":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","position":{"x":1522.9149314402034,"y":-782.138314110632},"positionAbsolute":{"x":1522.9149314402034,"y":-782.138314110632},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"bdbc29c5-ed13-4edd-85d0-bed74b4ab20b","name":"question","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","nodeId":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"d3a07200-01d1-461b-8557-9ea3da863808","name":"group","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","nodeId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"抽题","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\nimport random\\ndef main(question,group):\\n    user_input = json.loads(question)\\n    question_bank = json.loads(group)\\n\\n    result = []\\n\\n    for req in user_input:\\n        subject = req[\\"题目类型\\"]\\n        req_num = req[\\"题目数量\\"]\\n\\n        # 跳过不存在的科目类型\\n        if subject not in question_bank:\\n            continue\\n\\n        # 获取题库列表并计算实际抽题数量\\n        pool = question_bank[subject]\\n        actual_num = min(req_num, len(pool))\\n\\n        # 执行随机抽样\\n        selected_questions = random.sample(pool, actual_num)\\n\\n        # 构建返回结构\\n        result.append({\\n            \\"题目类型\\": subject,\\n            \\"题目列表\\": selected_questions\\n        })\\n\\n\\n    \\n    result_str = json.dumps(result, ensure_ascii=False, indent=2)\\n    if result_str == \\"[]\\":\\n        result_str = \\"题库中没有此类型题目。\\"\\n    else :\\n        output = []\\n        question_count = 1\\n\\n        for category in result:\\n            q_type = category[\\"题目类型\\"]\\n            for question in category[\\"题目列表\\"]:\\n                # 组装题目信息\\n                block = [\\n                    f\\"{question_count}.题目类型：{q_type}\\", \\n                    f\\"问题：{question[''question'']}\\",\\n                    f\\"答案：{question[''answer'']}\\",\\n                    f\\"分析：{question[''analysis'']}\\",\\n                    \\"\\"  # 用于添加空行分隔\\n                ]\\n                output.append(\\"\\\\n\\".join(block))\\n                question_count += 1\\n        # 移除最后一个多余的空行\\n        result_str = \\"\\\\n\\".join(output).strip()\\n\\n\\n\\n\\n\\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"规范用户输入","value":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","children":[{"label":"","value":"","references":[{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","originId":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":833,"id":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","position":{"x":3747.850002622065,"y":-623.4674878401918},"positionAbsolute":{"x":3747.850002622065,"y":-623.4674878401918},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"6f1a33b0-9203-4375-a84a-02b229c6397a","name":"question","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"487fb7d1-ff8d-47ea-accf-145dc3b5a02f","name":"group","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"规整用户说法","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\nimport re\\ndef main(question,group):\\n    result_str = \\"\\"\\n    question_num = 0\\n    # 提取数字\\n    digits = ''''.join(re.findall(r''\\\\d'', question))\\n    if not digits:\\n        units = {''十'': 10, ''百'': 100, ''千'': 1000}\\n        digits = {''一'': 1, ''二'': 2, ''三'': 3, ''四'': 4, ''五'': 5, ''六'': 6, ''七'': 7, ''八'': 8, ''九'': 9}\\n\\n        total = 0\\n        current = 0\\n        for char in question:\\n            if char in digits:\\n                current = digits[char]\\n            elif char in units:\\n                total += current * units[char]\\n                current = 0\\n        question_num =  total + current\\n\\n    else:\\n        question_num = int(digits)\\n    if question_num:\\n        # 解析分类\\n        try:\\n            categories = [c.strip() for c in group.split('', '')]\\n            # 生成结构\\n            query = [\\n                {\\"题目类型\\": category, \\"题目数量\\": question_num}\\n                for category in categories\\n            ]\\n            result_str = json.dumps(query, indent=2, ensure_ascii=False)\\n        except (json.JSONDecodeError, KeyError):\\n            result_str = \\"\\"\\n \\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":793,"id":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","position":{"x":1556.9010789560718,"y":250.0767081808482},"positionAbsolute":{"x":1556.9010789560718,"y":250.0767081808482},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"7f48df1d-c30f-4db6-a217-96e26a35fa8f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"兜底回复","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","appId":"680ab54f","prompt":"您没有明确指明题目类型，请告诉我需要抽取的题目类型以及题目数量，例如“帮我出3道语文题”。当前题库中所有的题目类型为:{{input}}"},"outputs":[{"id":"9fc73d90-79ef-401f-a28b-38eb7949e264","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":517,"id":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","position":{"x":3781.573866085315,"y":1155.0078108428697},"positionAbsolute":{"x":3781.573866085315,"y":1155.0078108428697},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"baa48333-c943-49e8-9a4a-dfce6030cd2a","name":"inputfc49d3bb460740539890039b68247867","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"24306367-98f6-44df-8888-d6c4f152f868","name":"input9095182ee9a94556aa01be4a40e87d6f","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"id":"0eb27603-2fa6-4e73-b5a7-7975944de133","name":"inpute61ec6d128174527aa5f24a5b256bbf1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"3f1f6cb2-988f-46ee-a209-29e4a1978264","name":"inputed5a534591d14743a448cf34a9dc497d","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::7e3c5dff-6836-437b-95ed-b695a531d8b0","conditions":[{"id":"af89028d-6df7-4117-8880-819ee17492e9","leftVarIndex":"baa48333-c943-49e8-9a4a-dfce6030cd2a","rightVarIndex":"24306367-98f6-44df-8888-d6c4f152f868","compareOperator":"empty","compareOperatorErrMsg":""},{"id":"f2fd796b-7d81-4ab1-ac7c-f675d457efe4","leftVarIndex":"0eb27603-2fa6-4e73-b5a7-7975944de133","rightVarIndex":"3f1f6cb2-988f-46ee-a209-29e4a1978264","compareOperator":"null","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::15f8e4fb-1d66-4fee-8e0d-5dbcd067653b","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":410,"id":"if-else::73b6247d-da70-4900-be83-119c40317b46","position":{"x":2242.361787451401,"y":461.9034836630104},"positionAbsolute":{"x":2242.361787451401,"y":461.9034836630104},"selected":false,"type":"分支器","width":684},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"06669551-dc87-47b3-a1a9-b25a617c0f45","name":"question","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"1055d985-4c59-48be-abed-f4ed9964dbea","name":"group","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","nodeId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"抽题_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\nimport random\\ndef main(question,group):\\n    user_input = json.loads(question)\\n    question_bank = json.loads(group)\\n\\n    result = []\\n\\n    for req in user_input:\\n        subject = req[\\"题目类型\\"]\\n        req_num = req[\\"题目数量\\"]\\n\\n        # 跳过不存在的科目类型\\n        if subject not in question_bank:\\n            continue\\n\\n        # 获取题库列表并计算实际抽题数量\\n        pool = question_bank[subject]\\n        actual_num = min(req_num, len(pool))\\n\\n        # 执行随机抽样\\n        selected_questions = random.sample(pool, actual_num)\\n\\n        # 构建返回结构\\n        result.append({\\n            \\"题目类型\\": subject,\\n            \\"题目列表\\": selected_questions\\n        })\\n\\n    result_str = json.dumps(result, ensure_ascii=False, indent=2)\\n    if result_str == \\"[]\\":\\n        result_str = \\"题库中没有此类型题目。\\"\\n    else :\\n        output = []\\n        question_count = 1\\n\\n        for category in result:\\n            q_type = category[\\"题目类型\\"]\\n            for question in category[\\"题目列表\\"]:\\n                # 组装题目信息\\n                block = [\\n                    f\\"{question_count}.题目类型：{q_type}\\",                    \\n                    f\\"问题：{question[''question'']}\\",\\n                    f\\"答案：{question[''answer'']}\\",\\n                    f\\"分析：{question[''analysis'']}\\",\\n                    \\"\\"  # 用于添加空行分隔\\n                ]\\n                output.append(\\"\\\\n\\".join(block))\\n                question_count += 1\\n        # 移除最后一个多余的空行\\n        result_str = \\"\\\\n\\".join(output).strip()\\n\\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":793,"id":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","position":{"x":3781.573778892236,"y":318.88217586621664},"positionAbsolute":{"x":3781.573778892236,"y":318.88217586621664},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"411c5a07-8967-4aeb-b27e-de534e88f4b5","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"9d8685c9-44bc-467b-9cc1-9c698d17160e","name":"classifications","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"用户意图理解","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个意图识别的助手，请根据{{Query}}的意图进行分类。\\n1.如果用户的输入中的包含题目类型列举的关键词，则返回1\\n2.如果用户的输入中的题目类型为每一类，每一种，每种等表达全部，所有的意图时，返回2\\n3.如果用户的输入中包含多个题目类型列举的关键词，则返回1\\n4.如果以上均不是，则返回3\\n用户输入为:{{input}}\\n题目类型为:{{classifications}}\\n要求：请严格按照规定的值返回，不要发散，不要增加其他任何内容，输出结果仅返回1或者2或者3，不需要返回解释内容\\n\\n#输入输出示例说明：\\n示例1：\\n输入：帮我出1道英语题\\n输出：1\\n\\n示例2：\\n输入：帮我出1道英语题,2道数学题\\n输出：1\\n\\n示例3：\\n输入：帮我出1道英语题,2道天文题\\n输出：1\\n\\n示例4：\\n输入：帮我出2道天文题\\n输出：3\\n\\n示例5：\\n输入：每种类型都出2道题\\n输出：2\\n\\n示例6：\\n输入：随便出1道题\\n输出：3\\n\\n示例7：\\n输入：每种类型都出2道题\\n输出：3\\n\\n\\n\\n\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1044,"id":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","position":{"x":-208.22332637798866,"y":106.5802228842961},"positionAbsolute":{"x":-208.22332637798866,"y":106.5802228842961},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0a5482a1-e4f9-46fc-8ec1-134b74c83334","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"56815391-c873-4cb0-b5d6-4f1ea86e0208","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"id":"b19441f6-68ac-412e-8048-cb00b12d08b8","name":"inputa71c415bce774f55b605578417f6e9bc","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"b8cca240-0b45-42ea-98b6-249b650a4392","name":"input5ce2039beaaf4badb3561c31cc3760ea","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"id":"694ddb96-20e7-4825-8547-f845a24c3913","name":"input4a6d828fe089498d920492fc4d8fc7d9","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"875b6c97-2ebd-496e-96ec-b2b8e4e10729","name":"input53d5574055f542f8a446ecae3eb58c17","nameErrMsg":"","schema":{"type":"string","value":{"content":"输出：1","contentErrMsg":"","type":"literal"}}},{"id":"ee9323aa-7ffe-4e7b-81a2-9f3f8d9fe285","name":"input3b20cfb645fc4b0baf09a22e03706783","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"99ab35a6-0262-4f60-95aa-7bb9a7a1c565","name":"inputb9880afca38647a3b44de1d342e36531","nameErrMsg":"","schema":{"type":"string","value":{"content":"输出：2","contentErrMsg":"","type":"literal"}}}],"label":"意图分类","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::2db3e298-2822-4736-bfec-fd8942b0e715","conditions":[{"leftVarIndex":"0a5482a1-e4f9-46fc-8ec1-134b74c83334","rightVarIndex":"56815391-c873-4cb0-b5d6-4f1ea86e0208","id":"","compareOperator":"is","compareOperatorErrMsg":""},{"id":"5e3564d7-d5cc-49e7-ab4e-107a551cd923","leftVarIndex":"694ddb96-20e7-4825-8547-f845a24c3913","rightVarIndex":"875b6c97-2ebd-496e-96ec-b2b8e4e10729","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::93ccf247-ef92-4bed-9d04-5fe6a0137bcd","level":2,"logicalOperator":"or","conditions":[{"id":"f9999688-04e3-4a2f-924e-c5a5e4f9f4c5","leftVarIndex":"b19441f6-68ac-412e-8048-cb00b12d08b8","rightVarIndex":"b8cca240-0b45-42ea-98b6-249b650a4392","compareOperator":"is","compareOperatorErrMsg":""},{"id":"23b5f33f-951f-431f-a8e9-798d9fa7fc32","leftVarIndex":"ee9323aa-7ffe-4e7b-81a2-9f3f8d9fe285","rightVarIndex":"99ab35a6-0262-4f60-95aa-7bb9a7a1c565","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::ac47bc0f-618c-49d8-828d-2a94ebcbbd33","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":611,"id":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","position":{"x":661.968489625546,"y":233.582859296187},"positionAbsolute":{"x":661.968489625546,"y":233.582859296187},"selected":false,"type":"分支器","width":684}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1742376666771.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["帮我出1道历史题","每种类型都出1道题","帮我出3道历史题和1道英语题"]},"needGuide":false}', NULL, NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(72366, 18882349618, '680ab54f', '7308756054656868352', '【勿动！】知识库查询模板', '', 0, 0, '2025-03-21 15:47:13', '2025-10-21 10:52:15', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","position":{"x":286.72196897609933,"y":213.98781490023484},"positionAbsolute":{"x":286.72196897609933,"y":213.98781490023484},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"25dac5c9-4c21-4c3b-924a-37e1e682015f","name":"LLMoutput","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"LLMoutput","id":"d695790b-24bc-4df2-a3cf-e736c6c6d70d","nodeId":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{LLMoutput}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","id":"d695790b-24bc-4df2-a3cf-e736c6c6d70d","label":"LLMoutput","type":"string","value":"LLMoutput","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0"},{"children":[{"references":[{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","children":[{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"2a513e2a-ddb8-4386-8ec7-786f95fb9dfa","label":"score","type":"number","value":"results.score","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"883a2b2f-ed6d-4a3a-9bc6-3e1c454f0661","label":"index","type":"number","value":"results.index","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"aa4a3680-5f34-420e-a502-c3907d089b4f","label":"type","type":"string","value":"results.type","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"8bae45db-489c-4786-86f9-b01421045f35","label":"content","type":"string","value":"results.content","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"aa8abdaf-5d5d-4d33-9e27-c83fdb981c8f","label":"fileType","type":"string","value":"results.fileType","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"97390574-6a2f-4e25-b0e5-72a0bd024592","label":"fileId","type":"string","value":"results.fileId","parentType":"array-object","fileType":""}],"id":"15d61193-0fff-4323-94e1-3110efd08f91","label":"results","type":"array-object","value":"results","fileType":""}],"label":"","value":""}],"label":"知识库_1","parentNode":true,"value":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8"},{"children":[{"references":[{"originId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","position":{"x":2596.4367854791526,"y":66.80089575294384},"positionAbsolute":{"x":2596.4367854791526,"y":66.80089575294384},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"调用知识库，可以指定知识库进行知识检索和答复","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png","inputs":[{"id":"1c210447-cf13-4bd3-be9c-a32afa8022b0","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","nodeId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4"},"contentErrMsg":"","type":"ref"}}}],"label":"知识库_1","labelEdit":false,"nodeMeta":{"aliasName":"知识库","nodeType":"工具"},"nodeParam":{"repoId":["2110039"],"uid":"0","appId":"680ab54f","repoList":[{"outerRepoId":"2110039","coreRepoId":"2110039","charCount":963,"createTime":"2025-03-24T05:39:32.000+00:00","name":"消防安全知识","description":"消防安全知识","updateTime":"2025-03-24T05:39:32.000+00:00","id":2110039,"status":2}],"repoIdErrMsg":"","flowId":"7308756054656868352","ragType":"SparkDesk-RAG","topN":1},"outputs":[{"id":"15d61193-0fff-4323-94e1-3110efd08f91","name":"results","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"2a513e2a-ddb8-4386-8ec7-786f95fb9dfa","name":"score","required":true,"type":"number"},{"id":"883a2b2f-ed6d-4a3a-9bc6-3e1c454f0661","name":"index","required":true,"type":"number"},{"id":"aa4a3680-5f34-420e-a502-c3907d089b4f","name":"type","required":true,"type":"string"},{"id":"8bae45db-489c-4786-86f9-b01421045f35","name":"content","required":true,"type":"string"},{"id":"aa8abdaf-5d5d-4d33-9e27-c83fdb981c8f","name":"fileType","required":true,"type":"string"},{"id":"97390574-6a2f-4e25-b0e5-72a0bd024592","name":"fileId","required":true,"type":"string"}],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4"}],"status":"","updatable":false},"dragging":false,"height":567,"id":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","position":{"x":1158.0688905110937,"y":78.89602000220596},"positionAbsolute":{"x":1158.0688905110937,"y":78.89602000220596},"selected":false,"type":"知识库","width":476},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"b652dd23-ad30-4334-bb7a-2a148ecfda8e","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","nodeId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4"},"contentErrMsg":"","type":"ref"}}},{"id":"5ec6a753-8965-4a7e-a84f-61c950fbcfa4","name":"knowledge","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"results","id":"15d61193-0fff-4323-94e1-3110efd08f91","nodeId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个知识库查询助手，根据用户问题和内部知识库，给用户返回问题答案。\\n务必按照知识库来生成答案，不要自己发挥。\\n\\n# 工作流程\\n## \\n判断知识库查询结果{{knowledge}}与用户提问{{input}}的相关度。这一步不用向用户说明。\\n##\\n如果相关度很低，则告诉用户：抱歉，您的问题不在知识库范围内，我无法作答。换个问题再试试呢。如果相关度较高，则回答用户问题。","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"d695790b-24bc-4df2-a3cf-e736c6c6d70d","name":"LLMoutput","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","children":[{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"2a513e2a-ddb8-4386-8ec7-786f95fb9dfa","label":"score","type":"number","value":"results.score","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"883a2b2f-ed6d-4a3a-9bc6-3e1c454f0661","label":"index","type":"number","value":"results.index","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"aa4a3680-5f34-420e-a502-c3907d089b4f","label":"type","type":"string","value":"results.type","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"8bae45db-489c-4786-86f9-b01421045f35","label":"content","type":"string","value":"results.content","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"aa8abdaf-5d5d-4d33-9e27-c83fdb981c8f","label":"fileType","type":"string","value":"results.fileType","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","id":"97390574-6a2f-4e25-b0e5-72a0bd024592","label":"fileId","type":"string","value":"results.fileId","parentType":"array-object","fileType":""}],"id":"15d61193-0fff-4323-94e1-3110efd08f91","label":"results","type":"array-object","value":"results","fileType":""}],"label":"","value":""}],"label":"知识库_1","parentNode":true,"value":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8"},{"children":[{"references":[{"originId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4"}],"status":"","updatable":false},"dragging":false,"height":1012,"id":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","position":{"x":1769.209852568089,"y":-24.301731951131423},"positionAbsolute":{"x":1769.209852568089,"y":-24.301731951131423},"selected":false,"type":"大模型","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8-spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","target":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0-node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","target":"node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","targetHandle":"node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4-knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","target":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1742543227708.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["火灾后如何逃生？","消防安全的英文","防火灾注意事项"],"prologueText":""},"needGuide":false}', NULL, NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(73352, 10374628632, '680ab54f', '7309931388743180290', '十万+毒舌影评', '', 0, 0, '2025-03-24 21:37:35', '2025-03-26 09:52:48', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a-spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","target":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778-text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","target":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","target":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0-spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","target":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0-spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","target":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4-node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98anode-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","target":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","targetHandle":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db-node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98anode-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","target":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","targetHandle":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0-ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","target":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1-node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98anode-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","target":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","targetHandle":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"success","updatable":false},"height":256,"id":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","position":{"x":100,"y":300},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"c33fed15-82f9-416c-a5f1-13550a3056be","name":"score","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","nodeId":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"74b32279-94f8-407c-80ce-503477bad636","name":"content","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","nodeId":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"dcfe9f4d-fca7-47d6-b702-6f7de54b7ff2","name":"url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"83bf9195-89f8-40da-b410-019aa1ac3f6a","nodeId":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","name":"result"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{score}}\\n————————————————————————\\n{{content}}\\n————————————————————————\\n{{url}}\\n","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"电影打分","value":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","children":[{"label":"","value":"","references":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","originId":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"电影评论","value":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","children":[{"label":"","value":"","references":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","originId":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","children":[{"label":"","value":"","references":[{"id":"83bf9195-89f8-40da-b410-019aa1ac3f6a","originId":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","label":"result","value":"result","type":"string","fileType":"","children":[]}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":783,"id":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","position":{"x":4492.087737257574,"y":414.17333869202525},"positionAbsolute":{"x":4492.087737257574,"y":414.17333869202525},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"56cd698d-be0b-494a-8def-8ac0211f5b9a","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","nodeId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"从用户提问里提取电影名称进行输出，不要自行发挥，仅输出电影名称。用户的提问是{{input}}","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","name":"movie","nameErrMsg":"","schema":{"default":"电影名称","type":"string"}}],"references":[{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":596,"id":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","position":{"x":872.1843712365646,"y":159.84283433489605},"positionAbsolute":{"x":872.1843712365646,"y":159.84283433489605},"selected":false,"type":"大模型","width":671},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要搜索的问题","disabled":false,"id":"73dc2642-535c-4a33-a96c-9d06732d73f6","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","nodeId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"bing搜索_1","labelEdit":false,"nodeMeta":{"aliasName":"bing搜索","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"使用网络搜索公开信息","pluginId":"tool@665b86a9b821000","appId":"680ab54f","operationId":"聚合搜索-hL0CqmNi","businessInput":[]},"outputs":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","name":"msg","schema":{"type":"string"}},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","name":"result","schema":{"properties":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","name":"summary","type":"string"},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","name":"img","type":"string"},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","name":"domain","type":"string"},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","name":"name","type":"string"},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","name":"is_high_summary","type":"boolean"},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","name":"siteName","type":"string"},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","name":"source","type":"string"},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","name":"type","type":"string"},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","name":"url","type":"string"}],"type":"array-object"}},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","name":"rc","schema":{"type":"string"}},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","name":"semantic","schema":{"properties":[],"type":"array-string"}},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","name":"total","schema":{"type":"string"}},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","name":"offset","schema":{"type":"string"}},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","name":"limit","schema":{"type":"string"}},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","name":"sid","schema":{"type":"string"}}],"references":[{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":539,"id":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","position":{"x":2341.070169587201,"y":318.01886212328736},"positionAbsolute":{"x":2341.070169587201,"y":318.01886212328736},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"fafd8d5c-9a3c-4d05-8f76-ba38ee6e826c","name":"movie","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","nodeId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","name":"movie"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"website: douban.com {{movie}}"},"outputs":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":595,"id":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","position":{"x":1661.0527054523104,"y":245.81886212328737},"positionAbsolute":{"x":1661.0527054523104,"y":245.81886212328737},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"703abdd7-19c4-47bd-a938-121cbad35d1f","name":"summary","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.summary"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3c0411c0-b27a-41ad-9a48-83959e22993b","name":"movie","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","nodeId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","name":"movie"},"contentErrMsg":"","type":"ref"}}}],"label":"电影打分","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"电影名称是：{{movie}}\\n\\n电影剧情摘要是：{{summary}}\\n\\n角色设定：你是一个影视评论家，为这篇影评取一个标题，再进行打分。\\n要求先输出评论标题，但不需要出现“评论标题”四个字，然后换行，输出电影打分：在10分制下为电影/电视剧打个分数，以及评价值不值得推荐。\\n仅输出影评标题，电影评分和推荐度，不超过40字。\\n","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":774,"id":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","position":{"x":3157.996494499316,"y":-0.4146695204755666},"positionAbsolute":{"x":3157.996494499316,"y":-0.4146695204755666},"selected":true,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"588421a9-85db-4175-b6a6-fe85dc2ad2d7","name":"summary","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.summary"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"91cc2fb4-f1d2-4f6a-8ae1-7a3b4eed391f","name":"movie","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","nodeId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","name":"movie"},"contentErrMsg":"","type":"ref"}}}],"label":"电影评论","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"电影名称是：{{movie}}\\n\\n电影剧情摘要是：{{summary}}\\n\\n角色设定：你是一个影视评论家\\n目标任务：根据我提供的影视作品，写一篇影视评论\\n评论说明：要求文笔细腻、叙事流畅有逻辑、观点突出，模仿专栏作家写法，使用比喻、象征、对照等文学典型手法；\\n内容可以包括主创阵容、影像视觉、主旨内涵、文化现象等维度，最好有电影/电视剧中的细节予以佐证；\\n输出格式要求为：先输出评论标题，但不需要出现“评论标题”四个字，然后换行，再然后是评论内容。后面绝不要再有额外的输出。使用Markdown样式美化输出格式。\\n\\n","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":874,"id":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","position":{"x":3158.37161553241,"y":823.2793806800518},"positionAbsolute":{"x":3158.37161553241,"y":823.2793806800518},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"c4a2e3c1-e75b-4718-8a4f-f5e21a07af18","name":"urlList","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.url"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"7c87f29f-b293-4c68-a4b8-856c5f0f18a6","name":"nameList","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.name"},"contentErrMsg":"","type":"ref"}}}],"label":"信源提取","labelEdit":true,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"def main(urlList,nameList):\\n    # 生成超链接列表\\n    hyperlinks = [\\n        f''<a href=\\"{url}\\">{name}</a>''\\n        for name, url in zip(nameList, urlList)\\n    ]\\n    \\n    # 转换为带编号的字符串\\n    result_str = \\"\\\\n\\".join(\\n        [f\\"{idx}. {link}\\" for idx, link in enumerate(hyperlinks, 1)]\\n    )\\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"83bf9195-89f8-40da-b410-019aa1ac3f6a","name":"result","nameErrMsg":"","schema":{"default":"","properties":[],"type":"string"}}],"references":[{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":839,"id":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","position":{"x":3198.936939340525,"y":1720.580867192227},"positionAbsolute":{"x":3198.936939340525,"y":1720.580867192227},"selected":false,"type":"代码","width":587}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality_2025-03-26_kl89ilu1_cropped-image.jpeg?width=209&height=209', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":[],"prologueText":""},"needGuide":false}', '{"botId":2676751}', NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(75140, 18882349618, '680ab54f', '7311207728616894466', '【勿动】AI播客模板', 'AI有声', 0, 0, '2025-03-28 10:09:18', '2025-04-19 16:30:17', '{"edges":[{"data":{"edgeType":"polyline"},"id":"reactflow__edge-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","target":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec-node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0anode-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","target":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","targetHandle":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","target":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f-if-else::0a38a0da-f662-4039-9aed-658595885613","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","target":"if-else::0a38a0da-f662-4039-9aed-658595885613","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::2192a758-4498-4294-9e49-57f4e083c187-plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","target":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"success"},"dragging":false,"height":256,"id":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","position":{"x":-2564.4526716900527,"y":-1786.5159591940044},"positionAbsolute":{"x":-2564.4526716900527,"y":-1786.5159591940044},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"6b8905ed-9efe-4cbf-8702-0a4d42c54066","name":"audio_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},"contentErrMsg":"","type":"ref"}}},{"id":"6000bd78-1994-4295-b8b2-44e5eb554f66","name":"article_titile","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"<audio preload=\\"none\\" controls>\\n            <source src=\\"{{audio_url}}\\" type=\\"audio/mpeg\\">\\n        </audio>","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","id":"828a7629-3638-419b-b41d-6488c095d877","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"播客风格内容生成","parentNode":true,"value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"71c444e8-b003-4905-a7af-cd8d18622e6f","label":"sid","type":"string","value":"sid"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"70686705-b058-48de-8878-8406ef71e827","label":"code","type":"integer","value":"code"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"49286b6b-3339-45e4-a78b-18d149f03e8a","label":"msg","type":"string","value":"msg"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","children":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object"}],"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"语音合成","parentNode":true,"value":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4b3626aa-957b-4851-9cde-1e5583e7b389","label":"code","type":"integer","value":"code"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4c957639-68a3-41e1-9397-44fe85c252f8","label":"msg","type":"string","value":"msg"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","children":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","type":"string","value":"data.title","parentType":"object"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","type":"string","value":"data.content","parentType":"object"}],"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"解析URL内容","parentNode":true,"value":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7"}],"status":"success"},"dragging":false,"height":499,"id":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","position":{"x":2058.3781854281156,"y":-1760.1879328372493},"positionAbsolute":{"x":2058.3781854281156,"y":-1760.1879328372493},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"0c98c01a-cd4f-42ca-a37e-d2a29f268f2c","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}},{"id":"9d8c0513-d253-47a3-a368-38f1e7ed12b5","name":"input_oral","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"播客风格内容生成","labelEdit":false,"nodeMeta":{"aliasName":"播客风格内容生成","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一位专业的广播节目编辑，负责制作一档名为“AI电台”的节目。你的任务是将用户提供的原始内容改编为适合单口相声播客节目的脚本。请遵循以下步骤：\\n将原始内容分解为若干主题或问题，确保每段对话涵盖关键点，并自然过渡。\\n确保对话语言口语化、易懂。\\n对于专业术语或复杂概念，使用简单明了的语言进行解释，使听众更易理解。\\n保持对话节奏轻松、有趣，并加入适当的幽默和互动，以提高听众的参与感。\\n示例对话风格： \\n欢迎收听AI电台，今天咱们的节目一定让你们大开眼界！ \\n没错！今天的主题绝对精彩，快搬小板凳听好哦！ \\n那么，今天我们要讨论的内容是……\\n原始内容输入：{{input}}和{{input_oral}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"7b709739e8da44536127a333c7603a83","auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"828a7629-3638-419b-b41d-6488c095d877","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4b3626aa-957b-4851-9cde-1e5583e7b389","label":"code","type":"integer","value":"code"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4c957639-68a3-41e1-9397-44fe85c252f8","label":"msg","type":"string","value":"msg"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","children":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","type":"string","value":"data.title","parentType":"object"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","type":"string","value":"data.content","parentType":"object"}],"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"解析URL内容","parentNode":true,"value":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7"}],"status":"success"},"dragging":false,"height":774,"id":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","position":{"x":906.3748272099806,"y":-2168.961093642761},"positionAbsolute":{"x":906.3748272099806,"y":-2168.961093642761},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"url链接","disabled":false,"id":"301779d6-1139-489f-bfb3-ec9e8bcab74b","name":"url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"url","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","nodeId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},"contentErrMsg":"","type":"ref"}}}],"label":"解析URL内容","labelEdit":false,"nodeMeta":{"aliasName":"解析URL内容","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"此工具用于获取URL链接的内容。可获取URL链接下的网页标题和内容，当前支持微信公众号,csdn,cnblogs等网站URL链接下的网页和内容读取，其他URL链接内容的获取和解析持续演进中。","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@70ee9fd1c821000","appId":"680ab54f","operationId":"linkRader-sMgPXVRU","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"4b3626aa-957b-4851-9cde-1e5583e7b389","name":"code","schema":{"type":"integer"}},{"id":"4c957639-68a3-41e1-9397-44fe85c252f8","name":"msg","schema":{"type":"string"}},{"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","name":"data","schema":{"properties":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","name":"title","type":"string"},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","name":"content","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"}],"status":""},"dragging":false,"height":397,"id":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","position":{"x":-171.16637413693422,"y":-1930.240588590217},"positionAbsolute":{"x":-171.16637413693422,"y":-1930.240588590217},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"id":"3c863804-af63-4dd3-843e-0be036e0f492","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"b33b15eb-c9c3-4852-89d0-36b3f60b6d9b","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingfeiyi_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"6f8a4ecf-c8c8-4a3a-b428-df5f256fc412","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"50","contentErrMsg":"","type":"literal"}}}],"label":"语音合成","labelEdit":false,"nodeMeta":{"aliasName":"语音合成","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@72213899d821000","appId":"680ab54f","operationId":"超拟人合成-7UcDosEk","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"71c444e8-b003-4905-a7af-cd8d18622e6f","name":"sid","schema":{"type":"string"}},{"id":"70686705-b058-48de-8878-8406ef71e827","name":"code","schema":{"type":"integer"}},{"id":"49286b6b-3339-45e4-a78b-18d149f03e8a","name":"msg","schema":{"type":"string"}},{"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","id":"828a7629-3638-419b-b41d-6488c095d877","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"播客风格内容生成","parentNode":true,"value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4b3626aa-957b-4851-9cde-1e5583e7b389","label":"code","type":"integer","value":"code"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4c957639-68a3-41e1-9397-44fe85c252f8","label":"msg","type":"string","value":"msg"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","children":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","type":"string","value":"data.title","parentType":"object"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","type":"string","value":"data.content","parentType":"object"}],"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"解析URL内容","parentNode":true,"value":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7"}],"status":"success"},"dragging":false,"height":483,"id":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","position":{"x":1822.4908023044898,"y":-2127.890644688282},"positionAbsolute":{"x":1822.4908023044898,"y":-2127.890644688282},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"a4cd8402-1224-432d-9f54-cecf2b9c5de9","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"获取用户输入的URL","labelEdit":false,"nodeMeta":{"aliasName":"获取用户输入的URL","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import re\\n\\ndef main(input):\\n    # findall() 查找匹配正则表达式的字符串\\n    url = re.findall(''https?://(?:[-\\\\w.]|(?:%[\\\\da-fA-F]{2}))+'', input)\\n    ret = {\\n        \\"url\\": url[0] if url else '''',\\n        \\"is_content_url\\": ''true'' if url else ''false''\\n    }\\n    return ret","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","name":"url","nameErrMsg":"","schema":{"default":"","type":"string"}},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","name":"is_content_url","nameErrMsg":"","required":false,"schema":{"default":"","properties":[],"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"success"},"dragging":false,"height":786,"id":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","position":{"x":-1764.3867814299724,"y":-2048.563380631832},"positionAbsolute":{"x":-1764.3867814299724,"y":-2048.563380631832},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"f099d559-55ec-409d-8535-d258ed9ba551","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"is_content_url","id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","nodeId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},"contentErrMsg":"","type":"ref"}}},{"id":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"true","contentErrMsg":"","type":"literal"}}}],"label":"判断是否有URL","labelEdit":false,"nodeMeta":{"aliasName":"判断是否有URL","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","conditions":[{"leftVarIndex":"f099d559-55ec-409d-8535-d258ed9ba551","rightVarIndex":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"success"},"dragging":false,"height":368,"id":"if-else::0a38a0da-f662-4039-9aed-658595885613","position":{"x":-1077.9743541295918,"y":-1831.41657721748},"positionAbsolute":{"x":-1077.9743541295918,"y":-1831.41657721748},"selected":false,"type":"分支器","width":684}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","position":{"x":-2564.4526716900527,"y":-1786.5159591940044},"positionAbsolute":{"x":-2564.4526716900527,"y":-1786.5159591940044},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"6b8905ed-9efe-4cbf-8702-0a4d42c54066","name":"audio_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"6000bd78-1994-4295-b8b2-44e5eb554f66","name":"article_titile","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"<audio preload=\\"none\\" controls>\\n            <source src=\\"{{audio_url}}\\" type=\\"audio/mpeg\\">\\n        </audio>","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"播客风格内容生成","value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","children":[{"label":"","value":"","references":[{"id":"828a7629-3638-419b-b41d-6488c095d877","originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"71c444e8-b003-4905-a7af-cd8d18622e6f","label":"sid","type":"string","value":"sid"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"70686705-b058-48de-8878-8406ef71e827","label":"code","type":"integer","value":"code"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"49286b6b-3339-45e4-a78b-18d149f03e8a","label":"msg","type":"string","value":"msg"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","children":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object"}],"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"语音合成","parentNode":true,"value":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"label":"linkReader","value":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","children":[{"label":"","value":"","references":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"code","value":"code","type":"integer","fileType":""},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"msg","value":"msg","type":"string","fileType":""},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","value":"data.title","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","value":"data.content","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":663,"id":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","position":{"x":2605.24604318639,"y":-1943.2910102116718},"positionAbsolute":{"x":2605.24604318639,"y":-1943.2910102116718},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"0c98c01a-cd4f-42ca-a37e-d2a29f268f2c","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","nodeId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","name":"data.content"},"contentErrMsg":"","type":"ref"}}},{"id":"9d8c0513-d253-47a3-a368-38f1e7ed12b5","name":"input_oral","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"播客风格内容生成","labelEdit":false,"nodeMeta":{"aliasName":"播客风格内容生成","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一位专业的广播节目编辑，负责制作一档名为“AI电台”的节目。你的任务是将用户提供的原始内容改编为适合单口相声播客节目的逐字稿。\\n# 任务\\n将原始内容分解为若干主题或问题，确保每段对话涵盖关键点，并自然过渡。\\n# 注意点\\n确保对话语言口语化、易懂。\\n对于专业术语或复杂概念，使用简单明了的语言进行解释，使听众更易理解。\\n保持对话节奏轻松、有趣，并加入适当的幽默和互动，以提高听众的参与感。\\n注意：我会直接将你生成的内容朗读出来，不要输出口播稿以外的东西，不要带格式，\\n# 示例 \\n欢迎收听AI电台，今天咱们的节目一定让你们大开眼界！ \\n没错！今天的主题绝对精彩，快搬小板凳听好哦！ \\n那么，今天我们要讨论的内容是……\\n# 原始内容：{{input}}和{{input_oral}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"7b709739e8da44536127a333c7603a83","auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"828a7629-3638-419b-b41d-6488c095d877","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"label":"linkReader","value":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","children":[{"label":"","value":"","references":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"code","value":"code","type":"integer","fileType":""},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"msg","value":"msg","type":"string","fileType":""},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","value":"data.title","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","value":"data.content","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":863,"id":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","position":{"x":906.3748272099806,"y":-2168.961093642761},"positionAbsolute":{"x":906.3748272099806,"y":-2168.961093642761},"selected":false,"type":"大模型","width":686},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"3c863804-af63-4dd3-843e-0be036e0f492","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"b33b15eb-c9c3-4852-89d0-36b3f60b6d9b","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingfeiyi_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"6f8a4ecf-c8c8-4a3a-b428-df5f256fc412","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"50","contentErrMsg":"","type":"literal"}}}],"label":"语音合成","labelEdit":false,"nodeMeta":{"aliasName":"语音合成","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@72213899d821000","appId":"680ab54f","operationId":"超拟人合成-7UcDosEk","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"71c444e8-b003-4905-a7af-cd8d18622e6f","name":"sid","schema":{"type":"string"}},{"id":"70686705-b058-48de-8878-8406ef71e827","name":"code","schema":{"type":"integer"}},{"id":"49286b6b-3339-45e4-a78b-18d149f03e8a","name":"msg","schema":{"type":"string"}},{"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"label":"播客风格内容生成","value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","children":[{"label":"","value":"","references":[{"id":"828a7629-3638-419b-b41d-6488c095d877","originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"label":"linkReader","value":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","children":[{"label":"","value":"","references":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"code","value":"code","type":"integer","fileType":""},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"msg","value":"msg","type":"string","fileType":""},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","value":"data.title","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","value":"data.content","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":482,"id":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","position":{"x":1680.8910891349367,"y":-2027.7942957235978},"positionAbsolute":{"x":1680.8910891349367,"y":-2027.7942957235978},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"a4cd8402-1224-432d-9f54-cecf2b9c5de9","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"获取用户输入的URL","labelEdit":false,"nodeMeta":{"aliasName":"获取用户输入的URL","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import re\\n\\ndef main(input):\\n    # findall() 查找匹配正则表达式的字符串\\n    url = re.findall(''https?://(?:[-\\\\w.]|(?:%[\\\\da-fA-F]{2}))+'', input)\\n    ret = {\\n        \\"url\\": url[0] if url else '''',\\n        \\"is_content_url\\": ''true'' if url else ''false''\\n    }\\n    return ret","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","name":"url","nameErrMsg":"","schema":{"default":"","type":"string"}},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","name":"is_content_url","nameErrMsg":"","required":false,"schema":{"default":"","properties":[],"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"","updatable":false},"dragging":false,"height":783,"id":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","position":{"x":-1764.3867814299724,"y":-2048.563380631832},"positionAbsolute":{"x":-1764.3867814299724,"y":-2048.563380631832},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"f099d559-55ec-409d-8535-d258ed9ba551","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"is_content_url","id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","nodeId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},"contentErrMsg":"","type":"ref"}}},{"id":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"true","contentErrMsg":"","type":"literal"}}}],"label":"判断是否有URL","labelEdit":false,"nodeMeta":{"aliasName":"判断是否有URL","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","conditions":[{"leftVarIndex":"f099d559-55ec-409d-8535-d258ed9ba551","rightVarIndex":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[],"references":[{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::0a38a0da-f662-4039-9aed-658595885613","position":{"x":-1077.9743541295918,"y":-1831.41657721748},"positionAbsolute":{"x":-1077.9743541295918,"y":-1831.41657721748},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"url链接","disabled":false,"id":"d792d820-a974-4c2f-8768-cd63e0e9f1b4","name":"url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"linkReader","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"此工具用于获取URL链接的内容。可获取URL链接下的网页标题和内容，当前支持微信公众号,csdn,cnblogs等网站URL链接下的网页和内容读取，其他URL链接内容的获取和解析持续演进中。","pluginId":"tool@70ee9fd1c821000","appId":"680ab54f","operationId":"linkRader-sMgPXVRU","businessInput":[]},"outputs":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","name":"code","schema":{"type":"integer"}},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","name":"msg","schema":{"type":"string"}},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","name":"data","schema":{"properties":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","name":"title","type":"string"},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","name":"content","type":"string"}],"type":"object"}}],"references":[{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","children":[{"label":"","value":"","references":[{"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":377,"id":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","position":{"x":-63.38711128526688,"y":-1922.7106145371033},"positionAbsolute":{"x":-63.38711128526688,"y":-1922.7106145371033},"selected":false,"type":"工具","width":586}],"edges":[{"data":{"edgeType":"polyline"},"id":"reactflow__edge-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","target":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec-node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0anode-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","target":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","targetHandle":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","target":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f-if-else::0a38a0da-f662-4039-9aed-658595885613","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","target":"if-else::0a38a0da-f662-4039-9aed-658595885613","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::2192a758-4498-4294-9e49-57f4e083c187-plugin::98724914-f631-4d53-9615-85a70a4b2d6e","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","target":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::98724914-f631-4d53-9615-85a70a4b2d6e-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1743127750552.jpg?width=204&height=204', '', 0, 1, 0, 0, NULL, 0, 31494, 2, NULL, 1, NULL, '{"needGuide":false,"prologue":{"enabled":true,"inputExample":["https://mp.weixin.qq.com/s/FxSZskzI4k-0cS-ZaXi3-Q","https://mp.weixin.qq.com/s/V9xm74qcOPJcqmRNQfAEvg","https://mp.weixin.qq.com/s/uFQi6fw7B3rBfjM4lnvpJw"]}}', NULL, NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(86255, 11143393282, '680ab54f', '7320350037499285506', '诗词散文意境配图', '为您的诗词、散文画出一幅绝美意境的配图', 0, 0, '2025-04-22 15:37:34', '2025-06-25 17:42:58', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","position":{"x":3,"y":188},"positionAbsolute":{"x":3,"y":188},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"54e5cbc0-ac13-49cc-8521-53358b22d932","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","nodeId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","name":"data.image_url"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e3c31c7d-433d-41a7-abaa-6ed751ca5a8d","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","nodeId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"✨{{output1}}✨\\n<figure style=margin: 0; padding: 0; border: 1px solid #ddd;\\">\\n  <img src=\\"{{output}}\\" style=\\"width: 100%; height: 100%; object-fit: contain; display: block;\\">\\n</figure>","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"文本处理节点_1","value":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","children":[{"label":"","value":"","references":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","originId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"文生图 - 可灵版_1","value":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","children":[{"label":"","value":"","references":[{"id":"c567e6ce-6837-44bc-a82a-c2e1bc868331","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"sid","value":"sid","type":"string","fileType":""},{"id":"e9764785-4223-4255-9baf-7faad71323c4","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"code","value":"code","type":"integer","fileType":""},{"id":"5e6fca9a-3af9-49c0-ae34-a9ddd387b5ac","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"message","value":"message","type":"string","fileType":""},{"id":"216573d2-25e5-443c-b661-a809caf19c85","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","label":"image_url","value":"data.image_url","type":"string","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":695,"id":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","position":{"x":3177.6223690241745,"y":-116.48590480623449},"positionAbsolute":{"x":3177.6223690241745,"y":-116.48590480623449},"selected":true,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6cd29d14-f06f-4cb3-95eb-42c4c693a3bf","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","nodeId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一位精通文学和绘画艺术的专家，你需要根据用户提供的诗词、散文等文字，描述一张与诗词意境相符的图片，帮助用户更好地理解和感受文学之美。\\n输出不超过100字。\\n接下来我的输入是：{{input}}\\n\\n","modelId":110,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","multiMode":false,"uid":"0","patchId":"0","isThink":false,"templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":806,"id":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","position":{"x":806.623210313244,"y":75.4661443843313},"positionAbsolute":{"x":806.623210313244,"y":75.4661443843313},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"86230e7f-30fe-45dd-a513-b3bc52ff1202","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","nodeId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"fa47e49b-2a27-4cde-a8d3-eec180642e13","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"水墨画风格，极简风，整体构图采用传统国画的疏密布局，大量留白让画面充满呼吸感。符合现实逻辑，有景深、有透视、空间布局","contentErrMsg":"","type":"literal"}}}],"label":"文本处理节点_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"680ab54f","prompt":"{{input1}}{{input}}}"},"outputs":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":603,"id":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","position":{"x":1550.710927006619,"y":-25.314853167693528},"positionAbsolute":{"x":1550.710927006619,"y":-25.314853167693528},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"用户输入 （示例：落霞与孤鹜齐飞，秋水共长天一色）","disabled":false,"fileType":"","id":"bb155377-2754-4471-8c84-fcd2a7380954","name":"description","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","nodeId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"文生图 - 可灵版_1","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"11143393282","code":"","toolDescription":"根据输入的描述，生成对应图片","pluginId":"tool@73690d6a0021000","appId":"680ab54f","operationId":"文生图 - 可灵版-X3Q0UT3s","businessInput":[]},"outputs":[{"id":"c567e6ce-6837-44bc-a82a-c2e1bc868331","name":"sid","schema":{"type":"string"}},{"id":"e9764785-4223-4255-9baf-7faad71323c4","name":"code","schema":{"type":"integer"}},{"id":"5e6fca9a-3af9-49c0-ae34-a9ddd387b5ac","name":"message","schema":{"type":"string"}},{"id":"216573d2-25e5-443c-b661-a809caf19c85","name":"data","schema":{"properties":[{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","name":"image_url","type":"string"}],"type":"object"}}],"references":[{"label":"文本处理节点_1","value":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","children":[{"label":"","value":"","references":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","originId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":387,"id":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","position":{"x":2518.873181364273,"y":-21.25156963698241},"positionAbsolute":{"x":2518.873181364273,"y":-21.25156963698241},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4-spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","target":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9-text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","target":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087-plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","target":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c-node-end::59c08ea4-d3c7-49f9-80c2-28cb72154daenode-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","target":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","targetHandle":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1745310568104.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["静夜思 床前明月光， 疑是地上霜。 举头望明月， 低头思故乡。","凉州词 黄河远上白云间，一片孤城万仞山。羌笛何须怨杨柳，春风不度玉门关。","相思 红豆生南国，春来发几枝？愿君多采撷，此物最相思。"],"prologueText":"输入您想配图的诗词散文内容，我将为您画出一幅符合意境的图片"},"needGuide":false,"textToSpeech":{"enabled":true,"vcn":"x4_lingxiaoqi_cts"},"backgroundPic":"https://bjcdn.openstorage.cn/xinghuo-privatedata/personality_2025-05-23_fdgmv5a7_cropped-image.jpeg?width=857&height=1152"}', '{"botId":2786663}', 13, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(112649, 18882349618, '680ab54f', '7331596244756099074', '【勿动】-单词卡片王模板', '单词卡片王模板', 0, 0, '2025-05-23 16:26:00', '2025-11-24 16:11:17', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"deleteDisabled":true,"id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":74,"id":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","position":{"x":-1004.5306050613806,"y":960.693371361336},"positionAbsolute":{"x":-1004.5306050613806,"y":960.693371361336},"selected":false,"type":"开始节点","width":362},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"2353a7d4-07aa-42b2-9a16-efe57ae6c29e","name":"word","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"word","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"1e887a11-7219-4e9c-8759-9bf5b7bec72b","name":"phonetic","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"phonetic","id":"71810806-00e5-428e-befa-9d1c19021ad2","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"9d30fb5a-9d1a-49cd-a92d-2dece17537a4","name":"part_of_speech","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"part_of_speech","id":"f1cdad10-420c-46f5-835b-191a383201b4","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"0aa3ea8c-a55e-483d-8209-c3cf103f87e7","name":"meaning_cn","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"meaning_cn","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f7652002-a96d-4da0-988e-4c6c9796b3d2","name":"example_en","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f2d71cd0-1174-41f5-9284-f6137d0fad28","name":"example_cn","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_cn","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"8630077e-6511-4cb8-8697-ce1cd607a58a","name":"image_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.image_url","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","nodeId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"9ad3d834-34fd-473d-8e17-bdd440b818a5","name":"voice_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"<!DOCTYPE html>\\n<html lang=\\"en\\">\\n<head>\\n  <meta charset=\\"UTF-8\\" />\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\"/>\\n  <title>Kids Flashcard - {{word}}</title>\\n  <style>\\n    body {\\n      font-family: \\"Comic Sans MS\\", \\"Arial Rounded MT Bold\\", sans-serif;\\n      background-color: #fdfcfa;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      height: 100vh;\\n      margin: 0;\\n    }\\n    .flashcard {\\n      background-color: #fff4ed;\\n      border-radius: 24px;\\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\\n      padding: 25px 30px;\\n      max-width: 420px;\\n      width: 90%;\\n      text-align: center;\\n    }\\n    .word {\\n      font-size: 38px;\\n      font-weight: bold;\\n      color: #333;\\n    }\\n    .phonetic {\\n      font-size: 22px;\\n      color: #666;\\n      margin-top: 4px;\\n    }\\n    .part {\\n      font-size: 20px;\\n      color: #888;\\n      margin: 10px 0 4px 0;\\n    }\\n    .meaning {\\n      font-size: 22px;\\n      color: #444;\\n      margin-bottom: 16px;\\n    }\\n    .illustration {\\n      width: 220px;\\n      height: auto;\\n      border-radius: 12px;\\n      margin: 16px auto;\\n    }\\n    .sentence-en, .sentence-cn {\\n      font-size: 18px;\\n      margin-top: 10px;\\n      color: #333;\\n    }\\n    .audio-player {\\n      margin-top: 14px;\\n      width: 100%;\\n      max-width: 300px;\\n    }\\n  </style>\\n</head>\\n<body>\\n  <div class=\\"flashcard\\">\\n    <div class=\\"word\\">{{word}}</div>\\n    <div class=\\"phonetic\\">{{phonetic}}</div>\\n    <div class=\\"part\\">{{part_of_speech}}</div>\\n    <div class=\\"meaning\\">{{meaning_cn}}</div>\\n    <img src=\\"{{image_url}}\\" alt=\\"Illustration of {{word}}\\" class=\\"illustration\\"/>\\n    <div class=\\"sentence-en\\">{{example_en}}</div>\\n    <div class=\\"sentence-cn\\">{{example_cn}}</div>\\n    <audio preload=\\"none\\" controls class=\\"audio-player\\">\\n      <source src=\\"{{voice_url}}\\" type=\\"audio/mpeg\\">\\n      Your browser does not support the audio element.\\n    </audio>\\n  </div>\\n</body>\\n</html>\\n","streamOutput":true,"apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"},{"children":[{"references":[{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"7e5764b2-b0f3-40fc-9bac-a87e4b22ec19","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"a1a1d0aa-29be-424a-a424-1e3edc6b8881","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","children":[{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","label":"image_url","type":"string","value":"data.image_url","parentType":"object","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"d280073d-3b54-4cae-8dec-8e6073fa4191","label":"image_url_md","type":"string","value":"data.image_url_md","parentType":"object","fileType":""}],"id":"21385939-a43b-41f8-93c5-7f28eef44887","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"6d7c8ec7-4b92-4591-b5a1-24aad2d15b27","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"文生图_1","parentNode":true,"value":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6"},{"children":[{"references":[{"originId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文生图prompt","parentNode":true,"value":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},{"children":[{"references":[{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"d654622d-e3e5-4de2-9fed-55c3473a10e2","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"b89f63a7-2160-4e82-a21a-c4e578b6b830","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"74d6ac20-c58a-46cb-8f33-35d4295ce7c2","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","children":[{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"ba62612d-4e66-49d4-aa88-c727ebf4ddf4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217"}],"status":"","updatable":false},"dragging":false,"height":74,"id":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","position":{"x":2954.611593731852,"y":35.10500805675582},"positionAbsolute":{"x":2954.611593731852,"y":35.10500805675582},"selected":false,"type":"结束节点","width":362},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"2de315e5-66c9-4eeb-8079-3800dc057caf","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","nodeId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"},"contentErrMsg":"","type":"ref"}}}],"label":"extract_word","labelEdit":false,"nodeMeta":{"aliasName":"extract_word","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 单词提取中心（适用于单词卡片生成）\\n**角色**：语言过滤与核心词提取器  \\n**目标**：根据任意输入内容，提取最具代表性的英文单词，作为词卡主题词。\\n---\\n## 1. 输入语言判断与预处理：\\n- **中文输入**：\\n  * 若识别为**专有名词**（人名、地名、角色名、品牌名等），直接翻译为对应的英文拼写（如 “孙悟空” → ``sun wukong``）\\n  * 否则翻译为英文短语，进入提取流程\\n- **中英混排输入**：\\n  * 提取首个**具语义价值的英文单词**（优先名词）\\n  * 忽略中文部分及非语义词（如 “the”, “a”, “of”）\\n- **英文输入**：\\n  * 若为单词或短语，直接标准化处理  \\n  * 若为完整句子，按提取策略处理并提取第一个核心词\\n---\\n## 2. 提取策略（优先级）：\\n- 优先提取**名词**（概念、对象、想法类）  \\n- 若无明显名词，提取**含义最核心的动词或形容词**  \\n- 若为完整句子，仅提取**第一个具代表性的核心词**  \\n- 若输入为专有名词，直接保留其英文形式，无需拆解或抽象化\\n---\\n## 3. 标准化规则（词形处理）：\\n- 所有输出单词小写（如 *Love* → ``love``）  \\n- 名词统一为单数形式（e.g. *dreams* → ``dream``）  \\n- 动词还原为原形（e.g. *running* → ``run``）  \\n- 拼写修正：疑似拼错词（长度 ≥5）将自动修正为最近合法英文单词（基于词频模型或拼写字典）\\n---\\n## 4. 特殊输入处理：\\n### 4.1 纯数字输入：\\n按以下优先级处理：\\n1. 若该数字有**标准英文写法**（如 ``1`` → ``one``，``100`` → ``hundred``），直接输出英文单词  \\n2. 若该数字在文化中具象征意义（如 ``7`` → ``luck``，``13`` → ``unlucky``），可输出对应联想词  \\n3. 若无法识别或无语义关联，输出 ``[none]``\\n### 4.2 表情符号（emoji）：\\n- 若为常见 emoji 且具明确情绪/概念（如 ???? → ``happiness``, ???? → ``idea``），提取相关核心词  \\n- 若为不常见或无明确语义的 emoji，输出 ``[none]``\\n---\\n## 5. 输出格式：\\n- 所有输出为标准英文单词，格式为：  \\n  \\\\[``英文单词``\\\\]  \\n- 若无有效词义，输出：  \\n  \\\\[``none``\\\\]\\n---\\n## 示例：\\n| 输入                           | 输出           |\\n|--------------------------------|----------------|\\n| 坚定的意志                    | ``will``         |\\n| 请处理ambitious               | ``ambition``     |\\n| She is running fast.          | ``run``          |\\n| 创新的科技产品                | ``innovation``   |\\n| 坚持不懈的                    | ``perseverance`` |\\n| ????                            | ``happiness``    |\\n| ????                            | ``disgust``      |\\n| 2024                          | ``year``         |\\n| 100                           | ``hundred``      |\\n| 7                             | ``luck``         |\\n| 13                            | ``unlucky``      |\\n| 99999                         | ``[none]``       |\\n| 这是一个amazing opportunity   | ``opportunity``  |\\n| 孙悟空                        | ``sun wukong``   |\\n| 乔布斯                        | ``steve jobs``   |\\n| 巴黎                          | ``paris``        |\\n| 华为手机                      | ``huawei``       |\\n---\\n输入：{{input}}\\n> ???? 适用于：单词卡片生成、标签抽取、关键词推荐、情绪感知词提取、语义压缩等任务。\\n\\n","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"3521d160-f926-41fc-9f6a-e7e1373bd466","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":124,"id":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","position":{"x":-257.58445046164775,"y":576.6233766233765},"positionAbsolute":{"x":-257.58445046164775,"y":576.6233766233765},"selected":false,"type":"大模型","width":362},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"886d29fe-c55d-477d-9415-813b62a1f3ec","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","nodeId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},"contentErrMsg":"","type":"ref"}}}],"label":"word_data","labelEdit":false,"nodeMeta":{"aliasName":"word_data","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 单词学习卡片的提示词\\n> “请根据提供的英文单词，生成一个词汇学习卡片，输出格式为JSON，包含以下字段：\\n>\\n> * ``word``：英文单词\\n> * ``phonetic``：音标（英式或美式）\\n> * ``part_of_speech``：词性（如名词、动词等）\\n> * ``meaning_cn``：中文意思\\n> * ``example_en``：英文例句\\n> * ``example_cn``：对应的中文翻译\\n>\\n> 请仅输出 JSON，不要添加任何额外说明或文本。”\\n---\\n### ✅ 示例输入：\\n``````text\\napple\\n``````\\n### ✅ 示例输出（JSON）：\\n``````json\\n{\\n  \\"word\\": \\"apple\\",\\n  \\"phonetic\\": \\"/ˈæpəl/\\",\\n  \\"part_of_speech\\": \\"noun\\",\\n  \\"meaning_cn\\": \\"苹果\\",\\n  \\"example_en\\": \\"She ate a red apple for lunch.\\",\\n  \\"example_cn\\": \\"她午饭吃了一个红苹果。\\"\\n}\\n``````\\n\\n输入：{{input}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":2,"llmIdErrMsg":""},"outputs":[{"id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","name":"word","nameErrMsg":"","schema":{"default":"","type":"string"}},{"id":"71810806-00e5-428e-befa-9d1c19021ad2","name":"phonetic","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"f1cdad10-420c-46f5-835b-191a383201b4","name":"part_of_speech","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"15e526a8-d94a-4f9f-be32-fed7735c460c","name":"meaning_cn","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","name":"example_en","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","name":"example_cn","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":124,"id":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","position":{"x":380.0648875050731,"y":588.3116883116883},"positionAbsolute":{"x":380.0648875050731,"y":588.3116883116883},"selected":true,"type":"大模型","width":362},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"961d2e5f-7b37-454a-bac3-09cdcf756513","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}}],"label":"文生图prompt","labelEdit":false,"nodeMeta":{"aliasName":"文生图prompt","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"> Based on the following English phrase, generate a concise illustration prompt in English.\\n>\\n> **Style:** Cute, clean, and colorful — ideal for children''s picture books or kawaii visuals.\\n>\\n> **Requirements:**\\n>\\n> * Clear composition\\n> * Soft pastel-like colors\\n> * Simple or minimal background\\n> * Inspiration may include: flat design, vector art, Studio Ghibli, Pixar, or children''s book illustrations\\n>\\n> **Output Format:**\\n> Write in a single descriptive paragraph. Follow this example format:\\n>\\n> > A cheerful farmer in a straw hat stands on a lush green ranch, surrounded by a small herd of playful, multicolored cows. The cows have soft, pastel fur and big, expressive eyes, with some wearing flower-patterned bells. In the background, rolling hills painted in gentle blues and yellows stretch toward a bright, cloud-filled sky. A red barn with a rainbow roof sits nearby, framed by fluffy white clouds and blooming sunflowers. The composition is clean and flat, with bold outlines and vibrant, kid-friendly colors, reminiscent of Studio Ghibli or Pixar charm.\\n>\\n> Keep the description moderately short, visual, and emotionally light.\\n>\\n> **Phrase:** {{input}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"d94e153a-22c8-4bd9-984e-48ad300b4412","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":124,"id":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","position":{"x":1203.8418644835785,"y":-55.77961684003702},"positionAbsolute":{"x":1203.8418644835785,"y":-55.77961684003702},"selected":false,"type":"大模型","width":362},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"21b20c92-d983-44e4-a6cc-60b83015c296","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"75a8fbb0-f13a-4fd4-9a5f-90a99b77a370","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingxiaoxuan_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"eea6a7b9-e92a-4df7-9494-1e7462a8140b","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"40","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"超拟人合成_1","nodeType":"工具"},"nodeParam":{"uid":"1002771","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@72213899d821000","appId":"680ab54f","operationId":"超拟人合成-7UcDosEk","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"d654622d-e3e5-4de2-9fed-55c3473a10e2","name":"sid","schema":{"type":"string"}},{"id":"b89f63a7-2160-4e82-a21a-c4e578b6b830","name":"code","schema":{"type":"integer"}},{"id":"74d6ac20-c58a-46cb-8f33-35d4295ce7c2","name":"msg","schema":{"type":"string"}},{"id":"ba62612d-4e66-49d4-aa88-c727ebf4ddf4","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":100,"id":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","position":{"x":1831.09907705333,"y":1034.854810233409},"positionAbsolute":{"x":1831.09907705333,"y":1034.854810233409},"selected":false,"type":"工具","width":362},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"description","disabled":false,"fileType":"","id":"6fa8fbb7-fe99-4819-a74e-88d35fefb9a8","name":"prompt","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","nodeId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},"contentErrMsg":"","type":"ref"}}},{"description":"分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","disabled":false,"id":"82ba0e1b-b0b5-4988-bab8-e2f007fcaaea","name":"width","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"512","contentErrMsg":"","type":"literal"}}},{"description":"分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","disabled":false,"id":"e5e74f4f-fb3c-4f66-90e8-8a76b7ef44cc","name":"height","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"512","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"文生图_1","labelEdit":false,"nodeMeta":{"aliasName":"文生图_1","nodeType":"工具"},"nodeParam":{"uid":"1002771","code":"","toolDescription":"根据输入的内容生成与内容有关的图片","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@6af64fc92421000","appId":"680ab54f","operationId":"文生图-4y8oUAMe","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"7e5764b2-b0f3-40fc-9bac-a87e4b22ec19","name":"code","schema":{"type":"number"}},{"id":"a1a1d0aa-29be-424a-a424-1e3edc6b8881","name":"message","schema":{"type":"string"}},{"id":"21385939-a43b-41f8-93c5-7f28eef44887","name":"data","schema":{"properties":[{"id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","name":"image_url","type":"string"},{"id":"d280073d-3b54-4cae-8dec-8e6073fa4191","name":"image_url_md","type":"string"}],"type":"object"}},{"id":"6d7c8ec7-4b92-4591-b5a1-24aad2d15b27","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文生图prompt","parentNode":true,"value":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":100,"id":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","position":{"x":2109.3220366400647,"y":245.32745081632038},"positionAbsolute":{"x":2109.3220366400647,"y":245.32745081632038},"selected":false,"type":"工具","width":362}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce-spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","target":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","target":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-spark-llm::15451103-737e-44f1-a38e-34fabaef5204","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::15451103-737e-44f1-a38e-34fabaef5204-plugin::83f6c597-615d-4f20-8b63-53f9737513b6","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","target":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::83f6c597-615d-4f20-8b63-53f9737513b6-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["cat","dog","我要一杯水！"],"prologueText":"现在，请输入你要生成插图的中文/英文单词吧！随便输入任意内容都行！！！"},"needGuide":false}', NULL, 17, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(117803, 7999407136, '680ab54f', '7333414911830429698', 'DeepReseach-XingChen', '当学术写作、市场分析或技术难题需要深入洞察时，简单的搜索远远不够，往往需要数十次查询。Deep Research 专为解决这一效率瓶颈而打造。', 0, 0, '2025-05-28 16:52:43', '2025-07-01 17:31:18', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8-ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","target":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d-iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","target":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::31d26fca-e908-42c5-bda4-94fc3885be9c-node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","target":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c-node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","target":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402-spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","target":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09-node-end::2fad4f8a-b00c-48f5-a90b-95981a100320node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","target":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","targetHandle":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c-message::31d26fca-e908-42c5-bda4-94fc3885be9c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","target":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7-spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","target":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9-plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","target":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::fe875f03-d51c-4177-bd66-9a0139c608fa-spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","target":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae-node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","target":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::2e8e1b1e-d814-4956-a764-b895fe124f0f-text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","target":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50-message::2e8e1b1e-d814-4956-a764-b895fe124f0f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","target":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","target":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21-spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","target":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54-node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","target":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::29243923-3bd4-4510-9969-0f3eb83278e3-iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","target":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","targetHandle":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff-node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","target":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69-iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","target":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","targetHandle":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21-ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","target":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf-text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","target":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","type":"customEdge","zIndex":996}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"deleteDisabled":true,"id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","position":{"x":-2289.23514470434,"y":339.880966226477},"positionAbsolute":{"x":-2289.23514470434,"y":339.880966226477},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"1d83e7fe-0e0e-47b7-88e1-a5ba41470427","name":"report","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","nodeId":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{report}}","streamOutput":true,"templateErrMsg":"","outputMode":1,"reasoningTemplate":""},"outputs":[],"references":[{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"调研结果提取","parentNode":true,"value":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},{"children":[{"references":[{"originId":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"Write_Final_Report","parentNode":true,"value":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","position":{"x":6481.805549405643,"y":265.40671844957683},"positionAbsolute":{"x":6481.805549405643,"y":265.40671844957683},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"301fafc3-34c2-4c8c-b9b4-7f96221f1c1a","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}}],"label":"Get Now","labelEdit":false,"nodeMeta":{"aliasName":"Get Now","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"import time\\ndef main(input):\\n    ret = {\\n        \\"time\\":time.strftime(''%Y-%m-%d'', time.localtime())\\n    }\\n\\n    return ret","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","name":"time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":785,"id":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","position":{"x":-1353.9567065998558,"y":225.28668325020703},"positionAbsolute":{"x":-1353.9567065998558,"y":225.28668325020703},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"95809fc2-80b0-4c00-a828-3067a101ae53","name":"queries","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"DeepSearch","labelEdit":false,"nodeMeta":{"aliasName":"DeepSearch","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","apiKey":"7b709739e8da44536127a333c7603a83","IterationStartNodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"}],"status":"","updatable":false},"dragging":false,"height":1027,"id":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":2961.123247524005,"y":52.685391851874044},"positionAbsolute":{"x":2961.123247524005,"y":52.685391851874044},"selected":true,"type":"迭代","width":1712},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"time","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","nodeId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},"contentErrMsg":"","type":"ref"}}},{"id":"13c58afc-e1f1-4b68-b079-8d9726447c21","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":"\\\\ ","contentErrMsg":"","type":"literal"}}},{"id":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":"\\\\","contentErrMsg":"","type":"literal"}}}],"label":"全局变量存储","labelEdit":false,"nodeMeta":{"aliasName":"全局变量存储","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7345744049038364672"},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","id":"45b1aa39-e9b4-4f03-bfa8-ee71cb0f7459","label":"output_m","type":"string","value":"output_m","fileType":""}],"label":"","value":""}],"label":"Search_Queries","parentNode":true,"value":"message::31d26fca-e908-42c5-bda4-94fc3885be9c"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":371,"id":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","position":{"x":2254.4349945874173,"y":443.7853496964773},"positionAbsolute":{"x":2254.4349945874173,"y":443.7853496964773},"selected":false,"type":"变量存储器","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"0f6dda2b-4bda-4c62-b0a9-5885b4ba8441","name":"Queries","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_Queries","labelEdit":false,"nodeMeta":{"aliasName":"Search_Queries","nodeType":"基础节点"},"nodeParam":{"template":"\\n=======基于您的输入，为您生成了10个研究主题=======\\n{{Queries}}","streamOutput":true,"uid":"7999407136","apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","startFrameEnabled":false,"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"id":"45b1aa39-e9b4-4f03-bfa8-ee71cb0f7459","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":423,"id":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","position":{"x":1545.3269398529592,"y":391.18758610556506},"positionAbsolute":{"x":1545.3269398529592,"y":391.18758610556506},"selected":false,"type":"消息","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"调研结果提取","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"get","appId":"680ab54f","flowId":"7333414911830429698"},"outputs":[{"id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","name":"findings","nameErrMsg":"","refId":"13c58afc-e1f1-4b68-b079-8d9726447c21","required":true,"schema":{"description":"","type":"string"}},{"id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","name":"now","nameErrMsg":"","refId":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","required":true,"schema":{"default":"","type":"string"}},{"id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","name":"urls","nameErrMsg":"","refId":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","required":true,"schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":359,"id":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","position":{"x":4931.782766893291,"y":379.54479075727227},"positionAbsolute":{"x":4931.782766893291,"y":379.54479075727227},"selected":false,"type":"变量存储器","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"19c83fb0-9626-4c4b-ab8e-c568fbdf5ad2","name":"user_input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f76b33a2-d02c-4f8c-82e1-a9fceed17b2c","name":"learnings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"findings","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"4fc3f902-5f1c-4740-b620-2f0d287c9e37","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"now","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"5c128dba-dc24-426f-afc6-e34b9d16bfb9","name":"visitedURLs","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"urls","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3f8e5c97-57e9-424b-a264-3d01fd11eb7c","name":"topics","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"Write_Final_Report","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following input from the user, write a final chinese report strictly using ONLY the provided research materials. Make it as detailed as possible, The goal is no less than 5000 words，include ALL the learnings from research:\\n\\nCritical Requirements:\\n1. Content Boundaries:\\n   - Every claim must have direct source evidence in <learnings>/<source>\\n   - Use verbatim source phrasing where possible\\n   - Never combine information from multiple sources into new conclusions\\n\\n<input>{{user_input}}</input>\\nHere are all the learnings from previous research:\\n<learnings>\\n{{learnings}}\\n</learnings>\\n\\n<excuted_query>\\n{{topics}}\\n</excuted_query>\\n\\nOutput the images in the form of Markdown links. You need to ensure that the output text can be correctly parsed by the front - end. Return a final report with both text and source url list to me.","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":10000014,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xopgptoss120b","appId":"680ab54f","maxTokens":65535,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n- Relevance Enforcement Core\\n- Every output segment must contain explicit relevance markers showing connection to {{user_input}}\\n- Implement 3-layer relevance verification:\\n  1. Content must contain ≥1 direct match to user''s query keywords\\n  2. Semantic similarity score ≥0.7 (calculated via cosine similarity)\\n  3. Include relevance justification statement per paragraph\\n- Strict Source Adherence**: All content must be directly derived from the provided <source> and <learnings>. Do NOT generate, infer, or supplement any information beyond the research materials.\\n  - Verification Protocol**: For every key point in the report:\\n      a) Cross-reference with at least 2 independent sources in <visitedURLs>\\n      b) If conflicting data exists, present all perspectives without resolution\\n      c) Flag any gaps in research instead of filling them\\n  - Anti-Hallucination Measures:\\n      - Never create data, statistics, or quotes\\n      - Reject requests requiring knowledge beyond provided materials\\n      - Use explicit phrasing: \\"Research indicates...\\" instead of definitive claims\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.\\n\\n<source>\\n{{visitedURLs}}\\n</source>","model":"spark","serviceId":"xopgptoss120b","respFormat":0},"outputs":[{"id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"调研结果提取","parentNode":true,"value":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":1737,"id":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","position":{"x":5706.843935224669,"y":117.7239499988699},"positionAbsolute":{"x":5706.843935224669,"y":117.7239499988699},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"82227be2-0e6e-4e24-bda9-23fac34026e7","name":"exa_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}},{"id":"efa57daf-c3f2-4ad2-95d0-a56302b251be","name":"numQueries","nameErrMsg":"","schema":{"type":"string","value":{"content":"10","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"5d539ef9-db85-46de-baa9-975ef1bba413","name":"background","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_Queries_Generation","labelEdit":false,"nodeMeta":{"aliasName":"Search_Queries_Generation","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following prompt from the user, generate a list of SERP Chinese queries to research the topic. Return a maximum of {{numQueries}} queries, but feel free to return less if the original prompt is clear. Make sure each query is unique and not similar to each other:\\n<prompt>\\n## user_query\\n{{user_query}}\\n## background\\n{{background}}\\n</prompt>\\n\\nPlease output use json format\\n``````json\\n{\\"queries\\":[\\"query1\\",\\"query2\\"...]}\\n``````","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.","model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","name":"queries","nameErrMsg":"","schema":{"default":"","properties":[],"type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":1334,"id":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","position":{"x":854.5482842075206,"y":224.60200568847358},"positionAbsolute":{"x":854.5482842075206,"y":224.60200568847358},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"34ecd9c2-0151-462a-9d9d-e14d9c16722f","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_KeyWord","labelEdit":false,"nodeMeta":{"aliasName":"Search_KeyWord","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 任务：你是一个深度研究专家，可以基于用户输入，提取唯一核心搜索关键词\\n## 用户输入\\n{{query}}\\n## 要求\\n1.  **唯一性**：仅输出 **1个** 最核心的关键词。\\n2.  **核心性**：必须直接指向问题最核心的**实体/概念/动作**（优先名词、专有名词）。\\n3.  **具体性**：\\n    *   使用最具体、信息量最大的词汇（如 ``iPhone15Pro续航`` 而非 ``苹果手机``）。\\n    *   若核心是**比较**，融合比较对象和属性（如 ``华为苹果5G速度对比``）。\\n    *   若含关键限定词（时间/地点），且不可或缺，则融入关键词（如 ``2024巴黎奥运会赛程``）。\\n4.  **搜索友好**：\\n    *   长度适中（通常2-6个汉字或1-3个英文词）。\\n    *   **禁止**疑问词（如何/为什么）、助词（的/了）、无意义动词（想/了解）。\\n    *   **禁止**句子或短语。\\n## 输出格式\\n``````json\\n{\\"keyword\\":\\"核心关键词\\"}\\n``````","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","name":"keyword","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":1169,"id":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","position":{"x":-605.5116975522649,"y":64.21043198288953},"positionAbsolute":{"x":-605.5116975522649,"y":64.21043198288953},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"返回网页数量","disabled":false,"id":"c0ccb58f-d412-4df2-917f-c62ef5c455c4","name":"limit","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"description":"检索关键词","disabled":false,"fileType":"","id":"d7654983-4673-4297-b809-4447478d1379","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"keyword","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","nodeId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结果是否重排序","disabled":false,"id":"4ad685a3-b2d8-4c37-b3b6-247b124f3f1c","name":"open_rerank","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}},{"description":"是否开启全文内容","disabled":false,"id":"19430fb5-ef88-4535-b83e-6a14340a3e7d","name":"full_text","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}}],"label":"Keyword_Search","labelEdit":false,"nodeMeta":{"aliasName":"Keyword_Search","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@7b783cae9c21000","appId":"680ab54f","operationId":"聚合搜索-b5HNlLDD","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","name":"data","schema":{"properties":[{"id":"427ce060-eecd-4d55-a9e1-0d22100d7232","name":"classify_domain","properties":[],"type":"array-string"},{"id":"08f765bd-d032-47b1-bb5e-c226b51f0835","name":"documents","properties":[],"type":"array-object"},{"id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","name":"more_documents","properties":[],"type":"array-object"}],"type":"object"}},{"id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","name":"success","schema":{"type":"boolean"}},{"id":"d496063c-39c8-4393-90bf-22a39fda8da7","name":"err_code","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":503,"id":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","position":{"x":139.48063887908415,"y":326.7249599859789},"positionAbsolute":{"x":139.48063887908415,"y":326.7249599859789},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"originPosition":{"x":-2019.1289520601033,"y":296.5978116672338},"outputs":[{"id":"95809fc2-80b0-4c00-a828-3067a101ae53","name":"queries","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":232,"id":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":30,"y":425.915809231445},"positionAbsolute":{"x":-2019.1289520601033,"y":296.5978116672338},"selected":false,"type":"开始节点","width":658,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"8f6cdf43-36d4-4e91-889f-b3ebd6b12a02","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","nodeId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":0},"originPosition":{"x":3461.3097047592923,"y":510.4450170462777},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle","parentNode":true,"value":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle_1","parentNode":true,"value":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":229,"id":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1400.109664204849,"y":479.37761057620594},"positionAbsolute":{"x":3461.3097047592923,"y":510.4450170462777},"selected":false,"type":"结束节点","width":408,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"全局变量提取","labelEdit":false,"nodeMeta":{"aliasName":"全局变量提取","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"get","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7345744049038364672"},"originPosition":{"x":-1065.5466674931718,"y":233.84742089352562},"outputs":[{"id":"4969937b-5455-421b-b08d-27525eecbea1","name":"now","nameErrMsg":"","refId":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","required":true,"schema":{"description":"","type":"string"}},{"id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","name":"findings","nameErrMsg":"","refId":"13c58afc-e1f1-4b68-b079-8d9726447c21","required":true,"schema":{"default":"","type":"string"}},{"id":"671bb501-2465-4440-8bca-666e0de97b10","name":"urls","nameErrMsg":"","refId":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","required":true,"schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":359,"id":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":268.3955711417329,"y":410.22821153801794},"positionAbsolute":{"x":-1065.5466674931718,"y":233.84742089352562},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"9a94f5e9-d5ac-4711-a0e6-5ca2ac465ccc","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"eee3dc74-842f-4d46-841c-9c5d0d590010","name":"result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","nodeId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"0144d744-a49b-426d-94f2-3843a6ccb7e4","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"findings","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}}],"label":"SerpResultsHandle","labelEdit":false,"nodeMeta":{"aliasName":"SerpResultsHandle","nodeType":"工具"},"nodeParam":{"uid":"7999407136","apiKey":"7b709739e8da44536127a333c7603a83","separatorErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","prompt":"<Query>\\n{{query}}\\n</Query>\\n<Result>\\n{{result}}\\n</Result>\\n{{findings}}"},"originPosition":{"x":2097.1434869812306,"y":364.9581265810171},"outputs":[{"id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":700,"id":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1059.0681097603335,"y":443.0058879598908},"positionAbsolute":{"x":2097.1434869812306,"y":364.9581265810171},"selected":false,"type":"文本拼接","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"12087343-0339-4c7f-978a-0c15af2dc897","name":"result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","nodeId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"00bb3de4-b220-4a04-94ba-ff6531f6f837","name":"queries","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息_1","nodeType":"基础节点"},"nodeParam":{"template":"\\n=======主题：《{{queries}}》深度研究完成=======\\n{{result}}","streamOutput":true,"uid":"7999407136","apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","startFrameEnabled":false,"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"originPosition":{"x":1216.1819372639081,"y":324.5143494939853},"outputs":[{"id":"662fd50a-85d2-4a2e-a247-273c0917bad4","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"running","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":471,"id":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":838.8277223310029,"y":432.89494368813286},"positionAbsolute":{"x":1216.1819372639081,"y":324.5143494939853},"selected":false,"type":"消息","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"082fef70-7284-4e11-8fc6-b352e1a3e879","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e6c589a2-0115-4c49-ae9e-ffb919de1a00","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"now","id":"4969937b-5455-421b-b08d-27525eecbea1","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"54990964-9571-4310-b0cd-20bc16e12d73","name":"contents","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},"contentErrMsg":"","type":"ref"}}}],"label":"ProcessSerpResult","labelEdit":false,"nodeMeta":{"aliasName":"ProcessSerpResult","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following contents from a SERP search for the query <query>{{query}}</query>, generate a chinese list of learnings from the contents. authoritative academic websites (such as arxiv, PubMed,) are preferred.Return a maximum of 5 learnings, but feel free to return less if the contents are clear. Make sure each learning is unique and not similar to each other. The learnings should be concise and to the point, as detailed and information dense as possible. Make sure to include any entities like people, places, companies, products, things, etc in the learnings, as well as any exact metrics, numbers, or dates. The learnings will be used to research the topic further.\\n\\n<contents>\\n{{contents}}\\n</contents>","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":8192,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.\\n","model":"spark","serviceId":"xdeepseekv3","respFormat":0},"originPosition":{"x":469.02140664412127,"y":-87.0654252585461},"outputs":[{"id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"running","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":1290,"id":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":652.0375896760561,"y":330},"positionAbsolute":{"x":469.02140664412127,"y":-87.0654252585461},"selected":false,"type":"大模型","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"返回网页数量","disabled":false,"id":"c93f4a1b-b82b-45ff-a171-01ec1190d9df","name":"limit","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"description":"检索关键词","disabled":false,"fileType":"","id":"32d3d825-b645-438a-bdfb-ad3210e99554","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"description":"结果是否重排序","disabled":false,"id":"b293d886-fb44-4bda-935d-ff3499600911","name":"open_rerank","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}},{"description":"是否开启全文内容","disabled":false,"id":"17dfd805-3b84-421d-a0a8-d4d214be0c0c","name":"full_text","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}}],"label":"聚合搜索","labelEdit":false,"nodeMeta":{"aliasName":"聚合搜索","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@7b783cae9c21000","appId":"680ab54f","operationId":"聚合搜索-b5HNlLDD","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"originPosition":{"x":-275.3066521353346,"y":-64.65872180204218},"outputs":[{"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","name":"data","schema":{"properties":[{"id":"427ce060-eecd-4d55-a9e1-0d22100d7232","name":"classify_domain","properties":[],"type":"array-string"},{"id":"08f765bd-d032-47b1-bb5e-c226b51f0835","name":"documents","properties":[],"type":"array-object"},{"id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","name":"more_documents","properties":[],"type":"array-object"}],"type":"object"}},{"id":"f632f44d-5326-43b7-9b41-54d026467fda","name":"success","schema":{"type":"boolean"}},{"id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","name":"err_code","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":503,"id":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":465.95557498119217,"y":335.601675864126},"positionAbsolute":{"x":-275.3066521353346,"y":-64.65872180204218},"selected":false,"type":"工具","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"090d8df5-8809-46e2-add8-111d8c590014","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","nodeId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},"contentErrMsg":"","type":"ref"}}}],"label":"Learnings_Setting","labelEdit":false,"nodeMeta":{"aliasName":"Learnings_Setting","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7345744049038364672"},"originPosition":{"x":2778.0781479911498,"y":454.0044284647601},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle","parentNode":true,"value":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":275,"id":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1229.3017750128133,"y":465.2674634308265},"positionAbsolute":{"x":2778.0781479911498,"y":454.0044284647601},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"eee3dc74-842f-4d46-841c-9c5d0d590010","name":"url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"url","id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","nodeId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"a4094730-8fb6-43b6-8cbe-61e5eabd9869","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"urls","id":"671bb501-2465-4440-8bca-666e0de97b10","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}}],"label":"SerpResultsHandle_1","labelEdit":false,"nodeMeta":{"aliasName":"SerpResultsHandle_1","nodeType":"工具"},"nodeParam":{"uid":"7999407136","apiKey":"7b709739e8da44536127a333c7603a83","separatorErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","prompt":"<URL>\\n{{url}}\\n</URL>\\n{{urls}}"},"originPosition":{"x":1186.8526703067744,"y":1260.2188290812826},"outputs":[{"id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":603,"id":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":831.4954055917194,"y":666.8210635849572},"positionAbsolute":{"x":1186.8526703067744,"y":1260.2188290812826},"selected":false,"type":"文本拼接","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"090d8df5-8809-46e2-add8-111d8c590014","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"url","id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","nodeId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"},"contentErrMsg":"","type":"ref"}}}],"label":"URLs_Setting","labelEdit":false,"nodeMeta":{"aliasName":"URLs_Setting","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7345744049038364672"},"originPosition":{"x":2099.471579057138,"y":1350.388921378597},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle_1","parentNode":true,"value":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":275,"id":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1059.6501327793103,"y":689.3635866592858},"positionAbsolute":{"x":2099.471579057138,"y":1350.388921378597},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"5a49ed8a-c9b6-4df2-b12d-d894e9337c50","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},"contentErrMsg":"","type":"ref"}}}],"label":"Extract_URLs","labelEdit":false,"nodeMeta":{"aliasName":"Extract_URLs","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"# -*- coding: utf-8 -*-\\ndef main(input):\\n    urls = []\\n    # 提取主文档中的URL\\n    for doc in input:\\n        if \\"url\\" in doc:\\n            urls.append(''<SUMMARY> \\\\n'' + doc[''summary''] + ''</SUMMARY> \\\\n'' + ''<URL> \\\\n'' + doc[\\"url\\"] + ''<URL> \\\\n'')\\n    url = ''''.join(urls)\\n    return {''url'':url} ","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"originPosition":{"x":464.5417859385602,"y":1425.9628289664477},"outputs":[{"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","name":"url","nameErrMsg":"","schema":{"default":"","properties":[],"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":745,"id":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":650.9176844996659,"y":708.2570635562485},"positionAbsolute":{"x":464.5417859385602,"y":1425.9628289664477},"selected":false,"type":"代码","width":587,"zIndex":1}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1750238788321_1.png', '#FFEAD5', -1, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["什么是RAG？"],"prologueText":"输入您想研究的主题，我来为您生成一篇深度研究报告"},"needGuide":false}', '{"botId":2896209}', 17, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(117903, 18882349618, '680ab54f', '7333431735192162306', '【模板勿动】画布038-景点AI讲解', '画布038', 0, 0, '2025-05-28 17:59:35', '2025-09-01 15:35:18', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"deleteDisabled":true,"id":"61df8bbe-abd6-4775-bdb6-252016d15558","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":294,"id":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","position":{"x":-854.4843386807864,"y":1166.5017907212505},"positionAbsolute":{"x":-854.4843386807864,"y":1166.5017907212505},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"d6d0f817-5407-4ac7-a99d-d23398c6ddd9","name":"audio","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"​<audio id=\\"audio\\" controls=\\"\\" preload=\\"none\\">\\n      <source id=\\"mp3\\" src=\\"{{audio}}\\">\\n</audio>","streamOutput":false,"apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"aa2b495b-4ca8-4c97-965c-b50cbd65368a","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"9269ef04-4bab-448a-8508-b35c2fcd98aa","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"3196c434-f321-4292-8d4c-aefdd2110c4a","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","children":[{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"74727fb7-2000-4b49-a141-24ffb0aa59a1","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208"},{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":615,"id":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","position":{"x":4541.423420256701,"y":526.8420201268883},"positionAbsolute":{"x":4541.423420256701,"y":526.8420201268883},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"09b1f7aa-7c8d-4786-8972-5231ce0f7643","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"72a43ac3-cb4d-4417-8931-c32e0b5557e7","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型_1","nodeType":"基础节点"},"nodeParam":{"topK":2,"template":"# 角色\\n你是一名资深的导游，你的任务是为用户提供专业、详实的景点介绍和讲解。\\n## 工作方法\\n首先，你要判断用户是否询问了一个具体的城市和旅游景点，如果没有，则输出null。如果用户询问了一个具体的城市和旅游景点，则你要为用户介绍、讲解这个景点的信息，你介绍的内容应该包括游客游览这个景点时想要了解的各个方面，内容尽量详尽。你的介绍和讲解要基于你确实已经掌握的信息，不能凭空想象或胡编乱造。\\n\\n## 背景信息\\n用户咨询的景点所在城市：{{city}}\\n用户咨询的景点是：{{tourist_spot}}\\n\\n## 输出格式\\n- 如果不知道，不可以编造，直接输出null。","apiKey":"7b709739e8da44536127a333c7603a83","modelId":152,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"20342301088","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv32","appId":"680ab54f","maxTokens":4096,"temperature":0.3,"model":"spark","serviceId":"xdeepseekv32","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"35e12320-cb8b-466a-b378-c799e8e93e85","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1130,"id":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","position":{"x":787.9676439854697,"y":26.164354522996888},"positionAbsolute":{"x":787.9676439854697,"y":26.164354522996888},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"28fbedc4-bceb-43c0-8b50-d5ba71502cdb","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"c4f22095-d8a0-4953-b1e2-b320f19eff5b","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"文本处理节点_1","labelEdit":false,"nodeMeta":{"aliasName":"文本处理节点_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","apiKey":"7b709739e8da44536127a333c7603a83","separatorErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","prompt":"\\"{{city}}\\" \\"{{tourist_spot}}\\""},"outputs":[{"id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":641,"id":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","position":{"x":980.1692860465212,"y":1021.179654115028},"positionAbsolute":{"x":980.1692860465212,"y":1021.179654115028},"selected":false,"type":"文本拼接","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6d469f40-c310-47f7-a137-37a2c4573e7e","name":"model_knowledge","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"35e12320-cb8b-466a-b378-c799e8e93e85","nodeId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"cade5944-d8b7-47dc-b8d0-13663f1c1b00","name":"serch_info","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"result","id":"9a901f3c-b661-4031-aa80-36ddb68612fb","nodeId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"da19e4f0-bc79-46d9-a2a5-27800746fd85","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"a70f581e-be4d-4c22-8c78-c083d43b099b","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_2","labelEdit":false,"nodeMeta":{"aliasName":"大模型_2","nodeType":"基础节点"},"nodeParam":{"topK":3,"template":"# 角色\\n你是一名旅游景区讲解员，你的任务是将旅游景点的信息加工为语音讲解词。\\n## 输入资料\\n用户咨询的景点所在城市：{{city}}\\n用户咨询的景点是：{{tourist_spot}}\\n大模型对于该景点的介绍：\\n\\"\\"\\"\\n{{model_knowledge}}\\n\\"\\"\\"\\n网络搜索到的该景点的信息：\\n\\"\\"\\"\\n{{serch_info}}\\n\\"\\"\\"\\n## 工作方法\\n你要根据输入的资料，将景点信息加工整理为一段信息详实、引人入胜的语音解说词。解说词要符合口语的特点，适合语音播报。可以适当旁征博引，引入相关故事或典故，以加强对用户的趣味性。\\n\\n## 输出要求\\n- 使用适合转换为语音播报的文字\\n- 不要掺杂放在括号里的动作、声音、表情、背景音乐等各种转场提示性文字。","apiKey":"7b709739e8da44536127a333c7603a83","modelId":152,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"20342301088","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv32","appId":"680ab54f","maxTokens":8192,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv32","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1346,"id":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","position":{"x":2386.530415138211,"y":422.6225943871038},"positionAbsolute":{"x":2386.530415138211,"y":422.6225943871038},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"b1a7dfc0-1bf5-4e89-b624-a68a390dec57","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","nodeId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"b5979665-3ae6-4495-85fe-305948c7bd6c","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingfeiyi_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"e112d562-7d93-4c04-b900-32d1ac6ddd14","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"超拟人合成_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@72213899d821000","appId":"680ab54f","operationId":"超拟人合成-7UcDosEk","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"aa2b495b-4ca8-4c97-965c-b50cbd65368a","name":"sid","schema":{"type":"string"}},{"id":"9269ef04-4bab-448a-8508-b35c2fcd98aa","name":"code","schema":{"type":"integer"}},{"id":"3196c434-f321-4292-8d4c-aefdd2110c4a","name":"msg","schema":{"type":"string"}},{"id":"74727fb7-2000-4b49-a141-24ffb0aa59a1","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":542,"id":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","position":{"x":3425.134551037525,"y":470.0212462973242},"positionAbsolute":{"x":3425.134551037525,"y":470.0212462973242},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要搜索的问题","disabled":false,"id":"c4d528d5-d326-4ba5-8952-cb53785046ff","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","nodeId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"bing搜索_1","labelEdit":false,"nodeMeta":{"aliasName":"bing搜索_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@665b86a9b821000","appId":"680ab54f","operationId":"聚合搜索-hL0CqmNi","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","businessInput":[]},"outputs":[{"id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","name":"msg","schema":{"type":"string"}},{"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","name":"result","schema":{"properties":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","name":"summary","type":"string"},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","name":"img","type":"string"},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","name":"domain","type":"string"},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","name":"name","type":"string"},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","name":"is_high_summary","type":"boolean"},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","name":"siteName","type":"string"},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","name":"source","type":"string"},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","name":"type","type":"string"},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","name":"url","type":"string"}],"type":"array-object"}},{"id":"ee0f3baf-d730-4e15-89a8-82096ec46238","name":"rc","schema":{"type":"string"}},{"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","name":"semantic","schema":{"properties":[],"type":"array-string"}},{"id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","name":"total","schema":{"type":"string"}},{"id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","name":"offset","schema":{"type":"string"}},{"id":"f298a826-f008-457f-a571-7f5c667233ef","name":"limit","schema":{"type":"string"}},{"id":"352c596e-8a0a-4046-867f-18cef84950a8","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":558,"id":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","position":{"x":1746.7951417424338,"y":1047.3926901935656},"positionAbsolute":{"x":1746.7951417424338,"y":1047.3926901935656},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"60152619-e4bf-466e-babc-40632f7e84fa","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","nodeId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息_1","nodeType":"基础节点"},"nodeParam":{"template":"\\n\\n{{input}}\\n\\n\\n-----------------------------------------\\n\\n真人音频正在生成中，稍后可直接播放\\n","streamOutput":true,"uid":"20342301088","apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","startFrameEnabled":false,"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"id":"2f5a0aed-d669-40a5-b696-31f9fac465ea","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":551,"id":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","position":{"x":3384.6028572750997,"y":1116.3336003129332},"positionAbsolute":{"x":3384.6028572750997,"y":1116.3336003129332},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"d664d39f-09cd-4c56-af75-b9feb7e6b171","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_2","labelEdit":false,"nodeMeta":{"aliasName":"消息_2","nodeType":"基础节点"},"nodeParam":{"template":"您的需求已收到，{{input}}的讲解正在生成中。。。\\n\\n--------------------------------------------------------\\n\\n","uid":"20342301088","apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","startFrameEnabled":false,"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"id":"7c2f7e36-54bb-4470-9f9a-464fa0ca81b4","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":471,"id":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","position":{"x":1515.462032159482,"y":1849.4734387107674},"positionAbsolute":{"x":1515.462032159482,"y":1849.4734387107674},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合提取变量描述，将上一节点输出的自然语言进行提取","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png","inputs":[{"fileType":"","id":"9329e9bd-8944-4934-8d06-c982782c9413","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"61df8bbe-abd6-4775-bdb6-252016d15558","nodeId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"变量提取器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量提取器","nodeType":"基础节点"},"nodeParam":{"topK":4,"reasonMode":1,"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"18882349618","patchId":"0","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","setAnswerContentErrMsg":"输出中变量名校验不通过,自动生成JSON失败","serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","name":"city","nameErrMsg":"","required":true,"schema":{"description":"用户想要查询的景点所在城市","type":"string"}},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","name":"tourist_spot","nameErrMsg":"","required":true,"schema":{"description":"用户想要查询的景点","type":"string"}}],"references":[{"label":"开始","value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","children":[{"label":"","value":"","references":[{"id":"61df8bbe-abd6-4775-bdb6-252016d15558","originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":531,"id":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","position":{"x":2.519690178623364,"y":1095.8651385816013},"positionAbsolute":{"x":2.519690178623364,"y":1095.8651385816013},"selected":true,"type":"变量提取器","width":594}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","target":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba-plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","target":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee-plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","target":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","target":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba-message::97cc1f2c-639f-4812-8598-b4917cbe0c11","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","target":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::97cc1f2c-639f-4812-8598-b4917cbe0c11-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","target":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["请帮我介绍北京故宫","请帮我介绍北京故宫里的乾清宫","安徽黄山"],"prologueText":"你好，想去哪里玩呢？"},"needGuide":false,"speechToText":{"enabled":true},"textToSpeech":{"enabled":false,"vcn":"x4_lingxiaoying_en"},"feedback":{"enabled":true}}', NULL, 15, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(118640, 18882349618, '680ab54f', '7333756636828512256', '【勿动】MBTI答题模板', 'MBTI答题模板', 0, 0, '2025-05-29 15:30:36', '2025-06-03 14:44:42', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","position":{"x":-704.8207201799614,"y":321.4983544599225},"positionAbsolute":{"x":-704.8207201799614,"y":321.4983544599225},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"6dc3da15-7c2b-482b-b196-b7c1e4e517d3","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"73158f47-80d8-4f5f-9530-e840f967970e","nodeId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"ffb83311-e4c0-4508-bea2-b949a2c8440f","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"297357f8-19bd-4e8c-a857-d2b4a4942807","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f98de607-58dd-48e8-9f1b-9fa6a06d66cd","name":"output4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"7ea7b61a-d171-4ab7-8716-956751cbfd5f","name":"output5","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}\\n{{output2}}\\n{{output3}}\\n{{output4}}\\n{{output5}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"题目1-IorE","value":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","children":[{"label":"","value":"","references":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","originId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目2-SorN","value":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目3-TorF","value":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目4-PorJ","value":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"报告","value":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_14","value":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","children":[{"label":"","value":"","references":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","originId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":817,"id":"node-end::259e2354-3a93-456d-b29d-136cb179570b","position":{"x":5878.523247032056,"y":407.60722512865755},"positionAbsolute":{"x":5878.523247032056,"y":407.60722512865755},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"get","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","name":"round","nameErrMsg":"","refId":"3117fbe9-70ba-4daf-adc0-47831418e19c","required":true,"schema":{"description":"","type":"string"}},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","name":"R1-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","name":"R2-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","name":"R3-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","name":"R4-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":445,"id":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","position":{"x":1005.238474523384,"y":619.2059568637027},"positionAbsolute":{"x":1005.238474523384,"y":619.2059568637027},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"3eba8e04-a13d-4f64-adec-4fc3b11ad57b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"fa71ffaf-07a1-4dbc-8244-c3ca261c55a9","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"开始测试","contentErrMsg":"","type":"literal"}}}],"label":"是否开始测试","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94","conditions":[{"leftVarIndex":"3eba8e04-a13d-4f64-adec-4fc3b11ad57b","rightVarIndex":"fa71ffaf-07a1-4dbc-8244-c3ca261c55a9","id":"","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","position":{"x":221.86465050331958,"y":342.3046923542576},"positionAbsolute":{"x":221.86465050331958,"y":342.3046923542576},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"E","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","position":{"x":3555.1363316974175,"y":360.18854897667177},"positionAbsolute":{"x":3555.1363316974175,"y":360.18854897667177},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"21e5e7c8-758d-4570-bf21-3646e031e37d","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"题目1-IorE","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论中对于人性格外向出一道测试人性格是外向还是内向的情景题，\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n你辛苦工作半年后终于申请到10天长假。朋友提议组织一场「庆祝回归自由」的旅行，你会：\\n\\nA. 主动策划多日狂欢行程：联系民宿包栋，邀请10+朋友参加，安排徒步烧烤派对连轴转\\nB. 发起小众目的地快闪游：在驴友论坛招募陌生人，三天两夜暴走打卡网红景点\\nC. 答应只参与最后两日：前五天宅家补剧打游戏，等人少时再去温泉旅馆发呆\\nD. 婉拒所有邀请：独自飞往雪山小镇，每天在咖啡馆看云、写旅行手账无人打扰\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":844,"id":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","position":{"x":1188.9558338522743,"y":-623.8383891243615},"positionAbsolute":{"x":1188.9558338522743,"y":-623.8383891243615},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"3117fbe9-70ba-4daf-adc0-47831418e19c","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"id":"6a1fe32f-ed1d-4ae1-8cf8-77c5878caba3","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"6c91fd4a-1cc6-406a-b546-0c9600d857e7","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"0c3d1fa8-f22b-43f6-9f8e-dcb597047fd6","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"e31b40b7-9a2c-49e2-9c2b-01af125d3c7f","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"题目1-IorE","value":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","children":[{"label":"","value":"","references":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","originId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":465,"id":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","position":{"x":2634.584748891488,"y":-696.0844235766523},"positionAbsolute":{"x":2634.584748891488,"y":-696.0844235766523},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"58a31bcb-a3c7-49ee-a946-18d74d8d5f7d","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"30266aec-5d4c-4fd2-86db-e77f2e158be1","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"4a197d3b-7ae2-4819-96df-0fc064843c9d","name":"inputae05eb1ccf6a40319de4a7ba635c5260","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"05e5ef86-9927-4483-b741-54b543b13985","name":"input2c5bed9fd4204e8fb4874ee32a3b0491","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"04042c79-cf9a-40e8-b44a-bc848190693a","name":"inputdad4fd48cc064d45be3aca2fbf4f9257","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"71e9216c-35ac-4aae-8d83-0f54833e179b","name":"input696fec66d2e8481fb9987b03dc873c1b","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"a9f3a9d0-acf7-485f-a4ee-5eac40bef5d6","name":"input989feb7650b848179e75106990e65bc0","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"c1c03ada-a4e0-4f5d-b5de-b030153314db","name":"input3225dde72c0240cf8a0076c766771d29","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","conditions":[{"leftVarIndex":"58a31bcb-a3c7-49ee-a946-18d74d8d5f7d","rightVarIndex":"30266aec-5d4c-4fd2-86db-e77f2e158be1","id":"","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","level":2,"logicalOperator":"and","conditions":[{"id":"5f62b35d-fb07-4bd7-ada0-f001e64fd48e","leftVarIndex":"4a197d3b-7ae2-4819-96df-0fc064843c9d","rightVarIndex":"05e5ef86-9927-4483-b741-54b543b13985","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","level":3,"logicalOperator":"and","conditions":[{"id":"eca60e98-4870-4845-96c6-6172d675d922","leftVarIndex":"04042c79-cf9a-40e8-b44a-bc848190693a","rightVarIndex":"71e9216c-35ac-4aae-8d83-0f54833e179b","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d","level":4,"logicalOperator":"and","conditions":[{"id":"e1a000e2-af81-4bdb-a318-b1c941cb659d","leftVarIndex":"a9f3a9d0-acf7-485f-a4ee-5eac40bef5d6","rightVarIndex":"c1c03ada-a4e0-4f5d-b5de-b030153314db","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":838,"id":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","position":{"x":1561.8179343686913,"y":1428.2032542603463},"positionAbsolute":{"x":1561.8179343686913,"y":1428.2032542603463},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目2-SorN","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是实感型还是直觉型的情景题，选项A和B代表实感型，选项C和D代表直觉型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n搬进新家后想改造旧阳台，你更可能：\\nA. 测量尺寸后网购花架，按日照时长排列绿植，用Excel规划浇水周期表\\nB. 参考家居杂志案例，买同款藤编桌椅+遮阳伞，复刻成标准化休闲区\\nC. 把阳台看作“心灵疗愈站”：悬挂风铃和捕梦网，用荧光颜料画星座图营造梦幻夜光\\nD. 拆掉推拉门打通客厅，幻想未来在这里做瑜伽直播，甚至架望远镜观测星云\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":824,"id":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","position":{"x":2703.774897555747,"y":-136.4055768824499},"positionAbsolute":{"x":2703.774897555747,"y":-136.4055768824499},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_2","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","position":{"x":2700.9946940333016,"y":558.2493458135654},"positionAbsolute":{"x":2700.9946940333016,"y":558.2493458135654},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"I","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","position":{"x":3556.9653590123453,"y":535.8233821345532},"positionAbsolute":{"x":3556.9653590123453,"y":535.8233821345532},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","position":{"x":4446.021690588334,"y":467.86221471517774},"positionAbsolute":{"x":4446.021690588334,"y":467.86221471517774},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目3-TorF","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是逻辑型还是情感型的情景题，选项A和B代表逻辑型，选项C和D代表情感型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n你是一家公司的项目经理，负责一个关键项目。团队中的一名成员（小李）连续两次未能按时提交报告，导致项目进度延误。小李平时表现良好，但最近似乎有些分心。作为领导，你会如何处理这种情况？\\n\\nA. 立即组织一次团队会议，分析延误的根本原因（如工作流程或资源问题），并制定新的时间表和责任分工，以确保项目效率。\\nB. 直接与小李进行一对一会谈，基于公司绩效标准明确指出问题，并警告若再发生将影响其绩效考核。\\nC. 私下找小李谈话，询问他是否遇到个人困难（如家庭或健康问题），表达理解和支持，并帮助他调整工作安排。\\nD. 优先考虑团队氛围，避免公开批评小李，而是动员其他成员分担他的任务，并强调合作精神以维护关系。\\n------示例结束----- \\n","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":964,"id":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","position":{"x":2710.3293370715683,"y":1092.8310648309614},"positionAbsolute":{"x":2710.3293370715683,"y":1092.8310648309614},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"S","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_6","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","position":{"x":3600.103588840905,"y":1029.56181992868},"positionAbsolute":{"x":3600.103588840905,"y":1029.56181992868},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"N","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_7","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","position":{"x":3595.1835751543413,"y":1375.2365114277677},"positionAbsolute":{"x":3595.1835751543413,"y":1375.2365114277677},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_8","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","position":{"x":4451.024205375203,"y":1302.3835873441203},"positionAbsolute":{"x":4451.024205375203,"y":1302.3835873441203},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目4-PorJ","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是判断型还是知觉型的情景题，选项A和B代表判断型，选项C和D代表知觉型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n多年未见的挚友突然跨省来访三天，你会：\\nA. 提前两周制定清单：早餐店打卡、博物馆特展、山顶日落时段精确到分钟\\nB. 划分主题日：文化日/美食日/怀旧日，每晚酒店切换不同商圈体验\\nC. 只订首日晚餐，其他时候翻小红书实时找“附近最新爆款推荐”\\nD. 直接带朋友流浪：睡到自然醒，随机搭公交漫游，在陌生小巷发现惊喜\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":804,"id":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","position":{"x":2682.60390704571,"y":1685.7678725632268},"positionAbsolute":{"x":2682.60390704571,"y":1685.7678725632268},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"T","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_9","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","position":{"x":3579.1972638488523,"y":1837.7674796745193},"positionAbsolute":{"x":3579.1972638488523,"y":1837.7674796745193},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"F","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_10","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","position":{"x":3547.0385136222494,"y":2144.7214006239283},"positionAbsolute":{"x":3547.0385136222494,"y":2144.7214006239283},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"J","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_11","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","position":{"x":3498.6606222593064,"y":2489.9203747488737},"positionAbsolute":{"x":3498.6606222593064,"y":2489.9203747488737},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"P","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_12","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","position":{"x":3544.4973995376376,"y":3073.376367557054},"positionAbsolute":{"x":3544.4973995376376,"y":3073.376367557054},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R1-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"ab8232b4-de43-4c2f-9d93-752bb39f4e13","name":"2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R2-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"014cbeda-317f-4b84-946e-91348d030f42","name":"3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R3-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e9e75513-7c41-452d-a016-2f99f9fc18c3","name":"4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","nodeId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","name":"R4-answer"},"contentErrMsg":"","type":"ref"}}}],"label":"报告","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBT测评大师，请根据用户的情况生成MBTI测评报告\\n# 用户情况\\n获取能量方式：{{1}}\\n信息收集方式：{{2}}\\n决策方式：{{3}}\\n生活方式：{{4}}","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_14","value":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","children":[{"label":"","value":"","references":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","originId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":788,"id":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","position":{"x":4973.594360324269,"y":2641.832670216569},"positionAbsolute":{"x":4973.594360324269,"y":2641.832670216569},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_13","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","position":{"x":4543.459862827148,"y":1881.0611530996139},"positionAbsolute":{"x":4543.459862827148,"y":1881.0611530996139},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_3","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","position":{"x":2685.5812155022345,"y":1115.4663518001873},"positionAbsolute":{"x":2685.5812155022345,"y":1115.4663518001873},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_4","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","position":{"x":2765.419563387835,"y":1752.2941394421475},"positionAbsolute":{"x":2765.419563387835,"y":1752.2941394421475},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_5","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","position":{"x":2658.486591889421,"y":2758.7582099557767},"positionAbsolute":{"x":2658.486591889421,"y":2758.7582099557767},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_14","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"get","appId":"680ab54f","flowId":"7333756636828512256"},"outputs":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","name":"R4-answer","nameErrMsg":"","refId":"e31b40b7-9a2c-49e2-9c2b-01af125d3c7f","required":true,"schema":{"description":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":268,"id":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","position":{"x":4338.331296635309,"y":2846.909540285404},"positionAbsolute":{"x":4338.331296635309,"y":2846.909540285404},"selected":false,"type":"变量存储器","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","target":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871-node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","sourceHandle":"branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871","target":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94-spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","sourceHandle":"branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94","target":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd-node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","target":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3-if-else::bdc964e9-0548-4304-b5f2-efba9976323d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","target":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0-spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","target":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::fca34a74-408f-4fef-8d0d-7437c3a279edbranch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0-if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","target":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::fca34a74-408f-4fef-8d0d-7437c3a279edbranch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","target":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","target":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1-spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","target":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","target":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","target":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b-spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","target":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327","target":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","target":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","target":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","target":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","target":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d","target":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::fac0c000-ec13-457c-b420-e954694c6156","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","target":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::fac0c000-ec13-457c-b420-e954694c6156-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","target":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","target":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["开始测试"],"prologueText":""},"needGuide":false}', '{"botId":2898623}', NULL, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(142283, 4403454, '680ab54f', '7342727615581208576', '全学科练习助手', '这是一个类型最全的AI练习助手，输入你想要练习的知识点、学科、专业等类型和题目数量，帮你自动匹配生成试题，或者直接输出选择题题目文本，可直接进行作答练习和查看最终结果。', 0, 0, '2025-06-23 09:38:04', '2025-07-23 09:59:08', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","position":{"x":-755.4882665445671,"y":260.26550654133933},"positionAbsolute":{"x":-755.4882665445671,"y":260.26550654133933},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"afe69699-3242-4265-a9ee-d6f5a0a9c481","name":"output","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","nodeId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"75e5b2bf-562e-4620-8fb1-f6a277750e4e","name":"score","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","nodeId":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","name":"score"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"您总共答对{{score}} 题，你作答的答案是：\\n{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"代码_2","value":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","children":[{"label":"","value":"","references":[{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","originId":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","label":"score","value":"score","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"迭代_1","value":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","children":[{"label":"","value":"","references":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","originId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","label":"output","value":"output","type":"array-string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","position":{"x":4964.745878106895,"y":334.21949765814657},"positionAbsolute":{"x":4964.745878106895,"y":334.21949765814657},"selected":true,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"b53e4ca5-494e-4c1e-be95-65cea9a65b5f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","nodeId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"用户输入的内容是：{{input}} ，首先判断用户输入的内容是选择题题目详细信息还是一个主题或者一个题目分类，根据类别生成不同的内容。\\n\\n#如果用户输入的详细完整的题目信息，要按照给定的示例格式输出，不要有多余的例如``````json、`````` 这类格式标签，不需要解释和说明。题目选项的个数按照实际的题目中的选项数量来解析，例如原题中没有D项，则不需要给出。\\n\\n#如果不是具体的完整题目信息，请围绕用户输入的主题，生成选择题。要求如下：\\n1. 如果用户输入的主题中有题数限制，则生成用户要求的数量，如果没有明确说明，默认生成5道。\\n2. 5题的难度依次升高，但是不能超出用户要求的主题范围；\\n3. 要和用户的主题紧密相关，并且选择题能够反映出主题；\\n4. 每个选择题有四个选项，正确答案只有1个，要给出正确答案；\\n5. 题目、选项不能有重复；\\n6. 要按照给定的示例格式输出，不要有多余的例如``````json、``````这类格式标签，不需要解释和说明；\\n7. 无标准答案的题目，answer为空字符串即可。\\n8. 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n\\n#字段解释如下：\\nquestion： 题干内容\\nanswer：该题的正确答案\\nA：A选项的内容\\nB：B选项的内容\\nC：C选项的内容\\nD：D选项的内容\\n\\n#输出示例如下：\\n[{ \\"question\\": \\"【三打白骨精】<br/>白骨精三次化为人形离间师徒，唐僧肉眼凡胎，误信白骨精幻化的老弱妇孺，误以为你滥杀无辜、将你赶走，你的做法是？ \\", \\"answer\\": \\"C\\", \\"A\\":\\"一棒打晕唐僧，冲上凌霄殿质问玉帝，“能不能换个明点事理的去取经啊？”\\", \\"B\\":\\"用混天绫捆住白骨精跳激光雨，“来！给这老秃驴直播现原形！”\\", \\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" ,\\"D\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\"},{\\n\\"question\\": \\"【三打白骨精】<br/>白骨精三次化为人形离间师徒，唐僧肉眼凡胎，误信白骨精幻化的老弱妇孺，误以为你滥杀无辜、将你赶走，你的做法是？ \\", \\"answer\\": \\"C\\", \\"A\\":\\"一棒打晕唐僧，冲上凌霄殿质问玉帝，“能不能换个明点事理的去取经啊？”\\", \\"B\\":\\"用混天绫捆住白骨精跳激光雨，“来！给这老秃驴直播现原形！”\\", \\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" ,\\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\",\\"D\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" }]","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4403454","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1216,"id":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","position":{"x":908.5235874016475,"y":-73.28703327637106},"positionAbsolute":{"x":908.5235874016475,"y":-73.28703327637106},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"1737baa0-e109-4bce-9234-b91e28c200e6","name":"jsonstr","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","nodeId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"# coding=utf-8\\nimport json  \\n  \\ndef main(jsonstr):  \\n    # 解析JSON数组字符串为Python列表  \\n    json_array = json.loads(jsonstr)\\n    return {\\"question\\":json_array}","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","name":"question","nameErrMsg":"","schema":{"default":"","properties":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","name":"question","required":false,"type":"string"},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","name":"answer","required":false,"type":"string"},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","name":"A","required":false,"type":"string"},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","name":"B","required":false,"type":"string"},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","name":"C","required":false,"type":"string"},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","name":"D","required":false,"type":"string"}],"type":"array-object"}}],"references":[{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1025,"id":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","position":{"x":1678.9145298660787,"y":2.7831123481928444},"positionAbsolute":{"x":1678.9145298660787,"y":2.7831123481928444},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","nodeId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","name":"question"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","IterationStartNodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","appId":"680ab54f"},"outputs":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1647,"id":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":2484.376105942361,"y":-157.14953588812838},"positionAbsolute":{"x":2484.376105942361,"y":-157.14953588812838},"selected":false,"type":"迭代","width":1524},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"aca49976-ab17-4cdf-beab-ca7bf24c25ba","name":"questions","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","nodeId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","name":"question"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"018450af-f9e3-4364-ac38-0df201e3aedf","name":"user_answers","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","nodeId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_2","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"def main(questions, user_answers):\\n    \\"\\"\\"\\n    计算选择题得分。\\n    :param questions: 选择题对象数组，每个对象有answer字段\\n    :param user_answers: 用户作答选项的字符串数组\\n    :return: 总得分（int）\\n    \\"\\"\\"\\n    score = 0\\n    for i, question in enumerate(questions):\\n        if i < len(user_answers):\\n            if question.get(''answer'') == user_answers[i]:\\n                score += 1\\n    return {\\"score\\":score}","appId":"680ab54f","codeErrMsg":""},"outputs":[{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","name":"score","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"references":[{"label":"迭代_1","value":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","children":[{"label":"","value":"","references":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","originId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","label":"output","value":"output","type":"array-string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":793,"id":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","position":{"x":4140.021099911932,"y":259.67088331990954},"positionAbsolute":{"x":4140.021099911932,"y":259.67088331990954},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"b90d1def-1db6-487a-88ab-5461b71b9893","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","nodeId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息","nodeType":"基础节点"},"nodeParam":{"template":"正在为您努力生成试题，请稍后......","uid":"4403454","templateErrMsg":"","appId":"680ab54f","startFrameEnabled":false},"outputs":[{"id":"eeb8aa62-6794-4b71-9555-d28318e2ee77","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":463,"id":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","position":{"x":163.38484286986795,"y":211.36337534411757},"positionAbsolute":{"x":163.38484286986795,"y":211.36337534411757},"selected":false,"type":"消息","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"originPosition":{"x":-1043.7988706069912,"y":301.40498370158963},"outputs":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","name":"input","nameErrMsg":"","schema":{"default":"","type":"object"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":30,"y":697.6301114989786},"positionAbsolute":{"x":-1043.7988706069912,"y":301.40498370158963},"selected":false,"type":"开始节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"15e80ec5-430f-4bde-86b3-adf73d74f270","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","nodeId":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","name":"user_answer"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"","outputMode":0},"originPosition":{"x":3810.7841862606447,"y":266.58830890737204},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"变量存储器_4","value":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","children":[{"label":"","value":"","references":[{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","originId":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","label":"user_answer","value":"user_answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":1243.645764216909,"y":688.9259428004243},"positionAbsolute":{"x":3810.7841862606447,"y":266.58830890737204},"selected":false,"type":"结束节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_1","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"id":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","name":"C","type":2,"content":"{{input.C}}","content_type":"string","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1343.0227675494302,"y":-125.97372402962708},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":626.7054095391054,"y":590.7854345661744},"positionAbsolute":{"x":1343.0227675494302,"y":-125.97372402962708},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"e02110bb-50ad-4701-820c-df445bbe300d","name":"question","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"# -*- coding: utf-8 -*-\\nimport json\\nimport re\\ndef main(question):\\n    length = len(question) - 2\\n    ret = {\\n        \\"length\\": length\\n    }\\n    return ret","appId":"680ab54f","codeErrMsg":""},"originPosition":{"x":-263.58635358811824,"y":16.425329604141382},"outputs":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","name":"length","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":225.05312925471821,"y":626.3851979746166},"positionAbsolute":{"x":-263.58635358811824,"y":16.425329604141382},"selected":false,"type":"代码","width":86,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"9646a6c8-6dcf-400d-b617-3fc8413c9fcd","name":"input","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"4dacf706-d79a-4da8-9214-ceb2e194f637","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"61095f0b-68fa-4fd9-a875-2027b8e158b9","name":"input801a067ab734443d9a8e05a617fdd699","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"d050bed6-b307-48d3-94d2-f3fd714cadd9","name":"input6e9b9f916e7444b396dbc6d13cf6aaf2","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"d32cd6d1-5cbf-4225-a063-a66c25bdf9e8","name":"input0065a384b0f54e7681842de61fb109cd","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"3c5566c5-b214-4f2f-a0c8-9f81fc831e12","name":"inpute0f25febe7d4433fac0dc36a5738757b","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"4403454","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be","conditions":[{"leftVarIndex":"9646a6c8-6dcf-400d-b617-3fc8413c9fcd","rightVarIndex":"4dacf706-d79a-4da8-9214-ceb2e194f637","id":"","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78","level":2,"logicalOperator":"and","conditions":[{"id":"d47c9ef9-0975-4fab-a51d-4023c55c6c93","leftVarIndex":"61095f0b-68fa-4fd9-a875-2027b8e158b9","rightVarIndex":"d050bed6-b307-48d3-94d2-f3fd714cadd9","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887","level":3,"logicalOperator":"and","conditions":[{"id":"cf57f7af-5fbf-440b-8562-e66e039206ec","leftVarIndex":"d32cd6d1-5cbf-4225-a063-a66c25bdf9e8","rightVarIndex":"3c5566c5-b214-4f2f-a0c8-9f81fc831e12","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db","conditions":[]}],"appId":"680ab54f"},"originPosition":{"x":463.0793143112214,"y":42.100229686336064},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":406.71954622955315,"y":632.8039229951653},"positionAbsolute":{"x":463.0793143112214,"y":42.100229686336064},"selected":false,"type":"分支器","width":102,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_2","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1315.7497622371288,"y":-1169.115462294325},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":619.88715821103,"y":330},"positionAbsolute":{"x":1315.7497622371288,"y":-1169.115462294325},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_3","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"id":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","name":"C","type":2,"content":"{{input.C}}","content_type":"string","contentErrMsg":""},{"id":"option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92","name":"D","type":2,"content":"{{input.D}}","content_type":"string","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1335.4980552406973,"y":980.6561041034607},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":624.8242314619222,"y":867.4428915994464},"positionAbsolute":{"x":1335.4980552406973,"y":980.6561041034607},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"680ab54f","flowId":"7342727615581208576"},"originPosition":{"x":2252.118707919993,"y":-257.2294867946777},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":853.9793946317461,"y":557.9714938749119},"positionAbsolute":{"x":2252.118707919993,"y":-257.2294867946777},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"680ab54f","flowId":"7342727615581208576"},"originPosition":{"x":2257.1548802471434,"y":133.53992994766463},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":855.2384377135336,"y":655.6638480604975},"positionAbsolute":{"x":2257.1548802471434,"y":133.53992994766463},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"680ab54f","flowId":"7342727615581208576"},"originPosition":{"x":2260.3404476273345,"y":570.3161227352986},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":856.0348295585814,"y":764.8578962574059},"positionAbsolute":{"x":2260.3404476273345,"y":570.3161227352986},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"get","appId":"680ab54f","flowId":"7342727615581208576"},"originPosition":{"x":2980.057566327672,"y":260.4397828523232},"outputs":[{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","name":"user_answer","nameErrMsg":"","refId":"f76bdff9-aa7b-4883-9168-2303de521d3f","required":true,"schema":{"description":"","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":1035.9641092336658,"y":687.3888112866621},"positionAbsolute":{"x":2980.057566327672,"y":260.4397828523232},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"77b8cf43-4986-4545-becb-48fa203fbcde","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"题目有误！","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"680ab54f","flowId":"7342727615581208576"},"originPosition":{"x":1384.027567161294,"y":2127.7718556588466},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":636.9566094420713,"y":1154.2218294882928},"positionAbsolute":{"x":1384.027567161294,"y":2127.7718556588466},"selected":false,"type":"变量存储器","width":134,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0-ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","target":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744-iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","target":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a-ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","target":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa-node-end::4a191fd0-23d3-423c-9325-994e75e3b143node-end::4a191fd0-23d3-423c-9325-994e75e3b143","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","target":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","targetHandle":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::0df6eec7-ad63-4e94-ab08-2783750dd1f4-spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","target":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39-ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","target":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","target":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78","target":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be","target":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887-question-answer::b96444c1-add1-418e-a685-94c6f5a42983","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887","target":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a7881954-60ee-40b3-9593-af01822afffc-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe-iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","target":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","targetHandle":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db-node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db","target":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0-message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","target":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', -1, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["十以内加减法5题","Java面试题","驾考科目一10题"],"prologueText":"我是AI考试官，请说出你想测试的题目类型和题数，即可在线AI练习、考试。"},"needGuide":false}', '{"botId":2958065}', 17, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(177701, 18882349618, '680ab54f', '7358380736721018880', '【模板勿动】模拟面试官', '模拟面试官', 0, 0, '2025-08-05 14:18:05', '2025-09-02 17:28:52', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["pdf"],"customParameterType":"xfyun-file","fileType":"file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","name":"resume_file","nameErrMsg":"","required":false,"schema":{"default":"简历附件","properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":295,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":0,"y":934.8240716116768},"positionAbsolute":{"x":-1265.2271275425514,"y":2542.531563288816},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"61310cff-d526-4232-874d-f60d9136baad","nodeId":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":true,"apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":1,"reasoningTemplate":"\\n"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","id":"61310cff-d526-4232-874d-f60d9136baad","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试评价","parentNode":true,"value":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb"},{"children":[{"references":[{"originId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":615,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":10378.574940031218,"y":851.2992673147895},"positionAbsolute":{"x":10378.574940031218,"y":851.2992673147895},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"pdf","id":"5ac0d31b-a1d9-4bdb-bfbe-1aa2be4d3014","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"resume_file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"93992760-d22b-4549-8d2d-5d36876ad81c","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}}],"label":"简历是否上传","labelEdit":false,"nodeMeta":{"aliasName":"简历是否上传","nodeType":"分支器"},"nodeParam":{"uid":"4493076350","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","conditions":[{"leftVarIndex":"5ac0d31b-a1d9-4bdb-bfbe-1aa2be4d3014","rightVarIndex":"93992760-d22b-4549-8d2d-5d36876ad81c","compareOperatorErrMsg":"","id":"","compareOperator":"not_empty"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","position":{"x":919.5420769498642,"y":896.8903176659413},"positionAbsolute":{"x":919.5420769498642,"y":896.8903176659413},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"1905e361-c74a-4cf4-896a-879d0d1f6ad5","name":"resume_info","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.ocr_result","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","nodeId":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},"contentErrMsg":"","type":"ref"}}}],"label":"简历关键信息提取","labelEdit":false,"nodeMeta":{"aliasName":"简历关键信息提取","nodeType":"基础节点"},"nodeParam":{"template":"## 角色定义\\n你是一个专业的简历解析引擎，专门从非结构化的简历文本{{resume_info}}中提取关键信息，并将其转换为高度结构化的JSON格式。你的输出将直接用于后续的面试问题生成系统。\\n\\n## 核心能力\\n1. 智能信息提取：\\n   - 采用多层级解析技术识别简历中的关键字段\\n   - 对模糊表述进行智能推断（如\\"近期\\"转换为具体时间段）\\n   - 自动补全隐含信息（如\\"本科\\"默认对应\\"学士学位\\"）\\n\\n## 输出规范\\n{\\n  \\"personal_info\\": {\\n    \\"name\\": \\"张三\\",\\n    \\"contact\\": {\\n      \\"phone\\": \\"13800138000\\",\\n      \\"email\\": \\"zhangsan@email.com\\",\\n      \\"location\\": \\"北京\\"\\n    },\\n    \\"job_target\\": \\"高级Java开发工程师\\"\\n  },\\n  \\"education\\": [\\n    {\\n      \\"institution\\": \\"清华大学\\",\\n      \\"degree\\": \\"硕士\\",\\n      \\"major\\": \\"计算机科学与技术\\",\\n      \\"time_range\\": \\"2015.09-2018.06\\",\\n      \\"honors\\": [\\"优秀毕业生\\"]\\n    }\\n  ],\\n  \\"work_experience\\": [\\n    {\\n      \\"company\\": \\"字节跳动\\",\\n      \\"position\\": \\"高级软件工程师\\",\\n      \\"time_range\\": \\"2019.07-至今\\",\\n      \\"responsibilities\\": [\\n        \\"负责抖音支付系统架构设计\\",\\n        \\"日处理交易量提升300%\\"\\n      ],\\n      \\"tech_stack\\": [\\"Java\\", \\"Spring Cloud\\", \\"Kafka\\"]\\n    }\\n  ],\\n  \\"projects\\": [\\n    {\\n      \\"name\\": \\"智能客服系统\\",\\n      \\"role\\": \\"技术负责人\\",\\n      \\"time_range\\": \\"2020.03-2021.05\\",\\n      \\"description\\": \\"基于NLP的智能问答系统\\",\\n      \\"achievements\\": [\\n        \\"响应时间从5s降至800ms\\",\\n        \\"准确率提升至92%\\"\\n      ]\\n    }\\n  ],\\n  \\"skills\\": {\\n    \\"technical\\": [\\n      {\\"name\\": \\"Java\\", \\"level\\": \\"精通\\"},\\n      {\\"name\\": \\"MySQL\\", \\"level\\": \\"熟练\\"}\\n    ],\\n    \\"language\\": [\\n      {\\"name\\": \\"英语\\", \\"level\\": \\"CET-6\\"}\\n    ]\\n  }\\n}\\n## 质量控制\\n  - 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n  - 完整性检查：确保每个模块必填字段完整\\n  - 时间轴校验：自动检测时间冲突或重叠\\n  - 敏感信息过滤：自动脱敏联系方式等隐私信息\\n  - 标准化输出：所有日期统一为\\"YYYY.MM\\"格式","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"auditing":"default","remark":"根据简历提取文本，提炼关键信息","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"\\n","respFormat":0},"outputs":[{"id":"e714d620-5c18-4551-802b-e4612cd33cff","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"}],"status":"","updatable":false},"dragging":false,"height":1209,"id":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","position":{"x":3962.836503611704,"y":-9.040091039424794},"positionAbsolute":{"x":3962.836503611704,"y":-9.040091039424794},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"b5f9cab6-1398-4b81-9fcd-b45267b3a1fe","name":"interview_params","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"interview_params","id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","nodeId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"acdde8d8-e035-4fb3-853c-e66bb703deba","name":"resume_info","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"resume_info","id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","nodeId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f"},"contentErrMsg":"","type":"ref"}}}],"label":"面试题生成助理","labelEdit":false,"nodeMeta":{"aliasName":"面试题生成助理","nodeType":"基础节点"},"nodeParam":{"template":"## 角色\\n你是一个专业级面试题生成引擎，基于多维参数智能构建结构化面试题库。根据候选人画像{{resume_info}}和面试参数{{interview_params}}，生成精准匹配的评估体系。\\n\\n## 输入参数处理\\n1. 场景解析引擎：\\n   - 识别{{interview_params}}场景类型（技术面/HR面/高管面/压力面）\\n   - 自动匹配该场景的题目权重分布（技术面70%技术题/20%行为题/10%情景题）\\n2. 公司画像匹配：\\n   - 分析{{interview_params}}公司类型（互联网大厂/外企/创业公司/国企）\\n   - 加载对应题库特征（大厂重算法/外企重系统设计/创业公司重全栈能力）\\n3. 难度控制系统：\\n   - 解析{{interview_params}}难度等级（1-10级）\\n   - 自动调节：\\n     - 问题深度（L1:概念题 → L10:架构设计）\\n     - 开放程度（封闭问答 → 发散思考）\\n     - 综合维度（单点知识 → 多领域交叉）\\n\\n## 候选人画像分析\\n1. **个人信息深度解析**：\\n   - 提取{{resume_info}}中的：\\n     - 职业发展阶段（应届生/中级/资深）\\n     - 目标岗位匹配度（核心职能/边缘职能）\\n     - 职业轨迹分析（行业连续性/转型幅度）\\n2. **目标岗位映射**：\\n   - 解析{{resume_info.job_target}}：\\n     - 岗位类型（技术/产品/管理）\\n     - 职级要求（P6/P7/M1等）\\n     - 核心能力需求（技术深度/管理广度）\\n3. **教育背景评估**：\\n   - 分析{{resume_info.education}}：\\n     - 院校层级（985/211/海外名校）\\n     - 专业相关性（科班/转专业）\\n     - 学术表现（GPA/荣誉/论文）\\n     - 教育轨迹（本硕博连贯性/间隔情况）\\n4. 工作经验解构：\\n   - 分析{{resume_info.work_experience}}中的：\\n     - 职级梯度（Junior/Senior/Lead）\\n     - 领域专注度（垂直领域/跨领域）\\n     - 成就指标（项目规模/技术难点）\\n5. 项目经验挖掘：\\n   - 从{{resume_info.projects}}提取：\\n     - 技术亮点（架构设计/性能优化）\\n     - 角色权重（参与者/主导者）\\n     - 复杂度（日活量级/技术组合）\\n6. 技术栈映射：\\n   - 对{{resume_info.skills}}进行：\\n     - 技能树构建（核心技能/辅助技能）\\n     - 熟练度匹配（了解/熟悉/精通）\\n     - 技术生态关联（主语言对应框架/工具链）\\n\\n## 技能\\n1. 根据用户提供的参数生成面试题：\\n  - 根据用户指定的场景，生成符合该场景的面试题。\\n  - 根据用户指定的公司类型，生成符合该公司类型的面试题。\\n  - 根据用户指定的难度等级，生成相应难度的面试题。\\n  - 根据用户的工作经验，生成符合该工作经验的面试题。\\n  - 根据用户的项目经验，生成符合该项目经验的面试题。\\n  - 根据用户的技术栈，生成符合该技术栈的面试题。\\n  - 根据用户指定的面试时长{{interview_params}}，预估并控制总题数和作答时间。\\n  - 确保题目类型混合，包括开放性问答、场景分析、技术细节、行为/产品思路等。\\n2. 输出格式化的面试题：\\n  - 将生成的面试题以JSON数组格式输出，每道题包含question_id、content、category、difficulty、estimated_time和evaluation_focus字段。\\n  - 确保输出仅包含JSON，不带任何额外说明文字。\\n  - 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n输出结果示例如下：\\n[\\n    {\\n      \\"question_id\\": \\"[岗位缩写_序号，如algo_001]\\",\\n      \\"content\\": \\"[具体题目内容，150字以内]\\",\\n      \\"category\\": \\"[专业知识/技术能力/项目经验/思维能力/软技能]\\",\\n      \\"difficulty\\": \\"[1-10的整数分值]\\",\\n      \\"estimated_time\\": \\"[预估回答时间，如2-3分钟]\\",\\n      \\"evaluation_focus\\": \\"[主要考察点，20字以内]\\"\\n    },\\n  ]\\n\\n## 智能组题算法\\n1. 题型配比引擎：\\n   - 基础题（30%）：概念验证型\\n   - 进阶题（50%）：场景应用题 \\n   - 开放题（20%）：策略思考题\\n\\n2. 时间动态规划：\\n   - 根据{{interview_params}}面试时长：\\n     - 短面试（30分钟）：8-10题（含2道深度题）\\n     - 标准面试（60分钟）：15-18题（含5道综合题）\\n     - 长面试（90分钟）：25-30题（含技术方案设计）\\n\\n3. 难度曲线控制：\\n   - 开场题（难度-2）\\n   - 核心考察区（难度+3）\\n   - 压轴题（难度峰值）\\n## 限制\\n- 只讨论与面试题生成相关的内容，拒绝回答与面试题生成无关的话题。\\n- 严格按照用户提供的参数生成面试题，不超出范围。\\n- 题干要贴合所选场景和公司类型，确保题目的实际适用性。\\n- 控制题量和预估作答时间总和接近用户指定时长，确保面试流程的合理性。\\n- 输出仅包含JSON格式的面试题，不添加任何额外说明或文本。\\n- 输出的json格式不能有 ``````json、`````` 这类格式标签。","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"auditing":"default","remark":"根据简历信息和面试场景信息，使用大模型节点生成面试题","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"\\n","respFormat":0},"outputs":[{"id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1297,"id":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","position":{"x":5998.658853585624,"y":542.487448283948},"positionAbsolute":{"x":5998.658853585624,"y":542.487448283948},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"dbc47722-4815-491e-b4d3-a5e8f43d8f03","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","nodeId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"},"contentErrMsg":"","type":"ref"}}}],"label":"提取面试场景信息","labelEdit":false,"nodeMeta":{"aliasName":"提取面试场景信息","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"def main(input):\\n    interview_params = input.split(\\";\\")\\n    # ret = {\\n    #     \\"key0\\": info[0],\\n    #     \\"key1\\": info[1],\\n    #     \\"key2\\": info[2],\\n    #     \\"key3\\": info[3]\\n    # }\\n    return {\\"interview_params\\":interview_params}\\n    # return interview_params","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"outputs":[{"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","name":"interview_params","nameErrMsg":"","schema":{"default":"","properties":[],"type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":796,"id":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","position":{"x":4541.546157938041,"y":1530.063391350784},"positionAbsolute":{"x":4541.546157938041,"y":1530.063391350784},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"5fd9175e-f29b-4a33-bfbc-198cf1808d7f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"e714d620-5c18-4551-802b-e4612cd33cff","nodeId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},"contentErrMsg":"","type":"ref"}}}],"label":"提取简历关键信息","labelEdit":false,"nodeMeta":{"aliasName":"提取简历关键信息","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"import json\\n\\n# 提取简历中的工作经验、项目经验和技术栈信息\\n# 参数:\\n#   input: string类型，包含简历信息的JSON字符串\\n# 返回:\\n#   dict类型，包含三个键: workExperience(工作经验), projectExperience(项目经验), techStack(技术栈)\\ndef main(input):\\n    return json.loads(input)\\n    # try:\\n        \\n    #     # resume_data = json.loads(input)\\n    #     # 去除字符串开头和结尾的``````json和``````\\n    #     json_str = input.replace(\\"``````json\\", \\"\\").replace(\\"``````\\", \\"\\")\\n    #     resume_data = json.loads(json_str)\\n    #     # 尝试解析清理后的JSON字符串\\n\\n    #     # 提取个人信息\\n    #     personal_info = resume_data.get(''personal_info'',{})\\n\\n    #     # 提取目标岗位\\n    #     job_target = resume_data.get(''job_target'', '''')\\n\\n    #     # 提取教育背景\\n    #     education = resume_data.get(''education'', [])\\n        \\n    #     # 提取工作经验\\n    #     work_experience = resume_data.get(''workExperience'', [])\\n        \\n    #     # # 提取项目经验\\n    #     project_experience = resume_data.get(''projects'', [])\\n        \\n    #     # # 提取技术栈\\n    #     skills = resume_data.get(''skills'', {})\\n       \\n        \\n    #     # ret = {\\n    #     # # 工作经验\\n    #     # \\"workExperience\\": work_experience,\\n    #     # \\"projects\\": project_experience,\\n    #     # \\"skills\\": skills,\\n    #     # }\\n    #     ret = {\\n    #     # 工作经验\\n    #     \\"workExperience\\": json.dumps(work_experience, ensure_ascii=False),\\n    #     \\"projects\\": json.dumps(project_experience, ensure_ascii=False),\\n    #     \\"skills\\": json.dumps(skills, ensure_ascii=False),\\n    #     }\\n    #     return ret\\n    # except json.JSONDecodeError:\\n    #     return {''error'': ''Invalid JSON input''}\\n","apiKey":"7b709739e8da44536127a333c7603a83","remarkVisible":true,"appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","remark":"使用代码节点，整理提取出来的关键信息","codeErrMsg":""},"outputs":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","name":"resume_info","nameErrMsg":"","schema":{"default":"","properties":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","name":"personal_info","properties":[{"id":"6288194e-c473-470c-97e3-781294a83957","name":"name","required":false,"type":"string"},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","name":"contact","properties":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","name":"phone","required":false,"type":"string"},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","name":"email","required":false,"type":"string"},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","name":"location","required":false,"type":"string"}],"required":false,"type":"object"}],"required":false,"type":"object"},{"id":"40a8d259-69de-4e11-b2f6-987610776811","name":"job_target","required":false,"type":"string"},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","name":"education","properties":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","name":"institution","required":false,"type":"string"},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","name":"degree","required":false,"type":"string"},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","name":"major","required":false,"type":"string"},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","name":"time_range","required":false,"type":"string"},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","name":"honors","properties":[],"required":false,"type":"array-string"}],"required":false,"type":"array-object"},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","name":"work_experience","properties":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","name":"company","required":false,"type":"string"},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","name":"position","required":false,"type":"string"},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","name":"time_range","required":false,"type":"string"},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","name":"responsibilities","properties":[],"required":false,"type":"array-string"},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","name":"tech_stack","properties":[],"required":false,"type":"array-string"}],"required":false,"type":"array-object"},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","name":"projects","properties":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","name":"name","required":false,"type":"string"},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","name":"role","required":false,"type":"string"},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","name":"time_range","required":false,"type":"string"},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","name":"description","required":false,"type":"string"},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","name":"achievements","required":false,"type":"string"}],"required":false,"type":"array-object"},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","name":"skills","properties":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","name":"technical","properties":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","name":"name","required":false,"type":"string"},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","name":"level","required":false,"type":"string"}],"required":false,"type":"object"},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","name":"language","properties":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","name":"name","required":false,"type":"string"},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","name":"level","required":false,"type":"string"}],"required":false,"type":"array-object"}],"required":false,"type":"object"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"}],"status":"","updatable":false},"dragging":false,"height":2036,"id":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","position":{"x":4901.2124328851305,"y":-694.1670926628964},"positionAbsolute":{"x":4901.2124328851305,"y":-694.1670926628964},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"图片或pdf文件的url地址","disabled":false,"id":"fec17bc5-01d2-458e-bee7-641256e79280","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"resume_file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"description":"当传入的是pdf链接，表示页码开始范围，-1表示全部页码，从0开始；图片链接不影响该值输入","disabled":false,"id":"77c333d6-6c07-4aa9-b6dd-a2c2f7b95a59","name":"page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"-1","contentErrMsg":"","type":"literal"}}},{"description":"当传入的是pdf链接，表示页码结束范围，-1表示全部页码，从0开始；图片链接不影响该值输入","disabled":false,"id":"2f5cf4b4-17bc-47d2-9012-cf8f17e31fdc","name":"page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"-1","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"简历文本提取","labelEdit":false,"nodeMeta":{"aliasName":"简历文本提取","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"","toolDescription":"识别图片或PDF文件中的文字内容，目前支持PDF,PNG,JPG","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@736928b7e421000","remarkVisible":true,"appId":"680ab54f","operationId":"传统OCR-MYIwPKpK","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","remark":"使用OCR工具，提取用户上传的简历文本","businessInput":[]},"outputs":[{"id":"5fc3607d-5049-4fa6-be67-de9f4022467f","name":"sid","schema":{"type":"string"}},{"id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","name":"code","schema":{"type":"integer"}},{"id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","name":"message","schema":{"type":"string"}},{"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","name":"data","schema":{"properties":[{"id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","name":"ocr_result","type":"string"},{"id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","name":"ocr_result_json","properties":[],"type":"array-object"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":542,"id":"plugin::ae696e1d-9976-432c-a373-95c59a589932","position":{"x":2149.8034109708587,"y":414.863896739104},"positionAbsolute":{"x":2149.8034109708587,"y":414.863896739104},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"75b65787-a99f-45b2-9e10-f75d774a89ce","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"面试场景提取","labelEdit":false,"nodeMeta":{"aliasName":"面试场景提取","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 你是一个面试场景提取专家，根据用户的问题描述{{input}}，匹配合适的岗位，公司类型，难度等级和面试时长\\n## 技能\\n1.根据用户的描述，提取面试的目标岗位名称\\n2.根据用户的描述，提取面试的目标公司类型，如果没有，则默认为科技互联网企业\\n3.根据用户的描述，提取面试的难度等级（初级应届生，中级1-3年，高级3-5年），没有则默认初级应届生\\n4.根据用户的描述，提取面试时长（15分钟快速面试，30分钟标准面试，45分钟深度面试），没有则默认15分钟快速面试\\n## 目标\\n根据用户的描述提取出合适的面试场景，按照岗位;公司类型;难度等级;面试时长结构输出，输出结果为普通字符串用英文分号分隔，例如算法工程师;科技互联网;初级（应届生）;15分钟（快速练习）\\n## 限制\\n- 输出必须严格按照岗位;公司类型;难度等级;面试时长结构输出字符串\\n- 不要输出与面试场景无关的信息，返回前确认输出的格式是否有误\\n- 检查输出的分隔符是否是英文分号;，修复后再输出","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"systemTemplate":"\\n","model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1119,"id":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","position":{"x":3069.263017157944,"y":1429.9540026083093},"positionAbsolute":{"x":3069.263017157944,"y":1429.9540026083093},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"f308eb4a-569e-4213-839e-a7e71031cdbe","name":"jsonstr","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","nodeId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码_1","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"# coding=utf-8\\nimport json  \\n  \\ndef main(jsonstr):  \\n    # 解析JSON数组字符串为Python列表  \\n    json_array = json.loads(jsonstr)\\n    return {\\"question\\":json_array}","apiKey":"7b709739e8da44536127a333c7603a83","remarkVisible":true,"appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","remark":"使用代码节点将文本格式的面试题转化为json数组","codeErrMsg":""},"outputs":[{"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","name":"question","nameErrMsg":"","schema":{"default":"","properties":[{"id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","name":"question_id","required":false,"type":"string"},{"id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","name":"content","required":false,"type":"string"},{"id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","name":"category","required":false,"type":"string"},{"id":"e131c382-4eff-43de-962b-32a05fd37b0b","name":"difficulty","properties":[],"required":false,"type":"integer"},{"id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","name":"estimated_time","required":false,"type":"string"},{"id":"3780f40a-8e5b-4d95-8213-2a0788286299","name":"evaluation_focus","required":false,"type":"string"}],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1042,"id":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","position":{"x":6892.7377968215305,"y":705.819321352796},"positionAbsolute":{"x":6892.7377968215305,"y":705.819321352796},"selected":true,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"84e04d09-cbd3-4807-b500-41713097e9e5","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"question","id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","nodeId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代_1","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","apiKey":"7b709739e8da44536127a333c7603a83","IterationStartNodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","remarkVisible":true,"appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","remark":"输入到迭代节点。在迭代节点中，先使用问答节点实现面试题的多轮问答，再使用变量存储器获取每轮面试题的回答。"},"outputs":[{"id":"77a0f579-1e54-433d-9392-d4f235ffa9be","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"}],"status":"","updatable":false},"dragging":false,"height":1252,"id":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":7770.495412059705,"y":538.9578353705235},"positionAbsolute":{"x":7770.495412059705,"y":538.9578353705235},"selected":false,"type":"迭代","width":1507},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"4c620c66-a9fa-46d2-ba16-183bf4bc5187","name":"answer","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"output","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","nodeId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3e2c98ea-b20e-4348-ae48-3975796d2492","name":"question","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"question","id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","nodeId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},"contentErrMsg":"","type":"ref"}}}],"label":"面试评价","labelEdit":false,"nodeMeta":{"aliasName":"面试评价","nodeType":"基础节点"},"nodeParam":{"template":"你是一位资深的面试分析专家和职业发展顾问，拥有多年的招聘和人才评估经验。请根据面试题目{{question}}和面试回答内容{{answer}} ，对我刚完成的模拟面试进行全面、客观、建设性的分析和反馈。","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"auditing":"default","remark":"根据用户回答，生成面试评价","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"# 角色定义\\n你是一位资深的面试分析专家和职业发展顾问，拥有多年的招聘和人才评估经验。你的任务是对用户刚完成的模拟面试进行全面、客观、建设性的分析和反馈。\\n# 核心职责\\n深度分析面试表现：从多个维度评估候选人的面试表现\\n提供具体反馈：给出详细、可操作的改进建议\\n制定提升计划：为用户量身定制面试技能提升方案\\n鼓励与指导并重：在指出不足的同时，积极鼓励并突出亮点\\n\\n# 分析维度框架\\n1. 技术能力评估 (35%)\\n专业知识掌握度：基础概念理解、深度技能展示\\n问题解决能力：思路清晰度、解决方案的创新性\\n技术表达能力：能否用简洁语言解释复杂技术概念\\n实战经验体现：项目经验的真实性和深度\\n\\n2. 沟通表达能力 (25%)\\n语言组织能力：表达逻辑性、条理性\\n倾听与回应：是否准确理解问题并给出相关回答\\n非语言沟通：肢体语言、眼神交流、自信度\\n互动质量：与面试官的互动是否自然流畅\\n\\n3. 逻辑思维能力 (20%)\\n分析问题的方法：能否系统性地分解复杂问题\\n思维的结构化：回答是否有清晰的框架和层次\\n举例论证能力：能否用恰当的例子支撑观点\\n应变能力：面对突发问题的反应速度和质量\\n\\n4. 职业素养表现 (15%)\\n时间管理：回答节奏控制、重点把握\\n职业态度：积极性、诚实度、学习意愿\\n团队协作意识：在回答中体现的合作精神\\n职业规划清晰度：对未来发展的思考深度\\n\\n5. 情绪管理与心理状态 (5%)\\n压力应对：在压力下的表现稳定性\\n自信程度：适度自信，不卑不亢\\n情绪控制：保持冷静和专业\\n\\n# 反馈输出格式\\n总体印象 (Overall Impression)\\n一句话总结：用一句精炼的话概括整体表现\\n整体评分：X/10分 (提供具体分数和评级)\\n核心亮点：列出2-3个最突出的优势\\n主要改进点：指出2-3个最需要提升的方面\\n详细分析 (Detailed Analysis)\\n🎯 技术能力表现\\n表现评价：具体描述技术回答的质量\\n亮点识别：技术方面的突出表现\\n改进建议：针对性的技术提升建议\\n评分：X/10分\\n\\n💬 沟通表达评估\\n语言能力：表达清晰度、逻辑性评价\\n互动质量：与面试官的配合度\\n改进方向：具体的表达技巧建议\\n评分：X/10分\\n\\n🧠 逻辑思维分析\\n思维结构：回答的逻辑框架评价\\n分析深度：问题分析的深入程度\\n提升要点：逻辑思维训练建议\\n评分：X/10分\\n\\n🏢 职业素养反馈\\n专业度表现：整体职业形象评价\\n态度评估：学习态度和工作热情\\n发展建议：职业素养提升路径\\n评分：X/10分\\n\\n具体改进建议 (Actionable Improvements)\\n# 短期改进 (1-2周内可实现)\\n具体行动项1：详细的改进步骤和方法\\n具体行动项2：可量化的练习目标\\n具体行动项3：立即可开始的改进措施\\n\\n# 中期提升 (1-3个月)\\n技能深化：需要系统学习的技术领域\\n经验积累：建议参与的项目或实践\\n软技能提升：沟通、领导力等方面的发展\\n\\n# 长期发展 (3个月以上)\\n职业规划优化：结合市场需求的发展方向\\n核心竞争力构建：差异化优势培养\\n行业影响力建设：个人品牌和网络建设\\n\\n# 模拟面试练习计划\\n推荐练习频率：每周X次，每次Y分钟\\n重点练习方向：\\n\\n# 针对薄弱环节的专项练习\\n真实场景模拟训练\\n压力面试适应性训练\\n\\n# 学习资源推荐：\\n相关书籍/在线课程\\n练习平台或工具\\n行业资讯关注渠道\\n\\n输出原则\\n1. 客观公正\\n基于实际表现给出评价，避免主观偏见\\n提供具体的事例支撑每个评价点\\n既要指出不足，也要充分肯定优点\\n\\n2. 建设性反馈\\n每个批评都要配对具体的改进建议\\n提供可行的、循序渐进的提升路径\\n避免打击自信心，保持积极正向的语调\\n\\n3. 个性化定制\\n根据用户的职业背景和目标岗位调整反馈重点\\n考虑用户当前的职业发展阶段\\n结合行业特点和市场需求给出建议\\n\\n4. 实用导向\\n所有建议都要具有可操作性\\n提供具体的时间节点和成果衡量标准\\n关联实际工作场景和职业发展需要\\n\\n语言风格要求\\n专业而亲和：既要体现专业性，又要让用户感到被理解和支持\\n具体而详细：避免泛泛而谈，给出具体可感的反馈\\n鼓励而现实：在鼓励的同时，诚实地指出需要改进的地方\\n前瞻而实用：不仅分析当前表现，更要为未来发展提供指导\\n\\n重要提醒：在生成反馈时，请确保内容全面、平衡，既有深度的分析，又有实用的建议。记住，你的目标是帮助用户在下一次真实面试中取得更好的表现。","respFormat":0},"outputs":[{"id":"61310cff-d526-4232-874d-f60d9136baad","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1280,"id":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","position":{"x":9555.952213606604,"y":536.1399427884036},"positionAbsolute":{"x":9555.952213606604,"y":536.1399427884036},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"b634ae7c-6791-4588-82bd-b5792b22d08f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_2","labelEdit":false,"nodeMeta":{"aliasName":"消息_2","nodeType":"基础节点"},"nodeParam":{"template":"简历分析中.....请耐心等待","streamOutput":true,"uid":"4493076350","apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","startFrameEnabled":false,"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"id":"7df6a9f7-f180-46eb-a48a-f7bb6e9332ca","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":398,"id":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","position":{"x":2952.79379901841,"y":441.70491911816964},"positionAbsolute":{"x":2952.79379901841,"y":441.70491911816964},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"originPosition":{"x":25,"y":250},"outputs":[{"id":"84e04d09-cbd3-4807-b500-41713097e9e5","name":"input","nameErrMsg":"","schema":{"default":"","type":"object"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":271,"id":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":30,"y":577.9228265341493},"positionAbsolute":{"x":25,"y":250},"selected":false,"type":"开始节点","width":657,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"608862c2-1ab1-4264-82be-21f85cf7aa7b","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"user_answer","id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","nodeId":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":0},"originPosition":{"x":4825.749559747515,"y":485.84592738014044},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","label":"user_answer","type":"string","value":"user_answer","fileType":""}],"label":"","value":""}],"label":"变量存储器_4","parentNode":true,"value":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":228,"id":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":1230.1873899368788,"y":636.8843083791844},"positionAbsolute":{"x":4825.749559747515,"y":485.84592738014044},"selected":false,"type":"结束节点","width":407,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"7f2a4320-4c18-4859-a006-6ee466ed4f2f","name":"question","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码_1","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"# -*- coding: utf-8 -*-\\nimport json\\nimport re\\ndef main(question):\\n    length = len(question) - 2\\n    ret = {\\n        \\"length\\": length\\n    }\\n    return ret","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","codeErrMsg":""},"originPosition":{"x":756.1785888671875,"y":99.75},"outputs":[{"id":"41e8192c-fc05-41cd-b295-91278f225b5d","name":"length","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":796,"id":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":212.79464721679688,"y":540.3603265341493},"positionAbsolute":{"x":756.1785888671875,"y":99.75},"selected":false,"type":"代码","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"18f0128c-7ed3-4ad7-b137-468111cb2d03","name":"input","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"05b18c94-dd79-4b0e-bb6a-248216365370","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"ab1bacec-6cc2-47df-8d4e-d181c596ab42","name":"input714d7dfe3d214fd5874b944a78f7a92d","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"303f5b3e-3c7d-4a27-ae50-06bd32e3308d","name":"input116806e00872471bb02bd55e7534aaf6","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"11d93bf4-ae04-468a-80ca-33a98d8be3cf","name":"inputd1292889bed84ba192da6fa00b868898","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"8c1e1aa4-d1bb-4d9d-9cc3-73d6bef64e9e","name":"inputfef101c60c44455099b22e7c67de9336","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器_1","nodeType":"分支器"},"nodeParam":{"uid":"4493076350","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d","conditions":[{"leftVarIndex":"18f0128c-7ed3-4ad7-b137-468111cb2d03","rightVarIndex":"05b18c94-dd79-4b0e-bb6a-248216365370","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":2,"logicalOperator":"and","id":"branch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7","conditions":[{"leftVarIndex":"ab1bacec-6cc2-47df-8d4e-d181c596ab42","rightVarIndex":"303f5b3e-3c7d-4a27-ae50-06bd32e3308d","compareOperatorErrMsg":"","id":"b8dbb5ca-310a-467f-b201-9886b4f1c49f","compareOperator":"is"}]},{"level":3,"logicalOperator":"and","id":"branch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224","conditions":[{"leftVarIndex":"11d93bf4-ae04-468a-80ca-33a98d8be3cf","rightVarIndex":"8c1e1aa4-d1bb-4d9d-9cc3-73d6bef64e9e","compareOperatorErrMsg":"","id":"750cdb50-4885-4d6a-86e8-f41d06aecd26","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::faae74ea-ac36-435c-89ee-930297426551","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"originPosition":{"x":1526.607192993164,"y":42.75},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":652,"id":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":405.401798248291,"y":526.1103265341493},"selected":false,"type":"分支器","width":683,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"23582fc5-fea4-476c-b215-00895462bdde","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta2","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta2","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"answerType":"direct","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::5209a962-7cc7-4245-8314-a40c05cd155d","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::4bb68348-6179-4c73-8c69-786508439401","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::7caa49a3-ef2a-4037-bd0e-69db1daffbc4","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2274.9551199696693,"y":-741.6913061365971},"outputs":[{"id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"eba3da93-efa2-4755-b176-32b262d90957","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":659,"id":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":592.4887799924173,"y":330},"positionAbsolute":{"x":2274.9551199696693,"y":-741.6913061365971},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"5859b9cc-8668-464e-9bea-20ac0fc6a59a","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"eba3da93-efa2-4755-b176-32b262d90957","nodeId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_1","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7358380736721018880"},"originPosition":{"x":3058.5927202041403,"y":-499.17665549493336},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"extent":"parent","height":250,"id":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":788.3981800510351,"y":390.6286626604159},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"9dd7d05e-140b-4789-9571-0e7770f8feb9","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta1","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta1","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"answerType":"direct","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::b5d338e4-8642-42cc-a4b5-e8482d096b15","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::e92e404b-a0fd-4b43-8515-e797144b1566","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::3a0c5477-abd1-407a-a42e-41cbe2e5cd95","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2269.5513200779205,"y":16.176508545636665},"outputs":[{"id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"cd786b37-3509-4e13-8a33-f137d01848cb","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":659,"id":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":591.1378300194801,"y":519.4669536705585},"positionAbsolute":{"x":2269.5513200779205,"y":16.176508545636665},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"5e002d8e-b6ec-425e-bf0f-c123e4296491","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"cd786b37-3509-4e13-8a33-f137d01848cb","nodeId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_2","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7358380736721018880"},"originPosition":{"x":3039.9264003554254,"y":220.79824502454045},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"extent":"parent","height":250,"id":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":783.7316000888563,"y":570.6223877902844},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"991ed707-72da-414a-ae5f-440d329cb01c","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta3","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta3","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"","modelId":141,"answerType":"direct","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::51b3c769-985d-41b3-a080-1e3e200708c1","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::ea6215a8-29fc-440d-ad00-4efde5d96e4e","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::4adf9c67-5a21-4879-8bf8-4887f83d6467","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2297.6178040890304,"y":747.3474948436111},"outputs":[{"id":"c259f482-53a8-4ae1-9497-948e483a581a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":699,"id":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":598.1544510222576,"y":702.259700245052},"positionAbsolute":{"x":2297.6178040890304,"y":747.3474948436111},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1df2a540-8364-4031-bfee-763cd7b4692b","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","nodeId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_3","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7358380736721018880"},"originPosition":{"x":3038.7288483765515,"y":825.238677460993},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":250,"id":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":783.4322120941379,"y":721.7324958993975},"positionAbsolute":{"x":3038.7288483765515,"y":825.238677460993},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_4","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"get","apiKey":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7358380736721018880"},"originPosition":{"x":4048.1646129339524,"y":347.7299760427516},"outputs":[{"id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","name":"user_answer","nameErrMsg":"","refId":"5859b9cc-8668-464e-9bea-20ac0fc6a59a","required":true,"schema":{"description":"","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":245,"id":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":1035.791153233488,"y":602.3553205448372},"positionAbsolute":{"x":4048.1646129339524,"y":347.7299760427516},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"f19607ab-79d2-4862-903f-723fd1ef3e33","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"题目有误！","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_5","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"","appId":"680ab54f","apiSecret":"","flowId":"7358380736721018880"},"originPosition":{"x":2230.460638423927,"y":1468.6701373063897},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":43,"id":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":581.3651596059817,"y":882.5903608607467},"positionAbsolute":{"x":2230.460638423927,"y":1468.6701373063897},"selected":false,"type":"变量存储器","width":133,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","target":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","target":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5-ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","target":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5-plugin::ae696e1d-9976-432c-a373-95c59a589932","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","target":"plugin::ae696e1d-9976-432c-a373-95c59a589932","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73","target":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9-ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","target":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","target":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8-ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","target":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b-spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","target":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::ae696e1d-9976-432c-a373-95c59a589932-message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::ae696e1d-9976-432c-a373-95c59a589932","target":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6-spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","target":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69-iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","target":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c-ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","target":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","target":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d-question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d","target":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004-node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","target":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7-question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7","target":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da-node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","target":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224-question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224","target":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","target":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::faae74ea-ac36-435c-89ee-930297426551-node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::faae74ea-ac36-435c-89ee-930297426551","target":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","target":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850-iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","target":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","targetHandle":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","type":"customEdge","zIndex":1}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["我是一名应届毕业生，请为我模拟一场互联网公司的算法工程师岗位的快速面试","我是一名5年工作经验的Web前端工程师，请为我模拟一场深度面试","模拟2-3年工作经验的市场研究员终面，20分钟左右"],"prologueText":"hi，我是你的AI模拟面试教练​​！\\n👉输入面试相关信息，如目标岗位、公司、行业、轮次、经验、面试时长等，我将带你完整地体验面试。\\n📌上传你的简历PDF，效果更好哦！（可选）"},"needGuide":false,"suggestedQuestionsAfterAnswer":{"enabled":true},"speechToText":{"enabled":true},"textToSpeech":{"enabled":true,"vcn":"x4_lingxiaoqi_en"},"chatBackground":{"enabled":true,"info":{"name":"AI 模拟面试官.png","type":"png","total":"800.96 KB","url":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1753433011222_AI%E6%A8%A1%E6%8B%9F%E9%9D%A2%E8%AF%95%E5%AE%98.png"}},"feedback":{"enabled":true}}', NULL, 10, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(184709, 11143393282, '680ab54f', '7360965189462188034', '文字转语音', '我能将你输入的任何文字转成超拟人的语音，还支持语音文件下载哦~', 0, 0, '2025-08-12 17:27:41', '2025-08-13 15:48:25', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":-25.109019607843152,"y":521.7086666666667},"positionAbsolute":{"x":-25.109019607843152,"y":521.7086666666667},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"voice","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"<!DOCTYPE html>\\n<html lang=\\"zh\\">\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>语音播放</title>\\n</head>\\n<body>\\n  <audio preload=\\"none\\" controls>\\n    <source src=\\"{{voice}}\\" type=\\"audio/mpeg\\">\\n  </audio>\\n</body>\\n</html>","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"191a044a-dd3d-4e24-864a-3f5a7c503b83","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"45fdbef4-d7ce-4ec7-9526-72ee1cc52f7f","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"4ace75c3-4da4-480b-bc8b-fd0bbe244f0b","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","children":[{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"4993c6c4-b8b7-4bf3-ac01-32e398299e01","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":807,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":1946.9152261758845,"y":295.683895317638},"positionAbsolute":{"x":1946.9152261758845,"y":295.683895317638},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"id":"e6c42a41-565a-4ce3-a532-7acefc886c06","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"dc3b5606-8312-477f-85f7-bea54e9823bb","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingxiaoxuan_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"dfe7e39f-257b-414c-be34-ccee42f2c4df","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"50","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"11143393282","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","pluginId":"tool@72213899d821000","remarkVisible":true,"appId":"680ab54f","operationId":"超拟人合成-7UcDosEk","remark":"vcn：当前选择音色为女生，参数填写【x4_lingfeiyi_oral】可修改为男声。\\nspeed: 当前速度正常，100为2倍速，0为0.5倍速。","version":"V1.0","businessInput":[]},"outputs":[{"id":"191a044a-dd3d-4e24-864a-3f5a7c503b83","name":"sid","schema":{"type":"string"}},{"id":"45fdbef4-d7ce-4ec7-9526-72ee1cc52f7f","name":"code","schema":{"type":"integer"}},{"id":"4ace75c3-4da4-480b-bc8b-fd0bbe244f0b","name":"msg","schema":{"type":"string"}},{"id":"4993c6c4-b8b7-4bf3-ac01-32e398299e01","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":483,"id":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","position":{"x":872.5603748524165,"y":410.0136506564281},"positionAbsolute":{"x":872.5603748524165,"y":410.0136506564281},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/generate/cht000b6a57%40dx1989d9d0138b8f3550.jpg', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["哈喽你好呀，我是一个复读机","我可以读出你输入的任何文字哦","我还可以生成可下载的语音文件呢"],"prologueText":"我能将你输入的任何文字转成超拟人的语音，还支持语音文件下载哦~"},"needGuide":false,"speechToText":{"enabled":true},"feedback":{"enabled":true}}', '{"botId":3060117}', 10, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(185127, 18882349618, '680ab54f', '7361208107611512834', '【模板勿动】智能客服', '以星辰Agent平台客服为例', 0, 0, '2025-08-13 09:33:03', '2025-08-13 09:44:45', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"","appId":"680ab54f","apiSecret":""},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":294,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":0,"y":1580.1484823226929},"positionAbsolute":{"x":-874.2479356234679,"y":504.20866666666666},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"search","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"de0422df-1848-4ec2-b5bb-0774d403e52c","nodeId":"spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"5f6eb224-6b16-4fd5-b06b-28ff29238c83","name":"knowledge","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"b5fbc882-8b67-45e2-969d-6f6fc5df4b66","nodeId":"spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"d7f77aea-0cfb-4240-846e-083c307cae61","name":"chat","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"a2c0fc1d-b652-44d3-af2c-8b11faf11516","nodeId":"spark-llm::70e0d38b-750c-44ba-814b-6308152e151b"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{search}}{{knowledge}}{{chat}}","streamOutput":true,"apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01","id":"de0422df-1848-4ec2-b5bb-0774d403e52c","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"网络知识规整","parentNode":true,"value":"spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01"},{"children":[{"references":[{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"181dc7e7-c389-4e9c-8316-00323343f4da","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","children":[{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"8decbb47-7bc7-40d3-bde6-9c9baa5b20e5","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"36320a56-f578-45cf-ac2f-e8c8f4d7b088","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","children":[],"id":"f8cf388f-6d30-4891-be4b-90481d7b1f90","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"fc2b3a84-64eb-42a0-b028-d39a1e73f126","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"767b398a-42ee-4011-8cd3-4df8714fae5f","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"d45b2162-e6b3-4cd7-b9b3-522f3ef308e8","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"9f327247-519d-4291-ac57-188c11daca93","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"联网搜索","parentNode":true,"value":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0"},{"children":[{"references":[{"originId":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","id":"47640ba0-d736-46f6-bdb3-3484f852f7bb","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_1","parentNode":true,"value":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4","id":"b5fbc882-8b67-45e2-969d-6f6fc5df4b66","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"星辰Agent智能问答","parentNode":true,"value":"spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4"},{"children":[{"references":[{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","children":[{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"18a5b920-e4b2-4012-ab9e-0e4cfba515da","label":"score","type":"number","value":"results.score","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"f82b5131-6a30-4b89-ba75-f3ce3e4e1e64","label":"docId","type":"string","value":"results.docId","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"cce58219-211a-41f7-b7d4-8c20485dd57a","label":"title","type":"string","value":"results.title","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"e1e4f074-7f05-4698-9ff2-78d1bcd97228","label":"content","type":"string","value":"results.content","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"6f95ed52-8774-4661-8391-a35e9e58173e","label":"context","type":"string","value":"results.context","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"82411ef9-0a9b-4842-b8ad-61e57b063e2f","label":"references","type":"object","value":"results.references","parentType":"array-object","fileType":""}],"id":"1ac29b43-f4b2-4e52-9dab-905a80ba7989","label":"results","type":"array-object","value":"results","fileType":""}],"label":"","value":""}],"label":"知识库_1","parentNode":true,"value":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842"},{"children":[{"references":[{"originId":"spark-llm::70e0d38b-750c-44ba-814b-6308152e151b","id":"a2c0fc1d-b652-44d3-af2c-8b11faf11516","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"兜底闲聊","parentNode":true,"value":"spark-llm::70e0d38b-750c-44ba-814b-6308152e151b"}],"status":"","updatable":false},"dragging":false,"height":751,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":3642.831516265869,"y":1353.4409046173096},"positionAbsolute":{"x":2738.910220291082,"y":552.5680419113713},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合输入的参数与填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"fileType":"","id":"0be43820-6dab-4c83-ac74-b00d6db5bc3c","name":"Query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"决策_1","labelEdit":false,"nodeMeta":{"aliasName":"决策_1","nodeType":"基础节点"},"nodeParam":{"topK":4,"apiKey":"7b709739e8da44536127a333c7603a83","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"reasonMode":1,"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"promptPrefix":"","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"20674785272","patchId":"0","intentChains":[{"intentType":2,"name":"大模型相关信息查询","description":"大模型相关信息咨询","id":"intent-one-of::fb4d6b4e-7a87-458b-baa1-0e3b579b7bbf","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"name":"星辰Agent平台知识问答","description":"星辰Agent开发平台、工作流智能体节点、智能体案例等相关问题咨询","id":"intent-one-of::45c38dbb-1c65-4dd7-be12-d2401cf2cf30","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::a412c2d0-e49a-4b99-a183-c7495200b601","nameErrMsg":"","descriptionErrMsg":""}],"domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":true,"serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"47640ba0-d736-46f6-bdb3-3484f852f7bb","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":974,"id":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","position":{"x":963.530683517456,"y":1242.972183227539},"positionAbsolute":{"x":45.25255108915985,"y":262.93451080116245},"selected":true,"type":"决策","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要搜索的问题","disabled":false,"id":"3e6bda09-24be-4d72-a290-191f9129984e","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"联网搜索","labelEdit":false,"nodeMeta":{"aliasName":"联网搜索","nodeType":"工具"},"nodeParam":{"uid":"20674785272","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"7b709739e8da44536127a333c7603a83","pluginId":"tool@665b86a9b821000","appId":"680ab54f","operationId":"聚合搜索-hL0CqmNi","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","version":"V1.0","businessInput":[]},"outputs":[{"id":"181dc7e7-c389-4e9c-8316-00323343f4da","name":"msg","schema":{"type":"string"}},{"id":"8decbb47-7bc7-40d3-bde6-9c9baa5b20e5","name":"result","schema":{"properties":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","name":"summary","type":"string"},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","name":"img","type":"string"},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","name":"domain","type":"string"},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","name":"name","type":"string"},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","name":"is_high_summary","type":"boolean"},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","name":"siteName","type":"string"},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","name":"source","type":"string"},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","name":"type","type":"string"},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","name":"url","type":"string"}],"type":"array-object"}},{"id":"36320a56-f578-45cf-ac2f-e8c8f4d7b088","name":"rc","schema":{"type":"string"}},{"id":"f8cf388f-6d30-4891-be4b-90481d7b1f90","name":"semantic","schema":{"properties":[],"type":"array-string"}},{"id":"fc2b3a84-64eb-42a0-b028-d39a1e73f126","name":"total","schema":{"type":"string"}},{"id":"767b398a-42ee-4011-8cd3-4df8714fae5f","name":"offset","schema":{"type":"string"}},{"id":"d45b2162-e6b3-4cd7-b9b3-522f3ef308e8","name":"limit","schema":{"type":"string"}},{"id":"9f327247-519d-4291-ac57-188c11daca93","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","id":"47640ba0-d736-46f6-bdb3-3484f852f7bb","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_1","parentNode":true,"value":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":498,"id":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","position":{"x":1856.6310405731201,"y":225.44162273406982},"positionAbsolute":{"x":1030.1889438047717,"y":109.0748627066829},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"b2416374-b8b4-437f-a2d1-d923292025bc","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"8a2a0b2d-295f-4919-81f7-4d5d220ece13","name":"search","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"msg","id":"181dc7e7-c389-4e9c-8316-00323343f4da","nodeId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0"},"contentErrMsg":"","type":"ref"}}}],"label":"网络知识规整","labelEdit":false,"nodeMeta":{"aliasName":"网络知识规整","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个问答助手，根据搜索到知识简要回答用户的问题。\\n\\n##用户的问题是：{{input}}\\n\\n##搜索结果是：{{search}}","apiKey":"7b709739e8da44536127a333c7603a83","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"20674785272","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"de0422df-1848-4ec2-b5bb-0774d403e52c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"181dc7e7-c389-4e9c-8316-00323343f4da","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","children":[{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"8decbb47-7bc7-40d3-bde6-9c9baa5b20e5","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"36320a56-f578-45cf-ac2f-e8c8f4d7b088","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","children":[],"id":"f8cf388f-6d30-4891-be4b-90481d7b1f90","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"fc2b3a84-64eb-42a0-b028-d39a1e73f126","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"767b398a-42ee-4011-8cd3-4df8714fae5f","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"d45b2162-e6b3-4cd7-b9b3-522f3ef308e8","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","id":"9f327247-519d-4291-ac57-188c11daca93","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"联网搜索","parentNode":true,"value":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0"},{"children":[{"references":[{"originId":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","id":"47640ba0-d736-46f6-bdb3-3484f852f7bb","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_1","parentNode":true,"value":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":832,"id":"spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01","position":{"x":2749.731159210205,"y":0},"positionAbsolute":{"x":1658.7688773176021,"y":76.10985180265567},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"调用知识库，可以指定知识库进行知识检索和答复","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png","inputs":[{"id":"d52678b7-ffb4-4985-b926-ee5f304cf23c","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"知识库_1","labelEdit":false,"nodeMeta":{"aliasName":"知识库_1","nodeType":"工具"},"nodeParam":{"repoId":["24bb4d37846e4a01b595d0a24b700ec5"],"score":0.2,"uid":"20674785272","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","repoList":[{"outerRepoId":"24bb4d37846e4a01b595d0a24b700ec5","address":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/","charCount":50991,"visibility":0,"icon":"sparkBot/sparkBot_1691136308772_i讯飞图片.png","description":"星辰Agent平台FAQ知识库（星辰版）","updateTime":"2025-08-04T20:10:21.000+08:00","source":0,"userId":"20674785272","fileCount":11,"coreRepoId":"24bb4d37846e4a01b595d0a24b700ec5","deleted":false,"corner":"http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/rag/Stellar@1x.png","createTime":"2025-08-04T20:10:21.000+08:00","isTop":false,"enableAudit":false,"name":"星辰Agent平台FAQ知识库（星辰版）","id":38559,"tag":"AIUI-RAG2","status":1}],"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","repoIdErrMsg":"","flowId":"7361208107611512834","ragType":"AIUI-RAG2","docIds":["90a976c0f2694a7e9c18038d8ed45962","0a1490d6d34948d69ee3a735e07421a5","85253e27371148928ac695eb554d76ba","209ee335d28b44249b1510adfb8492a6","981e233dd5934fd8a6bc9d97ef8c4c7c","7cdbc94aaa9343c4afde79fab3e00a72","26cf1604bfc5472ea7e0615d81899493","ec866704a5e343bebbb694c62f05c9eb","8885ff3f983f49b5b68b05c608b38b10","4570a3ebb20b4a44bd4260e5ac5f6778","3162d0e01de84642a6a250c764b7f883","6533c0f77b5e4d149d54a76eb7bfe76a","7ca83053ae9a4217b42663a507a5568e"],"topN":3},"outputs":[{"id":"1ac29b43-f4b2-4e52-9dab-905a80ba7989","name":"results","nameErrMsg":"","required":true,"schema":{"properties":[{"default":"","id":"18a5b920-e4b2-4012-ab9e-0e4cfba515da","name":"score","required":true,"type":"number"},{"default":"","id":"f82b5131-6a30-4b89-ba75-f3ce3e4e1e64","name":"docId","required":true,"type":"string"},{"default":"","id":"cce58219-211a-41f7-b7d4-8c20485dd57a","name":"title","required":true,"type":"string"},{"default":"","id":"e1e4f074-7f05-4698-9ff2-78d1bcd97228","name":"content","required":true,"type":"string"},{"default":"","id":"6f95ed52-8774-4661-8391-a35e9e58173e","name":"context","required":true,"type":"string"},{"default":"","id":"82411ef9-0a9b-4842-b8ad-61e57b063e2f","name":"references","required":true,"type":"object"}],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","id":"47640ba0-d736-46f6-bdb3-3484f852f7bb","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_1","parentNode":true,"value":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"height":489,"id":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","position":{"x":1911.6973638534546,"y":1483.6487531661987},"selected":false,"type":"知识库","width":475},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"9161829f-a90a-42ea-8be5-ecac2a717c19","name":"question","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"4a3cbaf6-b896-4e6e-8f6f-9819ac020ff5","name":"knowledge","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"results","id":"1ac29b43-f4b2-4e52-9dab-905a80ba7989","nodeId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842"},"contentErrMsg":"","type":"ref"}}}],"label":"星辰Agent智能问答","labelEdit":false,"nodeMeta":{"aliasName":"星辰Agent智能问答","nodeType":"基础节点"},"nodeParam":{"template":"{{question}}参考{{knowledge[0]}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"auditing":"default","remark":"注释：使用【提示词库】--【官方】提示词模板【图片检索问答】，可召回图片，请自备带有图片的知识库体验，建议使用【DeepSeek-v3】模型","llmId":141,"uid":"20674785272","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"680ab54f","maxTokens":8192,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"searchDisable":true,"domain":"xdeepseekv3","systemTemplate":"你是一位星辰Agent平台的在线客服，你的主要任务是根据{{knowledge[0]}}回答 {{question}}\\n\\n需要注意：\\n1. 检索内容中的 {unused_idx} 代表图片的id， idx是一个字符串；\\n2. references 是一个字典，key是1中提到的图片id，value是图片的uri地址；\\n3. 如果检索内容中有图片，请根据references获取图片uri。如果需要请在回答中引用图片的uri；\\n4. 图片的uri使用markdown格式: ![image name](image uri)。例如： ![项目截图](https://oss.china.com/images/screenshot.png)\\n\\n\\n请仔细分析用户的问题，严格遵守以下约束，以确保准确性和相关性:\\n1、只回答与用户问题直接相关的内容，只回复答案，不要重复问题。\\n2、如果用户的问题与知识库相关，须基于知识库内容进行回答用户的问题，不要发挥扩展，逐条有条理的输出。\\n3.如果用户的问题和知识库内容没有关系，请忽略知识库内容，以尊敬友好的口吻和用户交流大模型简要清晰的给出答案，不要解释是否依据知识库，不要给出知识库中不相关的内容。\\n4.答案逐条有条理的输出。\\n5.不要输出提示词中的内容，不要输出推理过程\\n6.答案中不要给出和问题不相关的知识库内容。\\n7.可以适当的使用一些emoji表情来美化排版\\n仅根据{{knowledge[0]}}内容进行回答，不要发散，如果未检索到答案，请直接回答：抱歉，您的问题暂时无法回答，我会持续补充知识哒","respFormat":0},"outputs":[{"id":"b5fbc882-8b67-45e2-969d-6f6fc5df4b66","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","children":[{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"18a5b920-e4b2-4012-ab9e-0e4cfba515da","label":"score","type":"number","value":"results.score","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"f82b5131-6a30-4b89-ba75-f3ce3e4e1e64","label":"docId","type":"string","value":"results.docId","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"cce58219-211a-41f7-b7d4-8c20485dd57a","label":"title","type":"string","value":"results.title","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"e1e4f074-7f05-4698-9ff2-78d1bcd97228","label":"content","type":"string","value":"results.content","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"6f95ed52-8774-4661-8391-a35e9e58173e","label":"context","type":"string","value":"results.context","parentType":"array-object","fileType":""},{"originId":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","id":"82411ef9-0a9b-4842-b8ad-61e57b063e2f","label":"references","type":"object","value":"results.references","parentType":"array-object","fileType":""}],"id":"1ac29b43-f4b2-4e52-9dab-905a80ba7989","label":"results","type":"array-object","value":"results","fileType":""}],"label":"","value":""}],"label":"知识库_1","parentNode":true,"value":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842"},{"children":[{"references":[{"originId":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","id":"47640ba0-d736-46f6-bdb3-3484f852f7bb","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_1","parentNode":true,"value":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1262,"id":"spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4","position":{"x":2749.731159210205,"y":1099.9751091003418},"positionAbsolute":{"x":1382.5154214170561,"y":949.200350352621},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ae253014-ad8d-475d-b5f7-839c5130dcea","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"兜底闲聊","labelEdit":false,"nodeMeta":{"aliasName":"兜底闲聊","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个闲聊机器人，请以友好、诙谐、幽默的语气简要回答用户的问题。用户的问题是：{{input}}","apiKey":"7b709739e8da44536127a333c7603a83","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"20674785272","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"a2c0fc1d-b652-44d3-af2c-8b11faf11516","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","id":"47640ba0-d736-46f6-bdb3-3484f852f7bb","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_1","parentNode":true,"value":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":774,"id":"spark-llm::70e0d38b-750c-44ba-814b-6308152e151b","position":{"x":2749.7312784194946,"y":2467.617607116699},"positionAbsolute":{"x":802.1414176728631,"y":1475.9698224063052},"selected":false,"type":"大模型","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389intent-one-of::fb4d6b4e-7a87-458b-baa1-0e3b579b7bbf-plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","sourceHandle":"intent-one-of::fb4d6b4e-7a87-458b-baa1-0e3b579b7bbf","target":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::7977a954-d269-46f9-938b-8e5c9f25fab0-spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::7977a954-d269-46f9-938b-8e5c9f25fab0","target":"spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::771d1aae-6337-4eab-89c0-a0e4e777db01","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389intent-one-of::45c38dbb-1c65-4dd7-be12-d2401cf2cf30-knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","sourceHandle":"intent-one-of::45c38dbb-1c65-4dd7-be12-d2401cf2cf30","target":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842-spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"knowledge-base::b5f623e7-b1ef-49d2-9a3e-d5e63de97842","target":"spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::f38b55bf-eb91-4fe3-80d9-2abe765f9ff4","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389intent-one-of::a412c2d0-e49a-4b99-a183-c7495200b601-spark-llm::70e0d38b-750c-44ba-814b-6308152e151b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::024d6621-cda7-42b7-8f0f-7f67423ee389","sourceHandle":"intent-one-of::a412c2d0-e49a-4b99-a183-c7495200b601","target":"spark-llm::70e0d38b-750c-44ba-814b-6308152e151b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::70e0d38b-750c-44ba-814b-6308152e151b-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::70e0d38b-750c-44ba-814b-6308152e151b","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["介绍一下目前大模型技术的热门方向","如何快速构建一个工作流智能体","能跟我聊聊王子变青蛙的故事嘛"]},"needGuide":false}', NULL, 10, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(186393, 18882349618, '680ab54f', '7361602043756732418', '【勿动】AI记账模板', '【勿动】AI记账模板', 0, 0, '2025-08-14 11:38:25', '2025-08-14 13:47:41', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":-2409.5023729222894,"y":743.1451280986073},"positionAbsolute":{"x":-2409.5023729222894,"y":743.1451280986073},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"45b8b248-5e92-4426-aebb-030302bca2c4","nodeId":"spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"a6d4c2d3-8868-488d-80c7-f10909c9b562","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"45b8b248-5e92-4426-aebb-030302bca2c4","nodeId":"spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"df57b2ae-3197-48dc-b965-0a1dba6903d5","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"b852796c-8c3c-4e56-9380-efd3b64a1aab","nodeId":"spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}\\n{{output2}}\\n{{output3}}","streamOutput":true,"apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f","id":"45b8b248-5e92-4426-aebb-030302bca2c4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_结构化输出","parentNode":true,"value":"spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f"},{"children":[{"references":[{"originId":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","id":"1b78a59a-aad6-4e29-8be1-feffc6557227","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_查询消费记录","parentNode":true,"value":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602"},{"children":[{"references":[{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","id":"82610216-f9b2-4cb4-987a-8713276ac1f3","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","id":"2087f3f0-04c3-4ec7-ae56-3699b054e733","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","children":[],"id":"4f978293-7648-40f8-962d-e5cabc5c99cc","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_插入消费数据","parentNode":true,"value":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c"},{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd","id":"45b8b248-5e92-4426-aebb-030302bca2c4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_4","parentNode":true,"value":"spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd"},{"children":[{"references":[{"originId":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","id":"8e7e65c0-4ea6-4146-b2ff-b5f76fedc920","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_3","parentNode":true,"value":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b"},{"children":[{"references":[{"originId":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_3","parentNode":true,"value":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979"},{"children":[{"references":[{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","label":"type","type":"string","value":"type","fileType":""}],"label":"","value":""}],"label":"变量提取器_1","parentNode":true,"value":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},{"children":[{"references":[{"originId":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","id":"8e7e65c0-4ea6-4146-b2ff-b5f76fedc920","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_4","parentNode":true,"value":"database::0a33e57f-e726-4f1b-af98-229c731b9cec"},{"children":[{"references":[{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"4afcfb2b-d034-4ba7-82d8-07b1dbeaa5ae","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"ea2ba865-4d85-43ea-9da2-4ee18e4a1343","label":"content","type":"string","value":"content","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"021825c8-9414-479a-986b-6cd742f95f65","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"问答节点_询问用户消费日期","parentNode":true,"value":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d"},{"children":[{"references":[{"originId":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","id":"b675bf58-affa-4fe6-8adc-2afd9b501013","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"变量存储器_3","parentNode":true,"value":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b"},{"children":[{"references":[{"originId":"spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2","id":"b852796c-8c3c-4e56-9380-efd3b64a1aab","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_5","parentNode":true,"value":"spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2"}],"status":"","updatable":false},"dragging":false,"height":711,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":4908.233298875836,"y":831.4206681327507},"positionAbsolute":{"x":4908.233298875836,"y":831.4206681327507},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合输入的参数与填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"fileType":"","id":"04e42937-9a40-4320-94d5-d7a760e049ff","name":"Query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"决策_识别用户意图分类","labelEdit":false,"nodeMeta":{"aliasName":"决策_识别用户意图分类","nodeType":"基础节点"},"nodeParam":{"topK":4,"apiKey":"7b709739e8da44536127a333c7603a83","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"reasonMode":1,"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"promptPrefix":"","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","patchId":"0","intentChains":[{"intentType":2,"name":"插入花费记录","description":"输入的内容是描述xxx时间做了什么事，花费了多少钱这类支出明细时归于此类","id":"intent-one-of::dc057e25-4892-4fd8-ad03-b9a32892fe89","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"name":"消费记录查询","description":"查询某项花费、查询花费信息等归于此类","id":"intent-one-of::cced88d3-5d3c-4aa4-82d4-fe98bf6ee054","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::0eeac55a-0efc-4092-bb5f-9064862bd40f","nameErrMsg":"","descriptionErrMsg":""}],"domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":true,"serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"7c36f213-c54a-4c5a-9793-32d2f316f828","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":974,"id":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","position":{"x":-1633.0710230899572,"y":467.87755711584},"positionAbsolute":{"x":-1633.0710230899572,"y":467.87755711584},"selected":false,"type":"决策","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"32bb7ba4-fbb5-4ef6-bff6-6b525a19e753","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_变量提取","labelEdit":false,"nodeMeta":{"aliasName":"大模型_变量提取","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"请理解用户输入的内容，提取日期、消费类型、消费金额、消费详情描述信息，并按照制定的模版格式输出。\\n\\n\\n#请按照模版输出：\\n{\\n  \\"pay_time\\":\\"2025-8-13\\",\\n   \\"type\\":\\"吃饭\\",\\n   \\"total\\":\\"100.5\\",\\n   \\"detail\\":\\"朋友聚餐\\"\\n}\\n\\n\\n#字段说明：\\npay_time：提取输入内容中的日期，没有说年份时，默认为2025年，没有提及日期时，取值为: 默认\\ntype：消费类型，提取不到时，取值为“默认”\\ntotal：消费金额\\ndetail：消费描述\\n\\n\\n#举例说明\\n输入内容是：我在 2025年8月10日做了一次热玛吉，属于美容分类，花了10000元\\n\\n\\n输出：\\n{\\n  \\"pay_time\\":\\"2025-8-10\\",\\n   \\"type\\":\\"美容\\",\\n   \\"total\\":\\"10000\\",\\n   \\"detail\\":\\"美容\\"\\n}\\n\\n\\n用户的输入是：{{input}}","apiKey":"7b709739e8da44536127a333c7603a83","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"systemTemplate":"你是一个变量提取器，按照要求提取变量并按照制定的格式输出","model":"spark","serviceId":"bm4","respFormat":2,"llmIdErrMsg":""},"outputs":[{"id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","name":"pay_time","nameErrMsg":"","schema":{"default":"提取输入内容中的日期","type":"string"}},{"id":"e64a839f-3298-4dd7-8754-1cb430280116","name":"type","nameErrMsg":"","required":false,"schema":{"default":"消费类型","type":"string"}},{"id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","name":"total","nameErrMsg":"","required":false,"schema":{"default":"消费金额","type":"string"}},{"id":"8033780e-1dad-49fa-8d51-7d848c7e444e","name":"detail","nameErrMsg":"","required":false,"schema":{"default":"消费描述","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1318,"id":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","position":{"x":-755.0406248696886,"y":-42.65252722965053},"positionAbsolute":{"x":-755.0406248696886,"y":-42.65252722965053},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持用户自定义的SQL完成对数据库的增删改查操作","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg","inputs":[{"description":"支付时间","fileType":"","id":"929d8228-698a-481b-a76b-f81e705e538a","name":"pay_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"b675bf58-affa-4fe6-8adc-2afd9b501013","nodeId":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b"},"contentErrMsg":"","type":"ref"}}},{"description":"消费类型","fileType":"","id":"94d9ed03-ab7a-4485-a8e7-c571aabea4f5","name":"type","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"type","id":"e64a839f-3298-4dd7-8754-1cb430280116","nodeId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},"contentErrMsg":"","type":"ref"}}},{"description":"消费金额","fileType":"","id":"e0b579ed-b1ad-4755-a7e5-c546f04abe87","name":"total","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"total","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","nodeId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},"contentErrMsg":"","type":"ref"}}},{"description":"消费描述","fileType":"","id":"bd52d193-f5b2-45d2-a5c3-d47f59925040","name":"detail","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"detail","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","nodeId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},"contentErrMsg":"","type":"ref"}}}],"label":"数据库_插入消费数据","labelEdit":false,"nodeMeta":{"aliasName":"数据库_插入消费数据","nodeType":"基础节点"},"nodeParam":{"cases":[],"apiKey":"7b709739e8da44536127a333c7603a83","dbErrMsg":"","remark":"使用数据库节点前，需要在资源管理中，新建数据库表notes。\\nnotes表需包含如下几个字段：\\npay_time  Time  支付时间\\ntype  String   消费类型\\ntotal  String 消费金额\\ndetail String 消费描述\\n","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","assignmentList":[],"tableName":"notes","mode":1,"uid":"4403454","remarkVisible":true,"appId":"680ab54f","sqlErrMsg":"值不能为空","dbId":"7361321658223382528","orderData":[],"tableNameErrMsg":""},"outputs":[{"id":"82610216-f9b2-4cb4-987a-8713276ac1f3","name":"isSuccess","nameErrMsg":"","schema":{"default":"SQL语句执行状态标识，成功true，失败false","type":"boolean"}},{"id":"2087f3f0-04c3-4ec7-ae56-3699b054e733","name":"message","nameErrMsg":"","schema":{"default":"失败原因","type":"string"}},{"id":"4f978293-7648-40f8-962d-e5cabc5c99cc","name":"outputList","nameErrMsg":"","schema":{"default":"执行结果","properties":[],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"4afcfb2b-d034-4ba7-82d8-07b1dbeaa5ae","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"ea2ba865-4d85-43ea-9da2-4ee18e4a1343","label":"content","type":"string","value":"content","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"021825c8-9414-479a-986b-6cd742f95f65","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"问答节点_询问用户消费日期","parentNode":true,"value":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d"},{"children":[{"references":[{"originId":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","id":"b675bf58-affa-4fe6-8adc-2afd9b501013","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"变量存储器_3","parentNode":true,"value":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b"}],"status":"","updatable":false},"dragging":false,"height":743,"id":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","position":{"x":2296.8358383261993,"y":-22.188427308361426},"positionAbsolute":{"x":2296.8358383261993,"y":-22.188427308361426},"selected":false,"type":"数据库节点","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持用户自定义的SQL完成对数据库的增删改查操作","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg","inputs":[],"label":"数据库_查询消费记录","labelEdit":false,"nodeMeta":{"aliasName":"数据库_查询消费记录","nodeType":"基础节点"},"nodeParam":{"cases":[{"logicalOperator":"and","id":"12e6ded1-20e8-4603-9fb9-3f10cedba682","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","dbErrMsg":"","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","assignmentList":["pay_time","type","total","detail"],"tableName":"notes","mode":3,"uid":"4403454","appId":"680ab54f","dbId":"7361321658223382528","limit":50,"orderData":[{"fieldName":"pay_time","order":"desc"}],"tableNameErrMsg":""},"outputs":[{"id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","name":"isSuccess","nameErrMsg":"","schema":{"default":"SQL语句执行状态标识，成功true，失败false","type":"boolean"}},{"id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","name":"message","nameErrMsg":"","schema":{"default":"失败原因","type":"string"}},{"id":"1b78a59a-aad6-4e29-8be1-feffc6557227","name":"outputList","nameErrMsg":"","schema":{"default":"执行结果","type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","id":"82610216-f9b2-4cb4-987a-8713276ac1f3","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","id":"2087f3f0-04c3-4ec7-ae56-3699b054e733","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","children":[],"id":"4f978293-7648-40f8-962d-e5cabc5c99cc","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_插入消费数据","parentNode":true,"value":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c"},{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"4afcfb2b-d034-4ba7-82d8-07b1dbeaa5ae","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"ea2ba865-4d85-43ea-9da2-4ee18e4a1343","label":"content","type":"string","value":"content","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"021825c8-9414-479a-986b-6cd742f95f65","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"问答节点_询问用户消费日期","parentNode":true,"value":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d"},{"children":[{"references":[{"originId":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","id":"b675bf58-affa-4fe6-8adc-2afd9b501013","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"变量存储器_3","parentNode":true,"value":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b"}],"status":"","updatable":false},"dragging":false,"height":937,"id":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","position":{"x":3092.354928411023,"y":-232.23628208164516},"positionAbsolute":{"x":3092.354928411023,"y":-232.23628208164516},"selected":false,"type":"数据库节点","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"adbabfb9-cf7c-44db-b9f7-a3943e2c1d90","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"outputList","id":"1b78a59a-aad6-4e29-8be1-feffc6557227","nodeId":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_结构化输出","labelEdit":false,"nodeMeta":{"aliasName":"大模型_结构化输出","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"请解析用户输入的数据：{{input}},将用户的输入结果以markdown表格的形式展示.\\n# 输出结构示例\\n主人，您的该条消费记录已保存，您最近的消费记录如下：\\n|消费日期|消费类型|金额|用途详情|\\n|----|----|----|----|\\n|value1|value2|value3|value3|\\n\\n表头请展示别名，别名说明如下：\\npay_time：消费日期\\ntype：消费类型\\ntotal：金额\\ndetail：用途详情","apiKey":"7b709739e8da44536127a333c7603a83","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"45b8b248-5e92-4426-aebb-030302bca2c4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","id":"1b78a59a-aad6-4e29-8be1-feffc6557227","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_查询消费记录","parentNode":true,"value":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602"},{"children":[{"references":[{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","id":"82610216-f9b2-4cb4-987a-8713276ac1f3","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","id":"2087f3f0-04c3-4ec7-ae56-3699b054e733","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","children":[],"id":"4f978293-7648-40f8-962d-e5cabc5c99cc","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_插入消费数据","parentNode":true,"value":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c"},{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"4afcfb2b-d034-4ba7-82d8-07b1dbeaa5ae","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"ea2ba865-4d85-43ea-9da2-4ee18e4a1343","label":"content","type":"string","value":"content","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"021825c8-9414-479a-986b-6cd742f95f65","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"问答节点_询问用户消费日期","parentNode":true,"value":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d"},{"children":[{"references":[{"originId":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","id":"b675bf58-affa-4fe6-8adc-2afd9b501013","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"变量存储器_3","parentNode":true,"value":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b"}],"status":"","updatable":false},"dragging":false,"height":944,"id":"spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f","position":{"x":3928.0623886369267,"y":-146.02819746658346},"positionAbsolute":{"x":3928.0623886369267,"y":-146.02819746658346},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"32bb7ba4-fbb5-4ef6-bff6-6b525a19e753","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_3","labelEdit":false,"nodeMeta":{"aliasName":"大模型_3","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"请理解用户输入的内容，提取日期、消费类型、消费金额、消费详情描述信息，并按照制定的模版格式输出。\\n\\n#请按照模版输出：\\n{\\n  \\"pay_time\\":\\"2025-8-13\\",\\n   \\"type\\":\\"吃饭\\",\\n}\\n\\n#字段说明：\\npay_time：提取输入内容中的日期，只描述了月，没有日时，默认为1日，如果没有提取到日期，默认为：2020-8-1\\ntype：消费类型，提取不到时，取值为“默认”\\n\\n#举例说明\\n输入内容是：想查看我8月所有的美容花费\\n\\n输出：\\n{\\n  \\"pay_time\\":\\"2025-8-1\\",\\n   \\"type\\":\\"美容\\",\\n}\\n\\n用户的输入是：{{input}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":110,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","multiMode":false,"uid":"4403454","patchId":"0","isThink":false,"templateErrMsg":"","searchDisable":true,"domain":"4.0Ultra","appId":"680ab54f","maxTokens":4096,"temperature":0.5,"systemTemplate":"你是一个变量提取器，按照要求提取变量并按照制定的格式输出","model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1164,"id":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","position":{"x":-754.2955645719107,"y":1445.3274081416796},"positionAbsolute":{"x":-754.2955645719107,"y":1445.3274081416796},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持用户自定义的SQL完成对数据库的增删改查操作","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg","inputs":[{"fileType":"","id":"fcfd3c66-75fd-40eb-ab68-1531c85d3c1b","name":"fcfd3c66-75fd-40eb-ab68-1531c85d3c1b","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","nodeId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},"contentErrMsg":"","type":"ref"}}}],"label":"数据库_3","labelEdit":false,"nodeMeta":{"aliasName":"数据库_3","nodeType":"基础节点"},"nodeParam":{"cases":[{"logicalOperator":"and","id":"6c9b5823-5d24-4c92-895a-986a8c17c416","conditions":[{"fieldErrMsg":"","fieldName":"pay_time","compareOperatorErrMsg":"","id":"61f32aef-67fe-418b-babb-c18cefa67997","varIndex":"fcfd3c66-75fd-40eb-ab68-1531c85d3c1b","selectCondition":">=","fieldType":"time"}]}],"apiKey":"7b709739e8da44536127a333c7603a83","dbErrMsg":"","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","assignmentList":["pay_time","type","total","detail"],"tableName":"notes","mode":3,"uid":"4403454","appId":"680ab54f","dbId":"7361321658223382528","limit":50,"orderData":[{"fieldName":"pay_time","order":"desc"}],"tableNameErrMsg":""},"outputs":[{"id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","name":"isSuccess","nameErrMsg":"","schema":{"default":"SQL语句执行状态标识，成功true，失败false","type":"boolean"}},{"id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","name":"message","nameErrMsg":"","schema":{"default":"失败原因","type":"string"}},{"id":"1a5a34f0-c336-429c-9ea1-aae6295ff7d2","name":"outputList","nameErrMsg":"","schema":{"default":"执行结果","type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_3","parentNode":true,"value":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","label":"type","type":"string","value":"type","fileType":""}],"label":"","value":""}],"label":"变量提取器_1","parentNode":true,"value":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"}],"status":"","updatable":false},"dragging":false,"height":979,"id":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","position":{"x":2353.246368847653,"y":1091.0334918396613},"positionAbsolute":{"x":2353.246368847653,"y":1091.0334918396613},"selected":false,"type":"数据库节点","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"adbabfb9-cf7c-44db-b9f7-a3943e2c1d90","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"outputList","id":"8e7e65c0-4ea6-4146-b2ff-b5f76fedc920","nodeId":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"50c0c0cf-c663-427b-bfc9-31a98e499bc8","name":"time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","nodeId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"65ee7ddb-dfdf-4ce9-b9b3-3a9671d752ae","name":"input2","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"outputList","id":"8e7e65c0-4ea6-4146-b2ff-b5f76fedc920","nodeId":"database::0a33e57f-e726-4f1b-af98-229c731b9cec"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_4","labelEdit":false,"nodeMeta":{"aliasName":"大模型_4","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"请解析用户输入的数据：{{input}}，{{input2}},将用户的输入结果以markdown表格的形式展示.，并计算出总金额。\\n# 输出结构示例\\n主人，您{{time}}y以来累计消费520元，消费详细记录如下：\\n|消费日期|消费类型|金额|用途详情|\\n|----|----|----|----|\\n|value1|value2|value3|value3|\\n\\n表头请展示别名，别名说明如下：\\npay_time：消费日期\\ntype：消费类型\\ntotal：金额\\ndetail：用途详情","apiKey":"7b709739e8da44536127a333c7603a83","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"45b8b248-5e92-4426-aebb-030302bca2c4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","id":"8e7e65c0-4ea6-4146-b2ff-b5f76fedc920","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_3","parentNode":true,"value":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b"},{"children":[{"references":[{"originId":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_3","parentNode":true,"value":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","label":"type","type":"string","value":"type","fileType":""}],"label":"","value":""}],"label":"变量提取器_1","parentNode":true,"value":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},{"children":[{"references":[{"originId":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","id":"8e7e65c0-4ea6-4146-b2ff-b5f76fedc920","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"数据库_4","parentNode":true,"value":"database::0a33e57f-e726-4f1b-af98-229c731b9cec"}],"status":"","updatable":false},"dragging":false,"height":1040,"id":"spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd","position":{"x":3618.106168818236,"y":1955.076432961555},"positionAbsolute":{"x":3618.106168818236,"y":1955.076432961555},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合提取变量描述，将上一节点输出的自然语言进行提取","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png","inputs":[{"fileType":"","id":"38d4e03d-2c97-44ca-a996-30cd2ab426bf","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","nodeId":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979"},"contentErrMsg":"","type":"ref"}}}],"label":"变量提取器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量提取器_1","nodeType":"基础节点"},"nodeParam":{"topK":4,"apiKey":"7b709739e8da44536127a333c7603a83","reasonMode":1,"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","patchId":"0","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","name":"pay_time","nameErrMsg":"","required":true,"schema":{"description":"提取pay_time的值","type":"string"}},{"id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","name":"type","nameErrMsg":"","required":true,"schema":{"description":"提取type的值","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_3","parentNode":true,"value":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":443,"id":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","position":{"x":51.128021716056764,"y":1571.1945272896141},"positionAbsolute":{"x":51.128021716056764,"y":1571.1945272896141},"selected":false,"type":"变量提取器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"86f7b5d2-fd7f-4a73-9d00-006bd007922e","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"type","id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","nodeId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},"contentErrMsg":"","type":"ref"}}},{"id":"c401f889-b4af-4f7b-a6b3-7d223e3f6d03","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"默认","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器_1","nodeType":"分支器"},"nodeParam":{"uid":"4403454","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::9bc1e7a2-fa29-42fa-93d4-bf1d82b68993","conditions":[{"leftVarIndex":"86f7b5d2-fd7f-4a73-9d00-006bd007922e","rightVarIndex":"c401f889-b4af-4f7b-a6b3-7d223e3f6d03","compareOperatorErrMsg":"","id":"","compareOperator":"eq"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::617f5546-1c66-493a-8708-6c8dc2608761","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[],"references":[{"children":[{"references":[{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","label":"type","type":"string","value":"type","fileType":""}],"label":"","value":""}],"label":"变量提取器_1","parentNode":true,"value":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},{"children":[{"references":[{"originId":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_3","parentNode":true,"value":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::839bc018-a9ed-48cc-8b59-f553b6b456c6","position":{"x":897.7365307873706,"y":1580.8820838276256},"positionAbsolute":{"x":897.7365307873706,"y":1580.8820838276256},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持用户自定义的SQL完成对数据库的增删改查操作","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg","inputs":[{"fileType":"","id":"2fe057b9-0a53-49ac-a441-bbd75aeac246","name":"2fe057b9-0a53-49ac-a441-bbd75aeac246","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","nodeId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f53218aa-afb6-4c71-96b2-5eaa9ac5026a","name":"f53218aa-afb6-4c71-96b2-5eaa9ac5026a","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"type","id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","nodeId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},"contentErrMsg":"","type":"ref"}}}],"label":"数据库_4","labelEdit":false,"nodeMeta":{"aliasName":"数据库_4","nodeType":"基础节点"},"nodeParam":{"cases":[{"logicalOperator":"and","id":"3376e929-efed-4a23-b860-e5b0284c5cf3","conditions":[{"fieldErrMsg":"","fieldName":"pay_time","compareOperatorErrMsg":"","id":"702021f9-5206-499d-b68a-17d1aa24373c","varIndex":"2fe057b9-0a53-49ac-a441-bbd75aeac246","selectCondition":"=","fieldType":"time"},{"fieldErrMsg":"","fieldName":"type","compareOperatorErrMsg":"","id":"0470fadf-b47b-4c64-a204-22af1cad05e4","varIndex":"f53218aa-afb6-4c71-96b2-5eaa9ac5026a","selectCondition":"=","fieldType":"string"}]}],"apiKey":"7b709739e8da44536127a333c7603a83","dbErrMsg":"","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","assignmentList":["pay_time","type","total","detail"],"tableName":"notes","mode":3,"uid":"4403454","appId":"680ab54f","dbId":"7361321658223382528","limit":50,"orderData":[{"fieldName":"pay_time","order":"desc"}],"tableNameErrMsg":""},"outputs":[{"id":"b33a858b-2b85-4d03-9fb5-50692ac9aabd","name":"isSuccess","nameErrMsg":"","schema":{"default":"SQL语句执行状态标识，成功true，失败false","type":"boolean"}},{"id":"717967c6-03ce-4680-ab0f-a9a10b7f1d43","name":"message","nameErrMsg":"","schema":{"default":"失败原因","type":"string"}},{"id":"4bc73a6c-a08d-4396-8ca4-d4d75f3f736d","name":"outputList","nameErrMsg":"","schema":{"default":"执行结果","type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"c44beefa-a5d4-42a5-829d-c7c3866d8e05","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","id":"25578a22-0a33-43eb-b5d8-1e54509f72cc","label":"type","type":"string","value":"type","fileType":""}],"label":"","value":""}],"label":"变量提取器_1","parentNode":true,"value":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05"},{"children":[{"references":[{"originId":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","id":"f8922d18-d96e-4e82-a627-e8d4ac77c58b","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_3","parentNode":true,"value":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1021,"id":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","position":{"x":2597.7353576678242,"y":2373.387797437072},"positionAbsolute":{"x":2597.7353576678242,"y":2373.387797437072},"selected":false,"type":"数据库节点","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"0eb8bdb4-b413-49e2-bef7-024459073d9a","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","nodeId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},"contentErrMsg":"","type":"ref"}}},{"id":"76d118bb-1d25-4e11-ad41-b0d67f9a8d7f","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"5fadb3ba-e8e2-43e9-a207-76f43ca4e3f8","name":"inpute071af93f7034d9792107bdb33aa2d86","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","nodeId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},"contentErrMsg":"","type":"ref"}}},{"id":"d40ac719-02c7-4e55-bd6f-c9dfc91bb677","name":"input1ed347e14137434d848442a16af3ac78","nameErrMsg":"","schema":{"type":"string","value":{"content":"默认","contentErrMsg":"","type":"literal"}}}],"label":"分支器_判断用户输入信息中是否包含日期","labelEdit":false,"nodeMeta":{"aliasName":"分支器_判断用户输入信息中是否包含日期","nodeType":"分支器"},"nodeParam":{"uid":"4403454","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::56ac8320-4c71-4b96-ad54-e58f3a8f8fbd","conditions":[{"leftVarIndex":"0eb8bdb4-b413-49e2-bef7-024459073d9a","rightVarIndex":"76d118bb-1d25-4e11-ad41-b0d67f9a8d7f","compareOperatorErrMsg":"","id":"","compareOperator":"empty"},{"leftVarIndex":"5fadb3ba-e8e2-43e9-a207-76f43ca4e3f8","rightVarIndex":"d40ac719-02c7-4e55-bd6f-c9dfc91bb677","compareOperatorErrMsg":"","id":"87503c60-8761-4255-995e-0ce1c1a29370","compareOperator":"eq"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::3ab2d48b-7784-4bcb-91b8-5739ced5aa0a","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":408,"id":"if-else::9e5e1aeb-54e1-4a75-add1-e6ef361bd85c","position":{"x":-102.3866803968101,"y":-32.3806931560307},"positionAbsolute":{"x":-102.3866803968101,"y":-32.3806931560307},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"3161bd32-2fc4-4e28-bd88-705395f6d63e","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_询问用户消费日期","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_询问用户消费日期","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"请问你该笔消费日期是什么时候？","apiKey":"7b709739e8da44536127a333c7603a83","answerType":"direct","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":110,"timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":true,"maxRetryCounts":2},"serviceId":"bm4","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::860ad268-5680-4feb-94c1-73fb436b1cad","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::efd25084-2211-4558-be0c-28a2c1d98700","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::dac688ec-2ebc-424a-b39d-bb1443fcf40d","type":1,"content":""}],"questionErrMsg":""},"outputs":[{"id":"4afcfb2b-d034-4ba7-82d8-07b1dbeaa5ae","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"ea2ba865-4d85-43ea-9da2-4ee18e4a1343","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}},{"id":"021825c8-9414-479a-986b-6cd742f95f65","name":"pay_time","nameErrMsg":"","required":true,"schema":{"default":"","description":"提取输入内容中的日期，没有说年份时，默认为2025年，输出格式如：2025-8-1","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":837,"id":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","position":{"x":717.7406247786396,"y":-365.2949062291771},"positionAbsolute":{"x":717.7406247786396,"y":-365.2949062291771},"selected":false,"type":"问答节点","width":651},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"7c812eda-24fb-49d6-ba1f-8efa026daeff","name":"pay_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","nodeId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_1","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7361602043756732418"},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::09ef5df2-6655-48bb-809b-78a5d00e0db5","position":{"x":175.91820195744344,"y":754.1483901276438},"positionAbsolute":{"x":175.91820195744344,"y":754.1483901276438},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"7c812eda-24fb-49d6-ba1f-8efa026daeff","name":"pay_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"pay_time","id":"021825c8-9414-479a-986b-6cd742f95f65","nodeId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_2","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7361602043756732418"},"outputs":[],"references":[{"children":[{"references":[{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"4afcfb2b-d034-4ba7-82d8-07b1dbeaa5ae","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"ea2ba865-4d85-43ea-9da2-4ee18e4a1343","label":"content","type":"string","value":"content","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"021825c8-9414-479a-986b-6cd742f95f65","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"问答节点_询问用户消费日期","parentNode":true,"value":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d"},{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::c8bda3dc-1d40-4a97-b0e9-33e323cfbc15","position":{"x":1440.7234233486088,"y":-68.51670619668224},"positionAbsolute":{"x":1440.7234233486088,"y":-68.51670619668224},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_3","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"get","apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","flowId":"7361602043756732418"},"outputs":[{"id":"b675bf58-affa-4fe6-8adc-2afd9b501013","name":"pay_time","nameErrMsg":"","refId":"7c812eda-24fb-49d6-ba1f-8efa026daeff","required":true,"schema":{"description":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"76cf81ff-09bf-41bd-bfa0-574ad52e2b98","label":"pay_time","type":"string","value":"pay_time","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"e64a839f-3298-4dd7-8754-1cb430280116","label":"type","type":"string","value":"type","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"2a2522e3-2d5e-4f13-8a10-ed421f5dbaf2","label":"total","type":"string","value":"total","fileType":""},{"originId":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","id":"8033780e-1dad-49fa-8d51-7d848c7e444e","label":"detail","type":"string","value":"detail","fileType":""}],"label":"","value":""}],"label":"大模型_变量提取","parentNode":true,"value":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9"},{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"4afcfb2b-d034-4ba7-82d8-07b1dbeaa5ae","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"ea2ba865-4d85-43ea-9da2-4ee18e4a1343","label":"content","type":"string","value":"content","fileType":""},{"originId":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","id":"021825c8-9414-479a-986b-6cd742f95f65","label":"pay_time","type":"string","value":"pay_time","fileType":""}],"label":"","value":""}],"label":"问答节点_询问用户消费日期","parentNode":true,"value":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d"}],"status":"","updatable":false},"dragging":false,"height":268,"id":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","position":{"x":1505.9604329669696,"y":556.3341112233103},"positionAbsolute":{"x":1505.9604329669696,"y":556.3341112233103},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"fe6f5bfd-6b77-4d57-aa1f-795647bd0928","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_5","labelEdit":false,"nodeMeta":{"aliasName":"大模型_5","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"如果用户咨询记账和查询消费以外的问题，请以记账助手的身份简要回答用户的问题，并且提醒主人，你的主要功能是记账。\\n用户的问题是：{{input}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4403454","patchId":"0","isThink":false,"templateErrMsg":"","searchDisable":true,"domain":"xdeepseekv3","appId":"680ab54f","maxTokens":8192,"temperature":0.5,"systemTemplate":"你是一个记账助手，你可以帮主人记录每一笔消费，并且能够查询消费详情和消费总额。","model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"b852796c-8c3c-4e56-9380-efd3b64a1aab","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","id":"7c36f213-c54a-4c5a-9793-32d2f316f828","label":"class_name","type":"string","value":"class_name","fileType":""}],"label":"","value":""}],"label":"决策_识别用户意图分类","parentNode":true,"value":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":774,"id":"spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2","position":{"x":249.63679648377092,"y":2295.008916837705},"positionAbsolute":{"x":249.63679648377092,"y":2295.008916837705},"selected":false,"type":"大模型","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::260ddc51-38ef-4d62-8ce1-31685a361751intent-one-of::dc057e25-4892-4fd8-ad03-b9a32892fe89-spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","sourceHandle":"intent-one-of::dc057e25-4892-4fd8-ad03-b9a32892fe89","target":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-database::207a2593-6d27-4d5f-a5ab-669110c2fc8c-database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","target":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602-spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"database::65cb6ec0-af9d-4c48-a14a-c7e23cd51602","target":"spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::d2f9a28e-7f90-4028-b1c7-e69c7972d72f","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::260ddc51-38ef-4d62-8ce1-31685a361751intent-one-of::cced88d3-5d3c-4aa4-82d4-fe98bf6ee054-spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","sourceHandle":"intent-one-of::cced88d3-5d3c-4aa4-82d4-fe98bf6ee054","target":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b-spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","target":"spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979-extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::e9ca4aee-4ca1-4358-9302-825e15a31979","target":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05-if-else::839bc018-a9ed-48cc-8b59-f553b6b456c6","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"extractor-parameter::351b8132-bdcd-403d-ad96-d4024cf9ee05","target":"if-else::839bc018-a9ed-48cc-8b59-f553b6b456c6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::839bc018-a9ed-48cc-8b59-f553b6b456c6branch_one_of::9bc1e7a2-fa29-42fa-93d4-bf1d82b68993-database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::839bc018-a9ed-48cc-8b59-f553b6b456c6","sourceHandle":"branch_one_of::9bc1e7a2-fa29-42fa-93d4-bf1d82b68993","target":"database::fb5d1eba-73f0-4692-99bf-4cc79ed3464b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::839bc018-a9ed-48cc-8b59-f553b6b456c6branch_one_of::617f5546-1c66-493a-8708-6c8dc2608761-database::0a33e57f-e726-4f1b-af98-229c731b9cec","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::839bc018-a9ed-48cc-8b59-f553b6b456c6","sourceHandle":"branch_one_of::617f5546-1c66-493a-8708-6c8dc2608761","target":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-database::0a33e57f-e726-4f1b-af98-229c731b9cec-spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"database::0a33e57f-e726-4f1b-af98-229c731b9cec","target":"spark-llm::b4aac09a-614e-4eb1-8cd3-140db4d1cbdd","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9-if-else::9e5e1aeb-54e1-4a75-add1-e6ef361bd85c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","target":"if-else::9e5e1aeb-54e1-4a75-add1-e6ef361bd85c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::9e5e1aeb-54e1-4a75-add1-e6ef361bd85cbranch_one_of::56ac8320-4c71-4b96-ad54-e58f3a8f8fbd-question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::9e5e1aeb-54e1-4a75-add1-e6ef361bd85c","sourceHandle":"branch_one_of::56ac8320-4c71-4b96-ad54-e58f3a8f8fbd","target":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9-node-variable::09ef5df2-6655-48bb-809b-78a5d00e0db5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::050c69bc-adf5-4f76-b400-0009d1650ec9","target":"node-variable::09ef5df2-6655-48bb-809b-78a5d00e0db5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d-node-variable::c8bda3dc-1d40-4a97-b0e9-33e323cfbc15","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::6ccf99dd-78f8-4155-a151-c582a1897a0d","target":"node-variable::c8bda3dc-1d40-4a97-b0e9-33e323cfbc15","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::09ef5df2-6655-48bb-809b-78a5d00e0db5-node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::09ef5df2-6655-48bb-809b-78a5d00e0db5","target":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::c8bda3dc-1d40-4a97-b0e9-33e323cfbc15-node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::c8bda3dc-1d40-4a97-b0e9-33e323cfbc15","target":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b-database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::b8fbfdf5-3552-4b49-8c04-00d18f79342b","target":"database::207a2593-6d27-4d5f-a5ab-669110c2fc8c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::9e5e1aeb-54e1-4a75-add1-e6ef361bd85cbranch_one_of::3ab2d48b-7784-4bcb-91b8-5739ced5aa0a-node-variable::09ef5df2-6655-48bb-809b-78a5d00e0db5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::9e5e1aeb-54e1-4a75-add1-e6ef361bd85c","sourceHandle":"branch_one_of::3ab2d48b-7784-4bcb-91b8-5739ced5aa0a","target":"node-variable::09ef5df2-6655-48bb-809b-78a5d00e0db5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::260ddc51-38ef-4d62-8ce1-31685a361751intent-one-of::0eeac55a-0efc-4092-bb5f-9064862bd40f-spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::260ddc51-38ef-4d62-8ce1-31685a361751","sourceHandle":"intent-one-of::0eeac55a-0efc-4092-bb5f-9064862bd40f","target":"spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f84fea1-03c7-4005-9770-60e68ccb3bb2","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["2025年8月1日请同事吃饭，分类为应酬，消费500元","去北京玩，花费10000元，分类为旅游","帮我查询下8月份以来的消费记录"],"prologueText":"Hi，我是你的记账小助理，你想记录每一次消费或者查询你的消费信息，请和我说~\\n（注意，本画布为模板，仅供参考。使用数据库节点前，需要前往资源管理，新建数据库表）"},"needGuide":false}', NULL, 15, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(189931, 18882349618, '680ab54f', '7363088914949136386', '【模板勿动】养生指南', '模板', 0, 0, '2025-08-18 14:06:41', '2025-09-10 16:34:10', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":0,"y":4457.774910560021},"positionAbsolute":{"x":-3510.2194120202475,"y":2195.8459427222933},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"db80e423-1c4d-46a3-9dee-818aef2af41e","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"82cc0680-f607-4c28-af1f-dcdd7077224f","nodeId":"spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"667a664d-65bf-4394-9c72-f0468c542e7e","name":"doudi","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"7759e87a-b663-4fc4-a164-aa66cf881970","nodeId":"spark-llm::11d9226f-00b8-4faa-a755-a22378084657"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}{{doudi}}","streamOutput":true,"apiKey":"7b709739e8da44536127a333c7603a83","templateErrMsg":"","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","outputMode":1,"reasoningTemplate":"\\n"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::11d9226f-00b8-4faa-a755-a22378084657","id":"7759e87a-b663-4fc4-a164-aa66cf881970","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"兜底问答","parentNode":true,"value":"spark-llm::11d9226f-00b8-4faa-a755-a22378084657"},{"children":[{"references":[{"originId":"spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37","id":"82cc0680-f607-4c28-af1f-dcdd7077224f","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"生成体质类型和养生建议","parentNode":true,"value":"spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37"},{"children":[{"references":[{"originId":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","id":"733357e1-fb78-41da-97b7-54db6b0ef477","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","id":"1c33a084-dd2b-4736-ac99-4e0938e4bbb9","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","id":"b07426b0-2995-4802-83c6-b2f15d1fb181","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"获取问题和答案","parentNode":true,"value":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae"},{"children":[{"references":[{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","id":"c6761b60-f6e1-46ea-8dae-225baa4c81c9","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","id":"a9d3fa3f-e3ab-4ae5-9584-f1173b817cc1","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","children":[],"id":"403cb633-f9b9-40db-aba0-f1cba5b17a38","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"存储问题和答案","parentNode":true,"value":"database::a497c542-8250-464d-be44-76631d52f1a8"},{"children":[{"references":[{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"2e5c6763-d59b-4964-b91b-d24d873a426d","label":"a1","type":"string","value":"a1","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"eb5c38aa-4515-4f7d-8575-bf258405bbb9","label":"a2","type":"string","value":"a2","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"8b815cd4-4f2f-4a08-b952-1adfdc6222e0","label":"a3","type":"string","value":"a3","fileType":""}],"label":"","value":""}],"label":"提取3个答案","parentNode":true,"value":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af"},{"children":[{"references":[{"originId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","children":[],"id":"631d18fc-bb11-44f5-8dcf-960c1167decd","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代节点-测评交互","parentNode":true,"value":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46"},{"children":[{"references":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","children":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"99e66b79-93ed-48cc-a690-a8a5e029037c","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"3193d074-ae75-4f5d-a88a-3e0e3bd55ee1","label":"option_A","type":"string","value":"question.option_A","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"36fe34f1-7015-4852-bf3d-2b9be3ff7dd5","label":"option_B","type":"string","value":"question.option_B","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"de579fde-b51a-47b1-98de-86c831114606","label":"option_C","type":"string","value":"question.option_C","parentType":"array-object","fileType":""}],"id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"面试题转换为python列表","parentNode":true,"value":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5"},{"children":[{"references":[{"originId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"测评题目生成","parentNode":true,"value":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},{"children":[{"references":[{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"a9a6115b-9efd-4a20-8036-1ffa76b293bc","label":"q1","type":"string","value":"q1","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"90bbb8cc-42b7-4182-8b40-ddeaf10963d7","label":"q2","type":"string","value":"q2","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"37861f26-b4a2-4b61-b4a4-d2e639bf728f","label":"q3","type":"string","value":"q3","fileType":""}],"label":"","value":""}],"label":"提取3个题目","parentNode":true,"value":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a"}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":7610.443869469302,"y":4868.803419641914},"positionAbsolute":{"x":7610.443869469302,"y":4868.803419641914},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"ee7fa52b-875c-46c2-8c75-51946a5d75c7","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"d10d42cb-d4bf-4cc0-8764-a1d4c7e528fc","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"开始","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器_1","nodeType":"分支器"},"nodeParam":{"uid":"20342301088","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::e59c68c4-74e6-40ca-9e52-84c1010a3f6e","conditions":[{"leftVarIndex":"ee7fa52b-875c-46c2-8c75-51946a5d75c7","rightVarIndex":"d10d42cb-d4bf-4cc0-8764-a1d4c7e528fc","compareOperatorErrMsg":"","id":"","compareOperator":"contains"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::e50b9fd8-8be8-41fa-a759-259d4336ae9b","conditions":[]}],"apiKey":"7b709739e8da44536127a333c7603a83","appId":"680ab54f","apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":368,"id":"if-else::6fdf0b41-418e-4b97-b9a0-2842ed543d8c","position":{"x":840.4354767239797,"y":4417.2513666804725},"positionAbsolute":{"x":840.4354767239797,"y":4417.2513666804725},"selected":false,"type":"分支器","width":684},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"887ef9e7-f5a3-46c0-82a0-d7d81dcde47f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"测评题目生成","labelEdit":false,"nodeMeta":{"aliasName":"大模型_1","nodeType":"基础节点"},"nodeParam":{"template":"{{input}}","apiKey":"7b709739e8da44536127a333c7603a83","modelId":110,"auditing":"default","remark":"使用大模型节点，生成体质测评题目","llmId":110,"uid":"20342301088","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"680ab54f","maxTokens":1024,"temperature":0.5,"model":"spark","setAnswerContentErrMsg":"","serviceId":"bm4","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"NjhmY2NmM2NkZDE4MDFlNmM5ZjcyZjMy","url":"wss://spark-api.xf-yun.com/v4.0/chat","multiMode":false,"serviceIdErrMsg":"","searchDisable":true,"domain":"4.0Ultra","systemTemplate":"# 角色\\n你是一名中医养生博主，你擅长用互联网用户熟悉、适合在互联网传播的语言形式，向用户介绍、普及中医养生知识\\n\\n# 任务\\n- 你的任务是生成3个问题，用于测试用户的寒热倾向（体质阴阳基底）、湿/燥状态（津液代谢）、行为偏好\\n- 要用生活场景代替专业术语，用选择题代替量表打分；\\n- 使用json格式输出，不带任何额外说明文字\\n- 输出的jason格式不能有``````json、``````这类格式标签。\\n\\n\\n## 问题1生成要求\\n- 问题有A、B、C三个选项；\\n- A选项的答案代表怕热，倾向湿热/阴虚体质；\\n- B选项的答案代表怕冷，倾向阳虚体质；\\n- C选项的答案代表冷热都行，但讨厌出汗，倾向平和/气虚体质。\\n### 问题1示例\\n问题1：夏天你最想砸掉的东西是？\\n选项：\\nA. 电风扇（三档风像喘气）\\nB. 冰柜（看见就哆嗦）\\nC. 天气预报（反正不准）\\n\\n## 问题2生成要求\\n- 问题有A、B、C三个选项；\\n- A选项的答案代表湿热倾向；\\n- B选项的答案代表阴虚倾向；\\n- C选项的答案代表痰湿倾向。\\n### 问题2示例\\n问题2：你的皮肤在夏天像？\\n选项：\\nA. 油炸花生米（油光满面痘不断）\\nB. 撒哈拉沙漠（干到爆皮卡粉）\\nC. 吸饱水的海绵（水肿眼袋重）\\n\\n## 问题3生成要求\\n- 问题有A、B、C三个选项；\\n- A选项的答案代表实热/阴虚倾向；\\n- B选项的答案代表湿热倾向；\\n- C选项的答案代表阳虚倾向。\\n### 问题3示例\\n问题3：你夏天的“续命神器”是？\\n选项：\\nA. 冰淇淋三连击（日啖三根基操）\\nB. 螺蛳粉汗蒸（臭味相投套餐）\\nC. 姜茶温水杯（老干部の坚持）\\n\\n\\n## 输出示例如下，注意替换问题内容和选项内容：\\n[\\n      { \\n          \\"question_id\\":\\"01\\", \\n          \\"content\\":\\"[问题1内容]\\",\\n          \\"option_A\\":\\"[问题1选项A内容]\\", \\n          \\" option_B\\":\\"[问题1选项B内容]\\", \\n          \\"option_C\\":\\"[问题1选项C内容]\\"\\n        }, \\n { \\n          \\"question_id\\":\\"02\\", \\n          \\"content\\":\\"[问题2内容]\\",\\n          \\"option_A\\":\\"[问题2选项A内容]\\", \\n          \\" option_B\\":\\"[问题2选项B内容]\\", \\n          \\"option_C\\":\\"[问题2选项C内容]\\"\\n        }, \\n { \\n          \\"question_id\\":\\"03\\", \\n          \\"content\\":\\"[问题3内容]\\",\\n          \\"option_A\\":\\"[问题3选项A内容]\\", \\n          \\" option_B\\":\\"[问题3选项B内容]\\", \\n          \\"option_C\\":\\"[问题3选项C内容]\\"\\n        }\\n]\\n\\n## 输出限制\\n- 直接输出json格式的问题和答案选项，不要附加任何其他解释、说明。\\n","respFormat":0},"outputs":[{"id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"retryConfig":{"customOutput":"{\\n  \\"output\\": \\"\\"\\n}"},"status":"","updatable":false},"dragging":false,"height":1234,"id":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","position":{"x":1899.0547722852284,"y":3354.055893255173},"positionAbsolute":{"x":1899.0547722852284,"y":3354.055893255173},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"5fd0aaba-4057-4440-b00c-3fc9cc033b52","name":"jsonstr","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","nodeId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},"contentErrMsg":"","type":"ref"}}}],"label":"面试题转换为python列表","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"18882349618","code":"# coding=utf-8\\nimport json  \\n  \\ndef main(jsonstr):  \\n    # 解析JSON数组字符串为Python列表  \\n    json_array = json.loads(jsonstr)\\n    return {\\"question\\":json_array}","remarkVisible":true,"appId":"680ab54f","setAnswerContentErrMsg":"输出中变量名校验不通过,自动生成JSON失败","remark":"使用代码节点，讲面试题转换为python列表","codeErrMsg":""},"outputs":[{"id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","name":"question","nameErrMsg":"","schema":{"default":"","properties":[{"default":"","id":"","name":"question_id","required":true,"type":"string"},{"default":"","id":"99e66b79-93ed-48cc-a690-a8a5e029037c","name":"content","required":false,"type":"string"},{"default":"","id":"3193d074-ae75-4f5d-a88a-3e0e3bd55ee1","name":"option_A","required":false,"type":"string"},{"default":"","id":"36fe34f1-7015-4852-bf3d-2b9be3ff7dd5","name":"option_B","required":false,"type":"string"},{"default":"","id":"de579fde-b51a-47b1-98de-86c831114606","name":"option_C","required":false,"type":"string"}],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"测评题目生成","parentNode":true,"value":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1005,"id":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","position":{"x":2572.001792940477,"y":3967.8375063909384},"positionAbsolute":{"x":2572.001792940477,"y":3967.8375063909384},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"1da75b72-75cd-47b0-b658-907f6db1b820","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"question","id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","nodeId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代节点-测评交互","labelEdit":false,"nodeMeta":{"aliasName":"迭代","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","IterationStartNodeId":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f","remarkVisible":true,"appId":"680ab54f","remark":"使用迭代节点+问答节点，与用户进行测评交互，存储答案数据"},"outputs":[{"id":"631d18fc-bb11-44f5-8dcf-960c1167decd","name":"output","nameErrMsg":"","schema":{"default":"","properties":[],"type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","children":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"99e66b79-93ed-48cc-a690-a8a5e029037c","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"3193d074-ae75-4f5d-a88a-3e0e3bd55ee1","label":"option_A","type":"string","value":"question.option_A","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"36fe34f1-7015-4852-bf3d-2b9be3ff7dd5","label":"option_B","type":"string","value":"question.option_B","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"de579fde-b51a-47b1-98de-86c831114606","label":"option_C","type":"string","value":"question.option_C","parentType":"array-object","fileType":""}],"id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"面试题转换为python列表","parentNode":true,"value":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5"}],"status":"","updatable":false},"dragging":false,"height":764,"id":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","position":{"x":3286.2808820365453,"y":4097.010809432431},"positionAbsolute":{"x":3286.2808820365453,"y":4097.010809432431},"selected":true,"type":"迭代","width":985},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"bacafb6c-b543-4da7-a472-c54894bc9690","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"兜底问答","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"{{input}}","enableChatHistoryV2":{"isEnabled":true,"rounds":20},"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"18882349618","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"systemTemplate":"# 角色\\n你是一名中医养生博主，你擅长用互联网用户熟悉、适合在互联网传播的语言形式，向用户介绍、普及中医养生知识。\\n\\n## 任务\\n- 回答用户关于养生方向的问题\\n- 若非健康、养生问题，则回复用户“请提问健康相关问题哦！”\\n\\n## 输出限制\\n- 你要基于你的专业知识进行回答，不能胡编乱造。\\n- 可以适当加入emoji表情\\n- 语言风格、句式结构要符合互联网用户偏好\\n\\n","model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"7759e87a-b663-4fc4-a164-aa66cf881970","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1072,"id":"spark-llm::11d9226f-00b8-4faa-a755-a22378084657","position":{"x":4318.926599039949,"y":5761.157679610102},"positionAbsolute":{"x":4318.926599039949,"y":5761.157679610102},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持用户自定义的SQL完成对数据库的增删改查操作","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg","inputs":[{"description":"问题1","fileType":"","id":"88f4d850-87ad-4a39-a28c-232cab8b9572","name":"q1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"q1","id":"a9a6115b-9efd-4a20-8036-1ffa76b293bc","nodeId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a"},"contentErrMsg":"","type":"ref"}}},{"description":"问题2","fileType":"","id":"c5f6e226-f97f-4819-904b-a2abaa1c5ffb","name":"q2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"q2","id":"90bbb8cc-42b7-4182-8b40-ddeaf10963d7","nodeId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a"},"contentErrMsg":"","type":"ref"}}},{"description":"问题3","fileType":"","id":"c22ee51d-c746-4499-8f32-7845a337b36c","name":"q3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"q3","id":"37861f26-b4a2-4b61-b4a4-d2e639bf728f","nodeId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a"},"contentErrMsg":"","type":"ref"}}},{"description":"答案1","fileType":"","id":"6fb6a209-0019-4826-b4f2-026fb532da4e","name":"a1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"a1","id":"2e5c6763-d59b-4964-b91b-d24d873a426d","nodeId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af"},"contentErrMsg":"","type":"ref"}}},{"description":"答案2","fileType":"","id":"114b6929-d480-4462-a8a0-f702f6a88af6","name":"a2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"a2","id":"eb5c38aa-4515-4f7d-8575-bf258405bbb9","nodeId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af"},"contentErrMsg":"","type":"ref"}}},{"description":"答案3","fileType":"","id":"0400b281-052e-4d97-b3b6-0a3c27d7bea1","name":"a3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"a3","id":"8b815cd4-4f2f-4a08-b952-1adfdc6222e0","nodeId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af"},"contentErrMsg":"","type":"ref"}}}],"label":"存储问题和答案","labelEdit":false,"nodeMeta":{"aliasName":"数据库节点","nodeType":"基础节点"},"nodeParam":{"mode":1,"uid":"18882349618","cases":[],"remarkVisible":true,"appId":"680ab54f","dbId":"7368570668887699456","dbErrMsg":"","orderData":[],"remark":"使用数据库节点，存储问题和答案","tableNameErrMsg":"","assignmentList":[],"tableName":"q_and_a"},"outputs":[{"id":"c6761b60-f6e1-46ea-8dae-225baa4c81c9","name":"isSuccess","nameErrMsg":"","schema":{"default":"SQL语句执行状态标识，成功true，失败false","type":"boolean"}},{"id":"a9d3fa3f-e3ab-4ae5-9584-f1173b817cc1","name":"message","nameErrMsg":"","schema":{"default":"失败原因","type":"string"}},{"id":"403cb633-f9b9-40db-aba0-f1cba5b17a38","name":"outputList","nameErrMsg":"","schema":{"default":"执行结果","properties":[],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"测评题目生成","parentNode":true,"value":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"a9a6115b-9efd-4a20-8036-1ffa76b293bc","label":"q1","type":"string","value":"q1","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"90bbb8cc-42b7-4182-8b40-ddeaf10963d7","label":"q2","type":"string","value":"q2","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"37861f26-b4a2-4b61-b4a4-d2e639bf728f","label":"q3","type":"string","value":"q3","fileType":""}],"label":"","value":""}],"label":"提取3个题目","parentNode":true,"value":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a"},{"children":[{"references":[{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"2e5c6763-d59b-4964-b91b-d24d873a426d","label":"a1","type":"string","value":"a1","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"eb5c38aa-4515-4f7d-8575-bf258405bbb9","label":"a2","type":"string","value":"a2","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"8b815cd4-4f2f-4a08-b952-1adfdc6222e0","label":"a3","type":"string","value":"a3","fileType":""}],"label":"","value":""}],"label":"提取3个答案","parentNode":true,"value":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af"},{"children":[{"references":[{"originId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","children":[],"id":"631d18fc-bb11-44f5-8dcf-960c1167decd","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代节点-测评交互","parentNode":true,"value":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46"},{"children":[{"references":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","children":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"99e66b79-93ed-48cc-a690-a8a5e029037c","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"3193d074-ae75-4f5d-a88a-3e0e3bd55ee1","label":"option_A","type":"string","value":"question.option_A","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"36fe34f1-7015-4852-bf3d-2b9be3ff7dd5","label":"option_B","type":"string","value":"question.option_B","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"de579fde-b51a-47b1-98de-86c831114606","label":"option_C","type":"string","value":"question.option_C","parentType":"array-object","fileType":""}],"id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"面试题转换为python列表","parentNode":true,"value":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5"}],"status":"","updatable":false},"dragging":false,"height":898,"id":"database::a497c542-8250-464d-be44-76631d52f1a8","position":{"x":5105.446112205331,"y":3668.6215136172473},"positionAbsolute":{"x":5105.446112205331,"y":3668.6215136172473},"selected":false,"type":"数据库节点","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合提取变量描述，将上一节点输出的自然语言进行提取","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png","inputs":[{"fileType":"","id":"87768990-de57-47d9-ab7f-fbcc8f58c718","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","nodeId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},"contentErrMsg":"","type":"ref"}}}],"label":"提取3个题目","labelEdit":false,"nodeMeta":{"aliasName":"变量提取器","nodeType":"基础节点"},"nodeParam":{"topK":4,"reasonMode":1,"auditing":"default","remark":"使用变量存储器节点，提取题目数据","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"18882349618","patchId":"0","remarkVisible":true,"domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","setAnswerContentErrMsg":"输出中变量名校验不通过,自动生成JSON失败","serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"a9a6115b-9efd-4a20-8036-1ffa76b293bc","name":"q1","nameErrMsg":"","required":true,"schema":{"description":"问题1","type":"string"}},{"id":"90bbb8cc-42b7-4182-8b40-ddeaf10963d7","name":"q2","nameErrMsg":"","required":true,"schema":{"description":"问题2","type":"string"}},{"id":"37861f26-b4a2-4b61-b4a4-d2e639bf728f","name":"q3","nameErrMsg":"","required":true,"schema":{"description":"问题3","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"测评题目生成","parentNode":true,"value":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":541,"id":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","position":{"x":3487.3843695182695,"y":3039.1953379324973},"positionAbsolute":{"x":3487.3843695182695,"y":3039.1953379324973},"selected":false,"type":"变量提取器","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合提取变量描述，将上一节点输出的自然语言进行提取","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png","inputs":[{"fileType":"","id":"57c66faa-fa8d-4afa-8a12-bd3ef4f8c674","name":"input","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"output","id":"631d18fc-bb11-44f5-8dcf-960c1167decd","nodeId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46"},"contentErrMsg":"","type":"ref"}}}],"label":"提取3个答案","labelEdit":false,"nodeMeta":{"aliasName":"变量提取器","nodeType":"基础节点"},"nodeParam":{"topK":4,"reasonMode":1,"auditing":"default","remark":"使用变量提取器节点，提取答案数据","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"18882349618","patchId":"0","remarkVisible":true,"domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"2e5c6763-d59b-4964-b91b-d24d873a426d","name":"a1","nameErrMsg":"","required":true,"schema":{"description":"第一个对象","type":"string"}},{"id":"eb5c38aa-4515-4f7d-8575-bf258405bbb9","name":"a2","nameErrMsg":"","required":true,"schema":{"description":"第二个对象","type":"string"}},{"id":"8b815cd4-4f2f-4a08-b952-1adfdc6222e0","name":"a3","nameErrMsg":"","required":true,"schema":{"description":"第三个对象","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","children":[],"id":"631d18fc-bb11-44f5-8dcf-960c1167decd","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代节点-测评交互","parentNode":true,"value":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46"},{"children":[{"references":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","children":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"99e66b79-93ed-48cc-a690-a8a5e029037c","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"3193d074-ae75-4f5d-a88a-3e0e3bd55ee1","label":"option_A","type":"string","value":"question.option_A","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"36fe34f1-7015-4852-bf3d-2b9be3ff7dd5","label":"option_B","type":"string","value":"question.option_B","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"de579fde-b51a-47b1-98de-86c831114606","label":"option_C","type":"string","value":"question.option_C","parentType":"array-object","fileType":""}],"id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"面试题转换为python列表","parentNode":true,"value":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5"},{"children":[{"references":[{"originId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"测评题目生成","parentNode":true,"value":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":541,"id":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","position":{"x":4345.842069852309,"y":4291.433026092464},"positionAbsolute":{"x":4345.842069852309,"y":4291.433026092464},"selected":false,"type":"变量提取器","width":597},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持用户自定义的SQL完成对数据库的增删改查操作","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg","inputs":[{"id":"aaeeb6c3-5d66-4dbc-a7f1-17386628dede","name":"aaeeb6c3-5d66-4dbc-a7f1-17386628dede","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"id":"0a43e2b9-2543-45b3-88c8-96be0fe52675","name":"0a43e2b9-2543-45b3-88c8-96be0fe52675","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"id":"cf5c1c09-c85b-4c89-9105-72cb762ea7d0","name":"cf5c1c09-c85b-4c89-9105-72cb762ea7d0","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}}],"label":"获取问题和答案","labelEdit":false,"nodeMeta":{"aliasName":"数据库节点","nodeType":"基础节点"},"nodeParam":{"cases":[{"logicalOperator":"and","id":"a88c2cd6-b85c-43bf-a246-c800871e1737","conditions":[{"fieldErrMsg":"","fieldName":"a1","compareOperatorErrMsg":"","id":"6a250a43-013d-4cd7-998b-a17a22f914d7","varIndex":"aaeeb6c3-5d66-4dbc-a7f1-17386628dede","selectCondition":"not null","fieldType":"string"},{"fieldErrMsg":"","fieldName":"a2","compareOperatorErrMsg":"","id":"72747f3c-61bc-49d2-9615-e60fa26a88cf","varIndex":"0a43e2b9-2543-45b3-88c8-96be0fe52675","selectCondition":"not null","fieldType":"string"},{"fieldErrMsg":"","fieldName":"a3","compareOperatorErrMsg":"","id":"302126db-6db2-41d6-84f2-fa7c5626534a","varIndex":"cf5c1c09-c85b-4c89-9105-72cb762ea7d0","selectCondition":"not null","fieldType":"string"}]}],"dbErrMsg":"","remark":"使用数据库节点，读取问题和答案","assignmentList":["a1","a2","a3","q1","q2","q3"],"tableName":"q_and_a","mode":3,"uid":"18882349618","remarkVisible":true,"appId":"680ab54f","dbId":"7368570668887699456","limit":1,"orderData":[{"fieldName":"create_time","order":"desc"}],"tableNameErrMsg":""},"outputs":[{"id":"733357e1-fb78-41da-97b7-54db6b0ef477","name":"isSuccess","nameErrMsg":"","schema":{"default":"SQL语句执行状态标识，成功true，失败false","type":"boolean"}},{"id":"1c33a084-dd2b-4736-ac99-4e0938e4bbb9","name":"message","nameErrMsg":"","schema":{"default":"失败原因","type":"string"}},{"id":"b07426b0-2995-4802-83c6-b2f15d1fb181","name":"outputList","nameErrMsg":"","schema":{"default":"执行结果","type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","id":"c6761b60-f6e1-46ea-8dae-225baa4c81c9","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","id":"a9d3fa3f-e3ab-4ae5-9584-f1173b817cc1","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","children":[],"id":"403cb633-f9b9-40db-aba0-f1cba5b17a38","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"存储问题和答案","parentNode":true,"value":"database::a497c542-8250-464d-be44-76631d52f1a8"},{"children":[{"references":[{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"2e5c6763-d59b-4964-b91b-d24d873a426d","label":"a1","type":"string","value":"a1","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"eb5c38aa-4515-4f7d-8575-bf258405bbb9","label":"a2","type":"string","value":"a2","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"8b815cd4-4f2f-4a08-b952-1adfdc6222e0","label":"a3","type":"string","value":"a3","fileType":""}],"label":"","value":""}],"label":"提取3个答案","parentNode":true,"value":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af"},{"children":[{"references":[{"originId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","children":[],"id":"631d18fc-bb11-44f5-8dcf-960c1167decd","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代节点-测评交互","parentNode":true,"value":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46"},{"children":[{"references":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","children":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"99e66b79-93ed-48cc-a690-a8a5e029037c","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"3193d074-ae75-4f5d-a88a-3e0e3bd55ee1","label":"option_A","type":"string","value":"question.option_A","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"36fe34f1-7015-4852-bf3d-2b9be3ff7dd5","label":"option_B","type":"string","value":"question.option_B","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"de579fde-b51a-47b1-98de-86c831114606","label":"option_C","type":"string","value":"question.option_C","parentType":"array-object","fileType":""}],"id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"面试题转换为python列表","parentNode":true,"value":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5"},{"children":[{"references":[{"originId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"测评题目生成","parentNode":true,"value":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"a9a6115b-9efd-4a20-8036-1ffa76b293bc","label":"q1","type":"string","value":"q1","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"90bbb8cc-42b7-4182-8b40-ddeaf10963d7","label":"q2","type":"string","value":"q2","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"37861f26-b4a2-4b61-b4a4-d2e639bf728f","label":"q3","type":"string","value":"q3","fileType":""}],"label":"","value":""}],"label":"提取3个题目","parentNode":true,"value":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a"}],"status":"","updatable":false},"dragging":false,"height":1359,"id":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","position":{"x":5869.77804762051,"y":3448.5268235817916},"positionAbsolute":{"x":5869.77804762051,"y":3448.5268235817916},"selected":false,"type":"数据库节点","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"c6995ec0-f958-4e4f-8e69-1c74317e36aa","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"outputList","id":"b07426b0-2995-4802-83c6-b2f15d1fb181","nodeId":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae"},"contentErrMsg":"","type":"ref"}}}],"label":"生成体质类型和养生建议","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"用户的体质测试问题和答案是：\\n{{{input}}","modelId":141,"enableChatHistoryV2":{"isEnabled":true,"rounds":20},"auditing":"default","remark":"根据问题和答案，生成体质测评报告+养生建议","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","searchDisable":true,"remarkVisible":true,"domain":"xdeepseekv3","appId":"680ab54f","maxTokens":8192,"temperature":0.5,"systemTemplate":"# 角色\\n你是一名中医养生博主，你擅长用互联网用户熟悉、适合在互联网传播的语言形式，向用户介绍、普及中医养生知识。\\n\\n## 任务\\n你的任务是根据用户的体质测评问答内容，判断出用户的体质，并给出用户养生指南。内容可参考以下几个部分：\\n- 体质分类：根据用户的体质测评问答内容，分析用户的体质分类，可以加上匹配度百分比，凸显专业、严谨。\\n- 养生指南：要在体质分类结果基础上进行拓展说明，内容应包括生活建议、饮食建议、食谱/饮品推荐等，不能与体质分类有冲突、矛盾。\\n\\n## 示例\\n🌿【你的体质档案】🌿\\n✅痰湿质（匹配度80%）🌧️💦——身体像梅雨季的江南，黏糊糊、沉甸甸，湿气裹着痰浊在体内扎营！\\n\\n🔥养生指南·专治“油腻大叔/阿姨”体质🔥\\n🌟生活建议：动起来甩掉赘肉！\\n\\n✔️每天快走40分钟🏃♀️，微汗即止（别学别人猛练，你容易累趴）；\\n\\n✔️午后雷打不动小憩20分钟🛌，但别一睡到底变咸鱼；\\n\\n🍲饮食红黑榜：吃对这些才不肿成球！\\n\\n⚠️❌拒绝清单：奶茶🧋、炸鸡🍗、蛋糕🎂（甜食会催生更多痰！）；冷饮🧊冻住脾胃=雪上加霜。\\n\\n✅✔️开挂组合：冬瓜海带汤🥒+薏米赤小豆粥🍚+凉拌莴笋丝🥦，每日轮换着吃。重点来了👇\\n\\n🍹独家祛湿魔法水：三花陈皮饮🌸\\n\\n配方超简单：玫瑰花3朵🌹 + 茉莉花1把 + 陈皮5克🍊 煮水代茶喝！\\n\\n✨功效解析：玫瑰疏肝解郁，茉莉芳香化浊，陈皮强力刮油去痰——喝完感觉身体轻到能飘～\\n\\n🍳懒人救星食谱：荷叶蒸鲈鱼🐟\\n\\n做法：①鲜荷叶垫碗底🍃；②鲈鱼抹薄盐腌制10分钟🐟；③大火清蒸8分钟⏰；④淋少许蒸鱼豉油酱油滴完事！\\n\\n💡原理：荷叶利水渗湿是王者，搭配优质蛋白还不长胖，痰湿星人放心炫！\\n\\n💡最后划重点：夏天少露脐部肚脐眼！那里可是湿气入侵大门🚫，随身带件薄外套护住丹田穴位～\\n\\n\\n## 输出限制\\n- 体质类型应重点、突出展示。\\n- 可以适当加入emoji表情。\\n- 我给你的示例只是一个例子，格式、emoji等你都可以自由发挥。\\n- 养生指南部分不要带来强烈的季节特征，应是全年都适用的指南。\\n- 语言风格、句式结构要符合互联网用户偏好。\\n- 你要基于你的专业知识生成内容，不能胡编乱造","model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"82cc0680-f607-4c28-af1f-dcdd7077224f","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","id":"733357e1-fb78-41da-97b7-54db6b0ef477","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","id":"1c33a084-dd2b-4736-ac99-4e0938e4bbb9","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","id":"b07426b0-2995-4802-83c6-b2f15d1fb181","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"获取问题和答案","parentNode":true,"value":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae"},{"children":[{"references":[{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","id":"c6761b60-f6e1-46ea-8dae-225baa4c81c9","label":"isSuccess","type":"boolean","value":"isSuccess","fileType":""},{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","id":"a9d3fa3f-e3ab-4ae5-9584-f1173b817cc1","label":"message","type":"string","value":"message","fileType":""},{"originId":"database::a497c542-8250-464d-be44-76631d52f1a8","children":[],"id":"403cb633-f9b9-40db-aba0-f1cba5b17a38","label":"outputList","type":"array-object","value":"outputList","fileType":""}],"label":"","value":""}],"label":"存储问题和答案","parentNode":true,"value":"database::a497c542-8250-464d-be44-76631d52f1a8"},{"children":[{"references":[{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"2e5c6763-d59b-4964-b91b-d24d873a426d","label":"a1","type":"string","value":"a1","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"eb5c38aa-4515-4f7d-8575-bf258405bbb9","label":"a2","type":"string","value":"a2","fileType":""},{"originId":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","id":"8b815cd4-4f2f-4a08-b952-1adfdc6222e0","label":"a3","type":"string","value":"a3","fileType":""}],"label":"","value":""}],"label":"提取3个答案","parentNode":true,"value":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af"},{"children":[{"references":[{"originId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","children":[],"id":"631d18fc-bb11-44f5-8dcf-960c1167decd","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代节点-测评交互","parentNode":true,"value":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46"},{"children":[{"references":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","children":[{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"99e66b79-93ed-48cc-a690-a8a5e029037c","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"3193d074-ae75-4f5d-a88a-3e0e3bd55ee1","label":"option_A","type":"string","value":"question.option_A","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"36fe34f1-7015-4852-bf3d-2b9be3ff7dd5","label":"option_B","type":"string","value":"question.option_B","parentType":"array-object","fileType":""},{"originId":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","id":"de579fde-b51a-47b1-98de-86c831114606","label":"option_C","type":"string","value":"question.option_C","parentType":"array-object","fileType":""}],"id":"46ee419a-a1a7-46cf-a01c-f18230f281e6","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"面试题转换为python列表","parentNode":true,"value":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5"},{"children":[{"references":[{"originId":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","id":"e9995170-66f4-488a-98e6-a6cfa5faa6a3","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"测评题目生成","parentNode":true,"value":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"a9a6115b-9efd-4a20-8036-1ffa76b293bc","label":"q1","type":"string","value":"q1","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"90bbb8cc-42b7-4182-8b40-ddeaf10963d7","label":"q2","type":"string","value":"q2","fileType":""},{"originId":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","id":"37861f26-b4a2-4b61-b4a4-d2e639bf728f","label":"q3","type":"string","value":"q3","fileType":""}],"label":"","value":""}],"label":"提取3个题目","parentNode":true,"value":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a"}],"status":"","updatable":false},"dragging":false,"height":1282,"id":"spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37","position":{"x":6652.899252948808,"y":3861.542548712694},"positionAbsolute":{"x":6652.899252948808,"y":3861.542548712694},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"originPosition":{"x":351.710717705231,"y":515.3460112208278},"outputs":[{"id":"1da75b72-75cd-47b0-b658-907f6db1b820","name":"input","nameErrMsg":"","schema":{"default":"","type":"object"}}],"parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":232,"id":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f","parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","position":{"x":30,"y":431.9609876917472},"positionAbsolute":{"x":351.710717705231,"y":515.3460112208278},"selected":false,"type":"开始节点","width":658,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"f2fe4cff-7aa4-496a-a06e-6197ab33ec46","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"a","id":"7c6dacda-d4bf-4fdf-95ac-fe786d96d4da","nodeId":"node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"","outputMode":0},"originPosition":{"x":3406.808300665281,"y":425.9229030575698},"outputs":[],"parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","references":[{"children":[{"references":[{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"1b77dd0a-09c8-4c8b-bb8f-470498bac548","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"b4a3d915-3de4-40c2-aef1-85308fbeab67","label":"id","type":"string","value":"id","fileType":""},{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"d3dea61a-e8ea-40ca-827a-31fb355d2609","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_1","parentNode":true,"value":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1"},{"children":[{"references":[{"originId":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f","id":"1da75b72-75cd-47b0-b658-907f6db1b820","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f"},{"children":[{"references":[{"originId":"node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e","id":"b8d76be9-5733-4be3-9773-b490e9b47a17","label":"q","type":"string","value":"q","fileType":""},{"originId":"node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e","id":"7c6dacda-d4bf-4fdf-95ac-fe786d96d4da","label":"a","type":"string","value":"a","fileType":""}],"label":"","value":""}],"label":"变量存储器_2","parentNode":true,"value":"node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":229,"id":"iteration-node-end::2cec92bd-7abd-4022-b9c1-3cd311d038c8","parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","position":{"x":793.7743957400126,"y":409.6052106509327},"positionAbsolute":{"x":3406.808300665281,"y":425.9229030575698},"selected":false,"type":"结束节点","width":408,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"ae3371ec-11c3-40ef-be48-891224b6350c","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"1da75b72-75cd-47b0-b658-907f6db1b820","nodeId":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_1","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.content}}","answerType":"option","llmId":110,"timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"18882349618","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","contentErrMsg":"","id":"option-one-of::21991142-2c50-4324-9fe2-fed94ff90101","type":2,"content":"{{input.option_A}}"},{"content_type":"string","name":"B","contentErrMsg":"","id":"option-one-of::6f0d60c0-cb6f-475e-9fd2-ecb21924a857","type":2,"content":"{{input.option_B}}"},{"content_type":"string","name":"C","contentErrMsg":"","id":"option-one-of::838e6872-5daf-4391-b1e9-eb1ee8c4856f","type":2,"content":"{{input.option_C}}"},{"content_type":"string","name":"default","id":"option-one-of::5019bb4d-fa6f-4783-9ba3-3d255353e288","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1176.6834255961362,"y":107.50206045383891},"outputs":[{"id":"1b77dd0a-09c8-4c8b-bb8f-470498bac548","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"b4a3d915-3de4-40c2-aef1-85308fbeab67","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"d3dea61a-e8ea-40ca-827a-31fb355d2609","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","references":[{"children":[{"references":[{"originId":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f","children":[],"id":"1da75b72-75cd-47b0-b658-907f6db1b820","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":1000,"id":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","position":{"x":236.2431769727263,"y":330},"positionAbsolute":{"x":1176.6834255961362,"y":107.50206045383891},"selected":false,"type":"问答节点","width":652,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"6c7502fc-c2f5-483c-a25e-29622cc0b077","name":"q","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"d3dea61a-e8ea-40ca-827a-31fb355d2609","nodeId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"9e7d138a-a4fc-4a0a-8f45-58906bac9201","name":"a","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"d3dea61a-e8ea-40ca-827a-31fb355d2609","nodeId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"680ab54f","flowId":"7363088914949136386"},"originPosition":{"x":1903.693258938591,"y":412.13808716433164},"outputs":[],"parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","references":[{"children":[{"references":[{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"1b77dd0a-09c8-4c8b-bb8f-470498bac548","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"b4a3d915-3de4-40c2-aef1-85308fbeab67","label":"id","type":"string","value":"id","fileType":""},{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"d3dea61a-e8ea-40ca-827a-31fb355d2609","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_1","parentNode":true,"value":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1"},{"children":[{"references":[{"originId":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f","id":"1da75b72-75cd-47b0-b658-907f6db1b820","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":323,"id":"node-variable::26524f50-b718-40e5-887c-2f2831209c49","parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","position":{"x":417.99563530834,"y":406.1590066776232},"positionAbsolute":{"x":1903.693258938591,"y":412.13808716433164},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"get","appId":"680ab54f","flowId":"7363088914949136386"},"originPosition":{"x":2669.024997956791,"y":364.29650955026153},"outputs":[{"id":"7c6dacda-d4bf-4fdf-95ac-fe786d96d4da","name":"a","nameErrMsg":"","refId":"9e7d138a-a4fc-4a0a-8f45-58906bac9201","required":true,"schema":{"default":"","type":"string"}}],"parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","references":[{"children":[{"references":[{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"1b77dd0a-09c8-4c8b-bb8f-470498bac548","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"b4a3d915-3de4-40c2-aef1-85308fbeab67","label":"id","type":"string","value":"id","fileType":""},{"originId":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","id":"d3dea61a-e8ea-40ca-827a-31fb355d2609","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_1","parentNode":true,"value":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1"},{"children":[{"references":[{"originId":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f","id":"1da75b72-75cd-47b0-b658-907f6db1b820","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":270,"id":"node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e","parentId":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","position":{"x":609.3285700628901,"y":394.19861227410564},"positionAbsolute":{"x":2669.024997956791,"y":364.29650955026153},"selected":false,"type":"变量存储器","width":587,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-if-else::6fdf0b41-418e-4b97-b9a0-2842ed543d8c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"if-else::6fdf0b41-418e-4b97-b9a0-2842ed543d8c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::6fdf0b41-418e-4b97-b9a0-2842ed543d8cbranch_one_of::e59c68c4-74e6-40ca-9e52-84c1010a3f6e-spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::6fdf0b41-418e-4b97-b9a0-2842ed543d8c","sourceHandle":"branch_one_of::e59c68c4-74e6-40ca-9e52-84c1010a3f6e","target":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d-ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","target":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5-iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9a3c04ec-4e8c-4ede-bcf1-1db1d30b0ca5","target":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::6fdf0b41-418e-4b97-b9a0-2842ed543d8cbranch_one_of::e50b9fd8-8be8-41fa-a759-259d4336ae9b-spark-llm::11d9226f-00b8-4faa-a755-a22378084657","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::6fdf0b41-418e-4b97-b9a0-2842ed543d8c","sourceHandle":"branch_one_of::e50b9fd8-8be8-41fa-a759-259d4336ae9b","target":"spark-llm::11d9226f-00b8-4faa-a755-a22378084657","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::11d9226f-00b8-4faa-a755-a22378084657-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::11d9226f-00b8-4faa-a755-a22378084657","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d-extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::2ea599d5-eba6-4aae-ac25-20cce837e39d","target":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a-database::a497c542-8250-464d-be44-76631d52f1a8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"extractor-parameter::6af14f55-21a5-4e62-90f1-a3b682d2d51a","target":"database::a497c542-8250-464d-be44-76631d52f1a8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46-extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::082082a1-6e0a-4ff5-819b-f7a2eb6c7c46","target":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af-database::a497c542-8250-464d-be44-76631d52f1a8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"extractor-parameter::dc879013-6396-4b51-870d-79b3c0ee82af","target":"database::a497c542-8250-464d-be44-76631d52f1a8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-database::a497c542-8250-464d-be44-76631d52f1a8-database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"database::a497c542-8250-464d-be44-76631d52f1a8","target":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-database::611b28a8-fb7b-460a-8bd1-f3c26f668fae-spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"database::611b28a8-fb7b-460a-8bd1-f3c26f668fae","target":"spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::a5fc8290-9fbc-437e-8afc-b123ea690d37","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f-question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::2a1040ef-c48c-41f5-92c5-bda5643a9b0f","target":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1option-one-of::21991142-2c50-4324-9fe2-fed94ff90101-node-variable::26524f50-b718-40e5-887c-2f2831209c49","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","sourceHandle":"option-one-of::21991142-2c50-4324-9fe2-fed94ff90101","target":"node-variable::26524f50-b718-40e5-887c-2f2831209c49","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1option-one-of::6f0d60c0-cb6f-475e-9fd2-ecb21924a857-node-variable::26524f50-b718-40e5-887c-2f2831209c49","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","sourceHandle":"option-one-of::6f0d60c0-cb6f-475e-9fd2-ecb21924a857","target":"node-variable::26524f50-b718-40e5-887c-2f2831209c49","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1option-one-of::838e6872-5daf-4391-b1e9-eb1ee8c4856f-node-variable::26524f50-b718-40e5-887c-2f2831209c49","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","sourceHandle":"option-one-of::838e6872-5daf-4391-b1e9-eb1ee8c4856f","target":"node-variable::26524f50-b718-40e5-887c-2f2831209c49","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1option-one-of::5019bb4d-fa6f-4783-9ba3-3d255353e288-node-variable::26524f50-b718-40e5-887c-2f2831209c49","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::24b1da7f-8c28-43cf-a403-bbeb16781fc1","sourceHandle":"option-one-of::5019bb4d-fa6f-4783-9ba3-3d255353e288","target":"node-variable::26524f50-b718-40e5-887c-2f2831209c49","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::26524f50-b718-40e5-887c-2f2831209c49-node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::26524f50-b718-40e5-887c-2f2831209c49","target":"node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e-iteration-node-end::2cec92bd-7abd-4022-b9c1-3cd311d038c8iteration-node-end::2cec92bd-7abd-4022-b9c1-3cd311d038c8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::6d722710-8603-4cf3-9edd-691ba2bad09e","target":"iteration-node-end::2cec92bd-7abd-4022-b9c1-3cd311d038c8","targetHandle":"iteration-node-end::2cec92bd-7abd-4022-b9c1-3cd311d038c8","type":"customEdge","zIndex":996}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["开始","",""],"prologueText":"你好，我是你的养生官！\\n输入“开始”，为您测试体质类型，并给出超实用养生建议~"},"needGuide":false}', NULL, 15, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(196205, 18882349618, '680ab54f', '7365665896023154688', '【模板勿动】薪酬分析报告生成', '模板', 0, 0, '2025-08-25 16:46:39', '2025-11-01 16:28:35', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["excel"],"customParameterType":"xfyun-file","fileType":"file","id":"19dde6dd-cabf-490b-90b8-2c575f5305c1","name":"excle","nameErrMsg":"","required":true,"schema":{"default":"用户输入要分析的表格","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":-25.109019607843152,"y":521.7086666666667},"positionAbsolute":{"x":-25.109019607843152,"y":521.7086666666667},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"ad661a6a-0f00-4fd6-99bf-3d790b1e9126","nodeId":"spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2","id":"ad661a6a-0f00-4fd6-99bf-3d790b1e9126","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2"},{"children":[{"references":[{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"b221c323-9bac-4861-89a6-8d192451b50a","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","children":[{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"9b5e1697-73ef-436e-bf2d-266031d463bf","label":"text","type":"string","value":"data.text","parentType":"object","fileType":""}],"id":"4f38109e-a1e8-4a6a-a3db-7444e34711e9","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"271c8080-b036-42f4-bdaa-c48f173a9c52","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"81440777-dc40-4212-b858-9fa100ad9aa4","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"表格数据提取_1","parentNode":true,"value":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"19dde6dd-cabf-490b-90b8-2c575f5305c1","label":"excle","type":"string","value":"excle","fileType":"excel"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":616,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":2282.146125181036,"y":348.28974690418795},"positionAbsolute":{"x":2282.146125181036,"y":348.28974690418795},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要读取的excel表格地址","disabled":false,"id":"cf92d32e-d83b-40ff-96d2-2ae115de6a31","name":"excel_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"excle","id":"19dde6dd-cabf-490b-90b8-2c575f5305c1","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"description":"sheet名称，默认\\"Sheet1\\"","disabled":false,"id":"fd1187ee-55b8-40dc-bf83-09ec329be001","name":"sheet_name","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{},"contentErrMsg":"","type":"ref"}}},{"description":"开始的单元格，默认\\"A1\\"","disabled":false,"id":"770ca745-fe99-4b15-a842-8ce1e23ce961","name":"start_cell","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{},"contentErrMsg":"","type":"ref"}}},{"description":"结束的单元格,默认读取全部（超过50空行读取结束）","disabled":false,"id":"8b3f2036-580e-48a9-ad57-89fcbe8e6f69","name":"end_cell","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{},"contentErrMsg":"","type":"ref"}}},{"description":"输入xls、xlsx等格式的excel文件不需填写，如果输入为CSV文件，需传递文件编码，支持utf-8,gbk,gb2312等格式","disabled":false,"id":"1486f2af-38d0-41ce-9c28-a8010c3c367c","name":"encoding","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{},"contentErrMsg":"","type":"ref"}}},{"description":"返回格式，取值范围[\\"raw\\",\\"json\\"]，默认raw raw : 按行返回数据,格式 [[姓名,性别,年龄],[张三,男，20],[李四,男，21]] json :  json格式返回数据，格式如[ {姓名:张三,性别:男,年龄:20},{姓名:李四,性别:男,年龄:21} ]","disabled":false,"id":"85f62762-ba77-487a-a025-6cf0fba6b6f8","name":"ret_format","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"表格数据提取_1","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"16590067981","code":"","toolDescription":"表格数据提取","pluginId":"tool@815c330c3021000","remarkVisible":true,"appId":"680ab54f","operationId":"表格数据提取-be07cq8o","remark":"使用表格数据提取工具，识别上传的数据文件","version":"V1.0","businessInput":[]},"outputs":[{"id":"b221c323-9bac-4861-89a6-8d192451b50a","name":"code","schema":{"type":"number"}},{"id":"4f38109e-a1e8-4a6a-a3db-7444e34711e9","name":"data","schema":{"properties":[{"id":"9b5e1697-73ef-436e-bf2d-266031d463bf","name":"text","type":"string"}],"type":"object"}},{"id":"271c8080-b036-42f4-bdaa-c48f173a9c52","name":"message","schema":{"type":"string"}},{"id":"81440777-dc40-4212-b858-9fa100ad9aa4","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"19dde6dd-cabf-490b-90b8-2c575f5305c1","label":"excle","type":"string","value":"excle","fileType":"excel"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":687,"id":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","position":{"x":779.6021499221387,"y":312.03300786426075},"positionAbsolute":{"x":779.6021499221387,"y":312.03300786426075},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"99ea1263-683b-4bed-bf8d-c5577c7c4c16","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"data","id":"4f38109e-a1e8-4a6a-a3db-7444e34711e9","nodeId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"{{input}}","modelId":110,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","multiMode":false,"uid":"16590067981","patchId":"0","isThink":false,"templateErrMsg":"","searchDisable":true,"domain":"4.0Ultra","appId":"680ab54f","maxTokens":4096,"temperature":0.5,"systemTemplate":"你是一名专业的薪酬数据分析师，擅长从结构化数据中发现洞察、异常和趋势。用户将上传一份薪酬数据文件（如Excel/CSV）并提供相关背景描述（如行业、公司规模、数据来源等）。请按以下步骤处理：\\n\\n\\n1. 数据理解与清洗\\n确认数据的字段含义（如岗位名称、职级、基本工资、奖金、地区等）。\\n检查缺失值、异常值（如极端高/低薪资）并说明处理建议。\\n根据用户描述补充上下文（如“数据仅包含技术部门”或“包含2020-2023年历史数据”）。\\n\\n2. 核心分析方向\\n薪酬分布：分岗位、职级、地区的薪资中位数/分位数、离散程度。\\n公平性分析：同岗同职级的薪资差异，是否存在性别、年龄等潜在偏见。\\n竞争力对比：与行业基准（如用户提供参考数据）或公开数据（如地区平均水平）的对比。\\n趋势分析（如有多年度数据）：年增长率、奖金占比变化等。\\n3. 关键问题诊断\\n标注3-5个最显著的发现（例如：“销售总监薪资方差过大，可能因绩效结构不合理”）。\\n指出潜在风险（如“初级岗位薪资低于市场20%，离职风险高”）。\\n4. 报告输出\\n摘要：用分点列表总结核心洞察。\\n可视化建议：推荐图表类型（如箱线图看分布、折线图看趋势）并解释其用途。\\n行动建议：根据问题提出优化方向（如“建议审查技术岗的职级晋升标准”）。\\n用户输入示例：\\n上传文件：salary_data.csv（字段：员工ID、部门、岗位、职级、基本工资、奖金、性别、入职年份）。\\n描述：“这是某互联网公司2023年技术部门的薪酬数据，希望分析内部公平性和市场竞争力。”\\nAI输出示例：\\n数据质量：发现5%的奖金字段缺失，建议确认是否为无奖金或数据遗漏。\\n关键洞察：\\n高级工程师薪资范围（50-80万）较同级产品经理（60-90万）低15%，可能存在职能间不平衡。\\n性别薪资差异在初级岗位不显著，但总监级女性平均低8%。\\n建议：对标行业薪酬报告，调整高潜力职级的薪资带宽。\\n\\n\\n\\n\\n\\n\\n\\n","model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"ad661a6a-0f00-4fd6-99bf-3d790b1e9126","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"b221c323-9bac-4861-89a6-8d192451b50a","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","children":[{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"9b5e1697-73ef-436e-bf2d-266031d463bf","label":"text","type":"string","value":"data.text","parentType":"object","fileType":""}],"id":"4f38109e-a1e8-4a6a-a3db-7444e34711e9","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"271c8080-b036-42f4-bdaa-c48f173a9c52","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","id":"81440777-dc40-4212-b858-9fa100ad9aa4","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"表格数据提取_1","parentNode":true,"value":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"19dde6dd-cabf-490b-90b8-2c575f5305c1","label":"excle","type":"string","value":"excle","fileType":"excel"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1233,"id":"spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2","position":{"x":1530.895687218184,"y":178.17037047749267},"positionAbsolute":{"x":1530.895687218184,"y":178.17037047749267},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"依据任务需求，通过选择合适的工具列表，实现大 模型的智能调度","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png","inputs":[{"id":"14528a29-03d8-496d-8a66-f56d3708961c","name":"input","schema":{"type":"string","value":{"content":{},"type":"ref"}}}],"label":"Agent智能决策_1","labelEdit":false,"nodeMeta":{"aliasName":"智能体节点","nodeType":"Agent节点"},"nodeParam":{"uid":"18882349618","modelConfig":{"domain":"xdeepseekv3","api":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","agentStrategy":1},"plugin":{"workflowIds":[],"toolsList":[],"mcpServerUrls":[],"mcpServerIds":[],"tools":[]},"maxLoopCount":10,"instruction":{"answer":"","reasoning":"","query":""},"appId":"680ab54f","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"serviceId":"xdeepseekv3","llmId":141},"outputs":[{"customParameterType":"deepseekr1","id":"c1a9cd6d-2f8d-47a8-b338-7bfe3079b0ca","name":"REASONING_CONTENT","nameErrMsg":"","schema":{"default":"模型思考过程","type":"string"}},{"id":"dbbb90b9-cdca-41dc-aa83-382e3ce78caa","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[],"updatable":false},"height":1372,"id":"agent::e10d11fc-4ed4-4df4-aa01-d53f1ee513c7","position":{"x":2273.2248785644106,"y":-461.8513728034324},"selected":true,"type":"智能体节点","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-plugin::d7989972-b754-4202-8d4d-47f70f105c7b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::d7989972-b754-4202-8d4d-47f70f105c7b-spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::d7989972-b754-4202-8d4d-47f70f105c7b","target":"spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::82a36c62-29e7-4be1-a27a-93f973b75fa2","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["帮我分析下表格中薪酬数据并生成报告","",""],"prologueText":"你好，我是薪酬分析报告生成助手，可以根据你上传的薪酬信息Excel自动进行数据分析，并形成专业的薪酬分析报告。"},"needGuide":false,"chatBackground":{"enabled":true,"info":{"name":"制作薪酬分析报告背景图.png","type":"png","total":"884.02 KB","url":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1755510915731_%E5%88%B6%E4%BD%9C%E8%96%AA%E9%85%AC%E5%88%86%E6%9E%90%E6%8A%A5%E5%91%8A%E8%83%8C%E6%99%AF%E5%9B%BE.png"}}}', NULL, 10, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(201977, 18882349618, '680ab54f', '7368837692545806338', '【模板勿动】优质西瓜识别器', '模板', 0, 0, '2025-09-03 10:50:17', '2025-09-04 17:15:01', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"8b581c7e-f6ef-49f7-8679-8b5f89699950","name":"watermelonPhoto","nameErrMsg":"","required":true,"schema":{"default":"西瓜照片","properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":297,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":-340.4380086542484,"y":596.2223703782972},"positionAbsolute":{"x":-340.4380086542484,"y":596.2223703782972},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"c3ff3908-3f88-4449-88c6-1fa4fdcbad19","nodeId":"spark-llm::080bee99-e84c-461e-8808-053161f5bbdb"},"contentErrMsg":"","type":"ref"}}},{"fileType":"image","id":"b4950a08-db66-4739-883b-9f54c1a5c871","name":"image","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"watermelonPhoto","id":"8b581c7e-f6ef-49f7-8679-8b5f89699950","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}\\n<img src=\\"{{image}}\\" />","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::080bee99-e84c-461e-8808-053161f5bbdb","id":"c3ff3908-3f88-4449-88c6-1fa4fdcbad19","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"分析西瓜","parentNode":true,"value":"spark-llm::080bee99-e84c-461e-8808-053161f5bbdb"},{"children":[{"references":[{"originId":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439","id":"84dc3a19-da21-4a7b-afc0-be8d34186823","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"识别西瓜","parentNode":true,"value":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"8b581c7e-f6ef-49f7-8679-8b5f89699950","label":"watermelonPhoto","type":"string","value":"watermelonPhoto","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":2162.858425389448,"y":397.83666321953825},"positionAbsolute":{"x":2162.858425389448,"y":397.83666321953825},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"customParameterType":"image_understanding","fileType":"image","id":"b6af3298-3627-4fff-b604-0f57a779c551","name":"SYSTEM_IMAGE","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"watermelonPhoto","id":"8b581c7e-f6ef-49f7-8679-8b5f89699950","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"97f59a10-d595-4320-8340-b30512842d86","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"识别西瓜","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"识别用户上传内容","modelId":13,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","remark":"使用大模型节点，选择图像理解模型，分析西瓜图片","llmId":13,"url":"wss://spark-api.cn-huabei-1.xf-yun.com/v2.1/image","multiMode":true,"uid":"16848396888","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"domain":"image","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"systemTemplate":"``````markdown\\n## 角色\\n你是一个挑选西瓜的专家，能够根据用户提供的图片，详细描述西瓜的各项特征。\\n\\n## 技能\\n1. 根据图片分析西瓜外观：\\n  - 检查西瓜的形状是否规则，具体描述出西瓜的特征。\\n  - 描述瓜蒂（果柄）状态\\n  - 观察西瓜的表皮颜色，详细描述西瓜表皮的颜色和光泽。\\n  - 描述瓜脐（底部的小圆圈）\\n  - 详细描述西瓜的纹路。\\n  - 从上述角度，详细客观的描述图片中西瓜特征，不要额外分析\\n\\n\\n\\n## 限制\\n- 只讨论与挑选西瓜相关的内容，拒绝回答与挑选西瓜无关的话题。\\n- 所有的输出内容必须按照给定的格式进行组织，不能偏离框架要求。\\n- 分析部分不能超过 500 字。\\n``````","model":"spark","serviceId":"image_understanding","respFormat":0},"outputs":[{"id":"84dc3a19-da21-4a7b-afc0-be8d34186823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"8b581c7e-f6ef-49f7-8679-8b5f89699950","label":"watermelonPhoto","type":"string","value":"watermelonPhoto","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1212,"id":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439","position":{"x":743.806611752979,"y":68.04320294277485},"positionAbsolute":{"x":743.806611752979,"y":68.04320294277485},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"3d9e0be5-6ed1-445d-b423-e4c93a8cc172","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"84dc3a19-da21-4a7b-afc0-be8d34186823","nodeId":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439"},"contentErrMsg":"","type":"ref"}}}],"label":"分析西瓜","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"这是用户的西瓜信息：{{input}}\\n按照西瓜的评估标准，逐个分析，每项给出1个分数，每项满分20分。全部加起来满分为100分。\\n如果该项提供信息不足，则告知信息不足，并且这项给0分。\\n输出格式，\\n先给出总分，再逐项罗列分数和分析，最后给出总结。\\n","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"16848396888","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"systemTemplate":"``````markdown\\n## 角色\\n你是一个西瓜品鉴专家，能够根据用户提供的西瓜信息，评估西瓜的品质和成熟度。\\n\\n## 技能，西瓜的评估标准\\n1. 评估瓜蒂（果柄）状态：\\n  - 判断瓜蒂是否新鲜、弯曲，以确定西瓜的采摘时间和成熟度。\\n  - 识别并避免完全干枯、发黑或笔直的瓜蒂，这些可能是不新鲜或未熟的标志。\\n2. 分析西瓜纹路清晰度：\\n  - 检查深绿色条纹与浅绿色底色的对比是否鲜明，以及纹路是否舒展流畅。\\n  - 避免选择纹路模糊、颜色暗淡或间距不均匀的西瓜。\\n3. 观察西瓜形状和对称性：\\n  - 评估西瓜的整体形状是否圆整、对称且饱满，以确保内部发育良好。\\n  - 避免选择形状畸形、有明显凹陷或凸起的西瓜。\\n4. 检查瓜皮颜色和光泽：\\n  - 判断瓜皮是否光滑、有自然蜡质光泽，特别是接触地面部分的黄斑是否明显且呈黄色或橙黄色。\\n  - 注意是否有“雾感”或“粉霜”，这可能是甜瓜的标志。\\n  - 避免选择瓜皮颜色暗淡、发白、发青或黄斑区域很小甚至没有的西瓜。\\n5. 评估瓜脐（底部的小圆圈）：\\n  - 检查瓜脐是否小、圆且向内凹陷，这通常意味着瓜皮较薄且果肉紧实。\\n  - 避免选择瓜脐过大、向外凸起或不规则的西瓜。\\n\\n## 限制\\n- 只讨论与西瓜品质评估相关的内容，拒绝回答与西瓜无关的话题。\\n- 所输出的内容必须按照给定的格式进行组织，不能偏离框架要求。\\n- 评估时需综合考虑多个因素，不可仅凭单一特征做出判断。\\n``````","model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"c3ff3908-3f88-4449-88c6-1fa4fdcbad19","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439","id":"84dc3a19-da21-4a7b-afc0-be8d34186823","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"识别西瓜","parentNode":true,"value":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"8b581c7e-f6ef-49f7-8679-8b5f89699950","label":"watermelonPhoto","type":"string","value":"watermelonPhoto","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1284,"id":"spark-llm::080bee99-e84c-461e-8808-053161f5bbdb","position":{"x":1410.3918908733083,"y":93.8871426250862},"positionAbsolute":{"x":1410.3918908733083,"y":93.8871426250862},"selected":false,"type":"大模型","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439-spark-llm::080bee99-e84c-461e-8808-053161f5bbdb","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b1e7af52-a45a-4d74-baf9-deba96964439","target":"spark-llm::080bee99-e84c-461e-8808-053161f5bbdb","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::080bee99-e84c-461e-8808-053161f5bbdb-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::080bee99-e84c-461e-8808-053161f5bbdb","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["（上传西瓜照片）帮我看看这个瓜如何","",""],"prologueText":"上传西瓜照片，帮你看看西瓜品质~"},"needGuide":false}', NULL, 15, NULL, NULL);
INSERT INTO workflow
(id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id, `type`)
VALUES(202033, 18882349618, '680ab54f', '7368840142225887234', '【勿动模板】招标投标信息搜索', '招标投标信息搜索', 0, 0, '2025-09-03 11:00:01', '2025-09-08 15:25:12', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","name":"images","nameErrMsg":"","required":false,"schema":{"default":"图片的内容","properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":295,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":2178.6728252391104,"y":-557.9843027151877},"positionAbsolute":{"x":2178.6728252391104,"y":-557.9843027151877},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"d4107083-b100-4128-9a6b-4b5041add52f","nodeId":"spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}}","streamOutput":true,"templateErrMsg":"","outputMode":1,"reasoningTemplate":"我作为一个招投标的智能推荐官，一下的内容是我进行大数据并且通过智能进行分析出的推荐。(仅作为推荐分析)\\n"},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83","id":"d4107083-b100-4128-9a6b-4b5041add52f","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83"},{"children":[{"references":[{"originId":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066","id":"07737d35-933a-42ac-9977-c3c9c90e55a7","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066"},{"label":"Agent智能决策_3","value":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","children":[{"label":"","value":"","references":[{"id":"7f9a58d8-98e0-4061-b8e3-328d6c33cf47","originId":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","label":"REASONING_CONTENT","value":"REASONING_CONTENT","type":"string","fileType":""},{"id":"4163d667-5490-47f7-a02b-4dd2301eddd4","originId":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","label":"images","type":"string","value":"images","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":615,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":6796.026024651188,"y":-555.3408049310613},"positionAbsolute":{"x":6796.026024651188,"y":-555.3408049310613},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"依据任务需求，通过选择合适的工具列表，实现大 模型的智能调度","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png","inputs":[{"fileType":"","id":"e0a39ade-abe9-48a4-b514-c1b8e00aa8f0","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"fileType":"image","id":"9d84a368-3be3-487a-8432-1d9c5e8f7075","name":"images","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"images","id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"Agent智能决策_3","labelEdit":false,"nodeMeta":{"aliasName":"智能体节点","nodeType":"Agent节点"},"nodeParam":{"modelConfig":{"domain":"xdeepseekv3","api":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","agentStrategy":1},"maxLoopCount":10,"modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"remark":"使用智能决策节点，添加所需插件或mcp，分析用户问题并搜索","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"18882349618","modelName":"DeepSeek-V3","patchId":"0","plugin":{"workflowIds":[],"toolsList":[{"toolId":"tool@7b783cae9c21000","isLatest":true,"name":"聚合搜索","icon":"icon/user/sparkBot_1745830595502_image_7.png","type":"tool"},{"toolId":"tool@72b0f21f6421000","isLatest":true,"name":"图片理解","icon":"icon/user/sparkBot_1745890302944_image_10.png","type":"tool"},{"toolId":"tool@6dc893527421000","isLatest":true,"pluginName":"通用OCR大模型","name":"通用OCR大模型","icon":"icon/user/sparkBot_1745889604366_image14.png","type":"tool"},{"toolId":"tool@736928b7e421000","isLatest":true,"name":"传统OCR","icon":"icon/user/sparkBot_1745889604366_image14.png","type":"tool"},{"toolId":"mcp@flow7315371585274966017","isLatest":true,"name":"图片理解-MCP","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/generate/cht000b9a43@dx19619b6460db8f3550.jpg","type":"mcp"},{"toolId":"mcp@flow7315370066945306624","isLatest":true,"name":"linkReader","icon":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/generate/cht000b9550@dx196198b5f08b8f3550.jpg","type":"mcp"}],"mcpServerUrls":[],"mcpServerIds":["mcp@flow7315371585274966017","mcp@flow7315370066945306624"],"tools":[{"tool_id":"tool@72b0f21f6421000","version":"V1.0"},{"tool_id":"tool@736928b7e421000","version":"V1.0"},{"tool_id":"tool@7b783cae9c21000","version":"V1.0"},{"tool_id":"tool@6dc893527421000","version":"V2.0"}]},"instruction":{"queryErrMsg":"","answer":"\\n``````markdown\\n## 角色\\n你是一个招投标专家，精通招投标流程、法规规定，并能熟练从指定网站及互联网上检索招投标项目信息，以json格式返回详细数据。\\n\\n\\n## 技能\\n1. 理解并解析招投标信息：\\n  - 深入理解招投标的基本概念、流程及相关法规规定。\\n  - 准确识别并提取招投标公告中的关键信息，如项目名称\\n发布日期\\n招标类型\\n公告类型\\n招标单位\\n招标代理单位\\n招标代理电话\\n项目地址\\n估算价\\n主要工程内容\\n工期\\n投标人资格要求\\n招标人地址\\n招标代理地址\\n招标人联系人\\n招标人联系人电话\\n招标代理联系人\\n招标代理联系人电话\\n中标人\\n中标人联系方式\\n等。\\n  - 根据用户需求，从指定网站或通过互联网搜索获取招投标项目信息。\\n  - 参考多个权威招投标信息网站，包括但不限于以下网址：\\n    - https://zb.yfb.qianlima.com/yfbsemsite/mesinfo/zbpglist\\n    - https://www.arrbid.com/baiduMarket/F/keyword/zhaobiao.html?unit=lidabiaoxunwang&keyword=zhaobiaotoubiaogonggongfuwupingtai&bd_vid=2973273358855057592\\n    - https://www.gc-zb.com.cn/keyword/zbgg.html?source=baidu1&plan=A01-hexinci-PC&unit=zhaobiaogonggao&keyword=quanguozhaobiaogonggaowang&bd_vid=2867721522283753449\\n    - https://custominfo.cebpubservice.com/\\n    - http://gjpt.ahtba.org.cn/\\n    - https://www.ggzy.gov.cn/information/home/index.shtml\\n    - https://deal.ggzy.gov.cn/ds/deal/dealList.jsp\\n    - https://www.sxggzyjy.cn/jydt/001001/trading.html\\n\\n\\n## 限制\\n- 只讨论与招投标相关的内容，拒绝回答与招投标无关的话题。\\n- 所有返回的数据必须严格按照列表格式组织，且包含所有指定的参数。\\n- 原文地址必须准确无误地附加在列表中，并以“(原文地址)”的形式标注。\\n- 在检索和整理信息时，必须遵守相关法律法规和网站使用条款，确保信息的合法性和准确性。\\n-然后返回输出的是列表\\n``````","reasoning":"如果有图片有限考虑图片识别，如果文字可以通过聚合搜索，如果图片跟文字都有那么就结合的去思考。","query":" 文字问题： {{input}}} 如果有图片那么也要结合图片的参数：\\n{{images}}}，记住你所有的问题都是根据招标投标来的，如果用户闲聊的那么直接回答：我是智慧招标投标助手，请提问招标相关的问题。"},"remarkVisible":true,"appId":"680ab54f","domain":"xdeepseekv3","modelEnabled":true,"serviceId":"xdeepseekv3","llmIdErrMsg":""},"outputs":[{"customParameterType":"deepseekr1","id":"7f9a58d8-98e0-4061-b8e3-328d6c33cf47","name":"REASONING_CONTENT","nameErrMsg":"","schema":{"default":"模型思考过程","type":"string"}},{"id":"4163d667-5490-47f7-a02b-4dd2301eddd4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","label":"images","type":"string","value":"images","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":2107,"id":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","position":{"x":4134.653624900059,"y":-1530.3532374880344},"positionAbsolute":{"x":4134.653624900059,"y":-1530.3532374880344},"selected":true,"type":"智能体节点","width":686},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"27de71ed-c1a5-43bd-a718-dbd5e2db0f72","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"1578f744-3669-4492-81ac-a56f4e34ae9c","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"fileType":"image","id":"08710317-da11-4399-b955-03a744aafcfd","name":"input15375193101249ec9f3706c480a3c164","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"images","id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"3a7d9495-e869-4b73-98fa-65a670c38279","name":"inputf4eafe0470fc42cb948c14e9ca6a59e0","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"3b642a65-8fac-4c9c-aafb-a2d81754b664","name":"inputc359e33552724e0db2ad64049c87e6ea","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"5b201a48-c6a4-4cc0-a1da-c16cbedc5962","name":"inpute2ebee743d6a4c1f940b3acc3e2275ec","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"id":"c5a69630-4c64-4d71-8cc7-c3e694a1e3fb","name":"input468c032d16c34b9ea711eb7a249c7809","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"images","id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"6913162a-8453-483e-95a4-2cb0f9797f73","name":"input6deb88181b104041909d5d9b1ccf5927","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"8266642942","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::2c75ca2d-2f50-4d6b-8cbf-529eb33bbc21","conditions":[{"leftVarIndex":"27de71ed-c1a5-43bd-a718-dbd5e2db0f72","rightVarIndex":"1578f744-3669-4492-81ac-a56f4e34ae9c","compareOperatorErrMsg":"","id":"","compareOperator":"not_empty"},{"leftVarIndex":"c5a69630-4c64-4d71-8cc7-c3e694a1e3fb","rightVarIndex":"6913162a-8453-483e-95a4-2cb0f9797f73","compareOperatorErrMsg":"","id":"59f739ed-5491-4ec7-8788-b0c72a379074","compareOperator":"empty"}]},{"level":2,"logicalOperator":"and","id":"branch_one_of::71f7a4c5-42ee-4729-bbac-fac23e5d86f6","conditions":[{"leftVarIndex":"08710317-da11-4399-b955-03a744aafcfd","rightVarIndex":"3a7d9495-e869-4b73-98fa-65a670c38279","compareOperatorErrMsg":"","id":"b7c417a8-5662-49a8-97b3-4d040d639bd5","compareOperator":"not_empty"},{"leftVarIndex":"3b642a65-8fac-4c9c-aafb-a2d81754b664","rightVarIndex":"5b201a48-c6a4-4cc0-a1da-c16cbedc5962","compareOperatorErrMsg":"","id":"e2ed41fc-0559-425f-8f33-7713601fa4ef","compareOperator":"not_empty"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::5204a1b7-5a41-4d47-9a99-0157ab513518","conditions":[]}],"appId":"680ab54f"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","label":"images","type":"string","value":"images","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":608,"id":"if-else::04d66814-63eb-489a-a891-229894f3e6f1","position":{"x":3090.559866048656,"y":-702.3173747101796},"positionAbsolute":{"x":3090.559866048656,"y":-702.3173747101796},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"f1facd98-359a-4f75-be39-08cfa1e99f03","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4163d667-5490-47f7-a02b-4dd2301eddd4","nodeId":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1"},"contentErrMsg":"","type":"ref"}}}],"label":"文本处理节点_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"mode":1,"uid":"8266642942","separatorErrMsg":"","appId":"680ab54f","prompt":"","separator":"\\n"},"outputs":[{"id":"07737d35-933a-42ac-9977-c3c9c90e55a7","name":"output","nameErrMsg":"","schema":{"type":"array-string"}}],"references":[{"label":"Agent智能决策_3","value":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","children":[{"label":"","value":"","references":[{"id":"7f9a58d8-98e0-4061-b8e3-328d6c33cf47","originId":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","label":"REASONING_CONTENT","value":"REASONING_CONTENT","type":"string","fileType":""},{"id":"4163d667-5490-47f7-a02b-4dd2301eddd4","originId":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","label":"images","type":"string","value":"images","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":462,"id":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066","position":{"x":5069.73831030859,"y":-429.238275217624},"positionAbsolute":{"x":5069.73831030859,"y":-429.238275217624},"selected":false,"type":"文本拼接","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"bec32c2d-62a8-4b7e-b10c-0152c0f6d940","name":"input","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"output","id":"07737d35-933a-42ac-9977-c3c9c90e55a7","nodeId":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你作为一个招投标业务的推荐官，请合理的根据招投标法并且里面的格式按照文字的形式输出，并且要深度理解用户的意图问题：{{input}}}，实例如下：\\n项目名称：\\n发布日期：\\n招标类型：\\n公告类型：\\n招标单位：\\n招标代理单位：\\n招标代理电话：\\n项目地址：\\n估算价：\\n主要工程内容：\\n工期：\\n投标人资格要求：\\n招标人地址：\\n招标代理地址：\\n招标人联系人：\\n招标人联系人电话：\\n招标代理联系人：\\n招标代理联系人电话：\\n中标人：\\n中标人联系方式：\\n原文地址：\\n附件：\\n## 限制\\n- 只处理与招标投标相关的文本内容，拒绝回答与招标投标无关的话题。\\n- 所有输出内容必须按照给定的列表格式进行组织，不能偏离框架要求。\\n- 处理文本时，需确保信息的准确性和完整性，避免误导用户。\\n- 如果用户闲聊的那么直接回答：我是智慧招标投标助手，请提问招标相关的问题。\\n以上的方式回答不要以json形式输出，用户的问题是：{{input}}","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"8266642942","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"680ab54f","maxTokens":2048,"temperature":0.5,"systemTemplate":"``````markdown\\n## 角色\\n你是一个智慧智能招标投标项目智能体，能够根据文本内容进行高效处理，并以列表形式输出结果，帮助用户在招标投标过程中更好地组织和展示信息。\\n\\n## 技能\\n1. 文本处理与列表生成：\\n  - 根据用户提供的文本内容，进行智能分析和处理，提取关键信息。\\n  - 将处理后的信息以清晰的列表形式呈现，便于用户快速浏览和理解。\\n  - 支持多种文本格式的输入，包括纯文本、表格等，确保信息准确无误地转化为列表。\\n  - 提供自定义列表样式的选项，满足用户不同的展示需求。\\n2. 招标投标辅助：\\n  - 针对招标投标场景，提供专业的文本处理服务，如提取项目要求、投标条件等关键信息。\\n  - 自动识别并整理文本中的时间节点、金额、联系方式等重要数据，以列表形式清晰呈现。\\n  - 提供文本内容的逻辑校验，确保信息的完整性和准确性，避免遗漏或错误。\\n  - 根据用户需求，可生成符合特定格式要求的列表，如PDF、Excel等，方便用户进一步使用。\\n\\n## 限制\\n- 只处理与招标投标相关的文本内容，拒绝回答与招标投标无关的话题。\\n- 所有输出内容必须按照给定的列表格式进行组织，不能偏离框架要求。\\n- 处理文本时，需确保信息的准确性和完整性，避免误导用户。\\n``````","model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"d4107083-b100-4128-9a6b-4b5041add52f","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066","id":"07737d35-933a-42ac-9977-c3c9c90e55a7","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066"},{"label":"Agent智能决策_3","value":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","children":[{"label":"","value":"","references":[{"id":"7f9a58d8-98e0-4061-b8e3-328d6c33cf47","originId":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","label":"REASONING_CONTENT","value":"REASONING_CONTENT","type":"string","fileType":""},{"id":"4163d667-5490-47f7-a02b-4dd2301eddd4","originId":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"d8741dc0-0fe1-4ac7-81ab-940e74b3fbcf","label":"images","type":"string","value":"images","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1632,"id":"spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83","position":{"x":5924.071528373387,"y":-1005.4088140211026},"positionAbsolute":{"x":5924.071528373387,"y":-1005.4088140211026},"selected":false,"type":"大模型","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-if-else::04d66814-63eb-489a-a891-229894f3e6f1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"if-else::04d66814-63eb-489a-a891-229894f3e6f1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::04d66814-63eb-489a-a891-229894f3e6f1branch_one_of::2c75ca2d-2f50-4d6b-8cbf-529eb33bbc21-agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::04d66814-63eb-489a-a891-229894f3e6f1","sourceHandle":"branch_one_of::2c75ca2d-2f50-4d6b-8cbf-529eb33bbc21","target":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::04d66814-63eb-489a-a891-229894f3e6f1branch_one_of::71f7a4c5-42ee-4729-bbac-fac23e5d86f6-agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::04d66814-63eb-489a-a891-229894f3e6f1","sourceHandle":"branch_one_of::71f7a4c5-42ee-4729-bbac-fac23e5d86f6","target":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1-text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","target":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066-spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::a86278e1-96de-408e-87ad-d6b6f46dd066","target":"spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::c8aade2f-42b0-4446-926e-f30c14c62f83","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::04d66814-63eb-489a-a891-229894f3e6f1branch_one_of::5204a1b7-5a41-4d47-9a99-0157ab513518-agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::04d66814-63eb-489a-a891-229894f3e6f1","sourceHandle":"branch_one_of::5204a1b7-5a41-4d47-9a99-0157ab513518","target":"agent::ef90ea7b-c8bb-4c5a-b80a-cb7eb0a368d1","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["帮我推荐一个招标项目","请解析以下图片然后进行推荐一个招标项目","最近有啥推荐的招标项目么"],"prologueText":"你好，我是你的招标投标信息搜索助手！\\n我可以：\\n1、输入文字，搜索相关招投标信息\\n2、上传图片并输入文字，搜索相关招投标信息\\n2、推荐招标项目"},"needGuide":false,"suggestedQuestionsAfterAnswer":{"enabled":true},"speechToText":{"enabled":true},"feedback":{"enabled":true},"textToSpeech":{"enabled":true},"chatBackground":{"enabled":false}}', NULL, 10, NULL, NULL);
